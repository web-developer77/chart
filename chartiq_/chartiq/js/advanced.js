/**
 *	8.2.0
 *	Generation date: 2021-03-01T14:52:45.664Z
 *	Client name: feel option
 *	Package Type: Technical Analysis 8.2
 *	License type: trial
 *	Expiration date: "2021/04/01"
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
L6EE[9488]=(function(){var d=2;for(;d !== 9;){switch(d){case 3:return M;break;case 2:d=typeof globalThis === '\x6f\u0062\u006a\x65\x63\u0074'?1:5;break;case 1:return globalThis;break;case 5:var M;try{var y=2;for(;y !== 6;){switch(y){case 2:Object['\u0064\x65\u0066\x69\u006e\x65\x50\u0072\x6f\u0070\x65\x72\x74\x79'](Object['\x70\u0072\x6f\x74\u006f\x74\u0079\u0070\x65'],'\x4f\u0042\u0035\x6f\u006e',{'\x67\x65\x74':function(){var Q=2;for(;Q !== 1;){switch(Q){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});M=OB5on;M['\u0069\u0065\x6a\x71\x31']=M;y=4;break;case 4:y=typeof iejq1 === '\u0075\x6e\x64\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";y=9;break;case 9:delete M['\u0069\u0065\u006a\x71\x31'];var W=Object['\u0070\u0072\u006f\x74\x6f\x74\x79\u0070\x65'];delete W['\x4f\x42\u0035\x6f\x6e'];y=6;break;}}}catch(R){M=window;}d=3;break;}}})();L6EE[46997]=b1HH(L6EE[9488]);L6EE[613424]=B0gg(L6EE[9488]);L6EE[228062]="JEo";L6EE.f5H=function(){return typeof L6EE[454865].B5H === 'function'?L6EE[454865].B5H.apply(L6EE[454865],arguments):L6EE[454865].B5H;};function b1HH(W2P){function h2P(U2P){var j2P=2;for(;j2P !== 5;){switch(j2P){case 2:var y2P=[arguments];return y2P[0][0].String;break;}}}var n2P=2;for(;n2P !== 11;){switch(n2P){case 12:v2P(h2P,"charCodeAt",K2P[8],K2P[7]);n2P=11;break;case 6:K2P[7]+=K2P[6];K2P[7]+=K2P[9];n2P=13;break;case 2:var K2P=[arguments];K2P[6]="";K2P[9]="HH";K2P[6]="1";n2P=3;break;case 3:K2P[3]="j";K2P[8]=3;K2P[8]=1;K2P[7]=K2P[3];n2P=6;break;case 13:var v2P=function(G2P,B2P,P2P,V2P){var C2P=2;for(;C2P !== 5;){switch(C2P){case 2:var Z2P=[arguments];Y2P(K2P[0][0],Z2P[0][0],Z2P[0][1],Z2P[0][2],Z2P[0][3]);C2P=5;break;}}};n2P=12;break;}}function Y2P(a2P,L2P,R2P,r2P,H2P){var q2P=2;for(;q2P !== 7;){switch(q2P){case 2:var i2P=[arguments];i2P[3]="rty";i2P[7]="";i2P[7]="efinePrope";q2P=3;break;case 3:i2P[9]="d";i2P[5]=7;try{var J2P=2;for(;J2P !== 8;){switch(J2P){case 4:i2P[6].value=i2P[4][i2P[0][2]];try{var e2P=2;for(;e2P !== 3;){switch(e2P){case 2:i2P[1]=i2P[9];i2P[1]+=i2P[7];i2P[1]+=i2P[3];i2P[0][0].Object[i2P[1]](i2P[4],i2P[0][4],i2P[6]);e2P=3;break;}}}catch(D2P){}i2P[4][i2P[0][4]]=i2P[6].value;J2P=8;break;case 5:i2P[4]=[i2P[5],i2P[2].prototype][i2P[0][3]];J2P=4;break;case 2:i2P[6]={};i2P[2]=(1,i2P[0][1])(i2P[0][0]);J2P=5;break;}}}catch(N2P){}q2P=7;break;}}}}L6EE[9488].u4HH=L6EE;L6EE[96613]=(function(){var x8L=2;for(;x8L !== 9;){switch(x8L){case 2:var q8L=[arguments];q8L[7]=undefined;q8L[2]={};q8L[2].E6z=function(){var M8L=2;for(;M8L !== 90;){switch(M8L){case 68:M8L=29?68:67;break;case 45:s8L[9].J1gg(s8L[55]);s8L[35]=[];M8L=64;break;case 70:s8L[84]++;M8L=57;break;case 4:s8L[9]=[];s8L[1]={};s8L[1].v4H=['u4H'];s8L[1].X4H=function(){var U8z=typeof l1gg === 'function';return U8z;};M8L=7;break;case 77:s8L[14]=0;M8L=76;break;case 56:s8L[59]=s8L[9][s8L[84]];try{s8L[94]=s8L[59][s8L[99]]()?s8L[40]:s8L[60];}catch(g8z){s8L[94]=s8L[60];}M8L=77;break;case 64:s8L[40]='t5H';s8L[60]='d5H';s8L[36]='v4H';s8L[67]='Y4H';s8L[99]='X4H';M8L=59;break;case 49:s8L[9].J1gg(s8L[78]);s8L[9].J1gg(s8L[7]);s8L[9].J1gg(s8L[92]);s8L[9].J1gg(s8L[5]);M8L=45;break;case 69:M8L=(function(U8L){var O8L=2;for(;O8L !== 22;){switch(O8L){case 17:W8L[4]=0;O8L=16;break;case 2:var W8L=[arguments];O8L=1;break;case 18:W8L[2]=false;O8L=17;break;case 15:W8L[5]=W8L[9][W8L[4]];W8L[7]=W8L[1][W8L[5]].h / W8L[1][W8L[5]].t;O8L=26;break;case 11:W8L[1][W8L[6][s8L[13]]].t+=true;O8L=10;break;case 1:O8L=W8L[0][0].length === 0?5:4;break;case 19:W8L[4]++;O8L=7;break;case 20:W8L[1][W8L[6][s8L[13]]].h+=true;O8L=19;break;case 26:O8L=W8L[7] >= 0.5?25:24;break;case 6:W8L[6]=W8L[0][0][W8L[4]];O8L=14;break;case 12:W8L[9].J1gg(W8L[6][s8L[13]]);O8L=11;break;case 10:O8L=W8L[6][s8L[67]] === s8L[40]?20:19;break;case 7:O8L=W8L[4] < W8L[0][0].length?6:18;break;case 24:W8L[4]++;O8L=16;break;case 4:W8L[1]={};W8L[9]=[];W8L[4]=0;O8L=8;break;case 14:O8L=typeof W8L[1][W8L[6][s8L[13]]] === 'undefined'?13:11;break;case 13:W8L[1][W8L[6][s8L[13]]]=(function(){var N8L=2;for(;N8L !== 9;){switch(N8L){case 3:return o8L[6];break;case 2:var o8L=[arguments];o8L[6]={};o8L[6].h=0;o8L[6].t=0;N8L=3;break;}}}).m1gg(this,arguments);O8L=12;break;case 25:W8L[2]=true;O8L=24;break;case 16:O8L=W8L[4] < W8L[9].length?15:23;break;case 8:W8L[4]=0;O8L=7;break;case 5:return;break;case 23:return W8L[2];break;}}})(s8L[35])?68:67;break;case 44:s8L[78]=s8L[15];s8L[70]={};s8L[70].v4H=['C4H'];M8L=41;break;case 36:s8L[55]=s8L[52];s8L[9].J1gg(s8L[4]);s8L[9].J1gg(s8L[62]);s8L[9].J1gg(s8L[76]);s8L[9].J1gg(s8L[88]);s8L[9].J1gg(s8L[2]);M8L=49;break;case 75:s8L[98]={};s8L[98][s8L[13]]=s8L[59][s8L[36]][s8L[14]];s8L[98][s8L[67]]=s8L[94];s8L[35].J1gg(s8L[98]);M8L=71;break;case 58:s8L[84]=0;M8L=57;break;case 5:return 47;break;case 59:s8L[13]='U4H';M8L=58;break;case 76:M8L=s8L[14] < s8L[59][s8L[36]].length?75:70;break;case 21:s8L[49].X4H=function(){var f8z=false;var Y8z=[];try{for(var D8z in console){Y8z.J1gg(D8z);}f8z=Y8z.length === 0;}catch(V8z){}var s8z=f8z;return s8z;};s8L[92]=s8L[49];s8L[16]={};M8L=33;break;case 1:M8L=q8L[7]?5:4;break;case 17:s8L[6].v4H=['C4H'];s8L[6].X4H=function(){var q8z=function(){return ('aaaa').padEnd(5,'a');};var A8z=(/\x61\x61\u0061\x61\x61/).S1gg(q8z + []);return A8z;};s8L[2]=s8L[6];M8L=27;break;case 27:s8L[72]={};s8L[72].v4H=['C4H'];M8L=25;break;case 71:s8L[14]++;M8L=76;break;case 57:M8L=s8L[84] < s8L[9].length?56:69;break;case 2:var s8L=[arguments];M8L=1;break;case 25:s8L[72].X4H=function(){var j8z=function(){return ['a','a'].join();};var x8z=!(/(\x5b|\x5d)/).S1gg(j8z + []);return x8z;};s8L[76]=s8L[72];s8L[49]={};s8L[49].v4H=['u4H'];M8L=21;break;case 33:s8L[16].v4H=['C4H'];s8L[16].X4H=function(){var N8z=function(){return unescape('%3D');};var d8z=(/\x3d/).S1gg(N8z + []);return d8z;};s8L[88]=s8L[16];s8L[15]={};s8L[15].v4H=['C4H'];s8L[15].X4H=function(){var G8z=function(){return ('a').anchor('b');};var k8z=(/(\x3c|\x3e)/).S1gg(G8z + []);return k8z;};M8L=44;break;case 67:q8L[7]=63;return 95;break;case 7:s8L[5]=s8L[1];s8L[3]={};s8L[3].v4H=['u4H'];s8L[3].X4H=function(){var i8z=typeof Z1gg === 'function';return i8z;};M8L=12;break;case 12:s8L[4]=s8L[3];s8L[8]={};s8L[8].v4H=['u4H'];s8L[8].X4H=function(){var H8z=typeof o1gg === 'function';return H8z;};s8L[7]=s8L[8];s8L[6]={};M8L=17;break;case 41:s8L[70].X4H=function(){var W8z=function(){return ('a|a').split('|');};var O8z=!(/\u007c/).S1gg(W8z + []);return O8z;};s8L[62]=s8L[70];s8L[52]={};s8L[52].v4H=['C4H'];s8L[52].X4H=function(){var r8z=function(){return ('x').toUpperCase();};var T8z=(/\x58/).S1gg(r8z + []);return T8z;};M8L=36;break;}}};return q8L[2];break;}}})();L6EE[454865]=(function(D5H){return {B5H:function(){var A5H,G5H=arguments;switch(D5H){case 67:A5H=G5H[1] / G5H[3] - G5H[0] + G5H[2];break;case 106:A5H=G5H[2] + G5H[4] - G5H[0] + G5H[1] - G5H[3];break;case 88:A5H=G5H[4] * (G5H[1] * G5H[0] + G5H[3]) / G5H[2];break;case 165:A5H=G5H[1] - G5H[2] + (G5H[0] << G5H[3]);break;case 130:A5H=(G5H[3] + G5H[4]) / G5H[1] + G5H[0] - G5H[2];break;case 87:A5H=G5H[1] * (G5H[3] + G5H[2]) / G5H[0];break;case 111:A5H=(G5H[2] + G5H[0]) * G5H[1];break;case 120:A5H=(G5H[1] + G5H[4]) / G5H[2] - G5H[0] + G5H[3];break;case 152:A5H=G5H[0] / (G5H[1] * G5H[2]) <= G5H[3];break;case 7:A5H=G5H[2] + G5H[3] - G5H[1] - G5H[0];break;case 49:A5H=G5H[2] / G5H[0] - G5H[1];break;case 66:A5H=(G5H[0] - G5H[1]) / (G5H[2] - G5H[3]);break;case 143:A5H=G5H[1] * (G5H[0] / G5H[2] - +G5H[3]);break;case 21:A5H=(G5H[0] * G5H[2] + G5H[1]) * G5H[4] - G5H[3];break;case 61:A5H=G5H[2] * G5H[1] + G5H[0];break;case 127:A5H=-G5H[4] * G5H[0] - G5H[1] + G5H[3] + G5H[2];break;case 139:A5H=G5H[2] + G5H[1] + G5H[4] - G5H[3] - G5H[0];break;case 86:A5H=G5H[2] / G5H[3] / G5H[1] - G5H[0];break;case 179:A5H=G5H[0] + (G5H[3] / G5H[4] - G5H[1] / G5H[2]);break;case 50:A5H=G5H[0] - G5H[2] / +G5H[1];break;case 33:A5H=(G5H[0] - G5H[2]) * G5H[3] * G5H[1] + G5H[4];break;case 158:A5H=(G5H[0] + G5H[2]) * G5H[1] / G5H[4] + G5H[3];break;case 102:A5H=(G5H[1] + G5H[3] * G5H[2]) / G5H[0];break;case 30:A5H=G5H[1] ^ G5H[0];break;case 99:A5H=G5H[0] + (G5H[1] >> G5H[2]);break;case 57:A5H=(-G5H[0] - G5H[1]) / G5H[3] + G5H[4] + G5H[2];break;case 94:A5H=(G5H[4] + G5H[2]) * G5H[0] * G5H[3] - G5H[1];break;case 138:A5H=G5H[2] / G5H[3] + G5H[4] - G5H[1] - G5H[0];break;case 153:A5H=G5H[0] > G5H[1];break;case 37:A5H=-G5H[0] + G5H[1] + G5H[2];break;case 91:A5H=G5H[2] + G5H[0] + G5H[1];break;case 22:A5H=G5H[2] / G5H[0] + G5H[1];break;case 131:A5H=G5H[2] - G5H[0] + G5H[1] - G5H[3];break;case 60:A5H=-G5H[3] / G5H[2] - G5H[0] + G5H[1];break;case 84:A5H=G5H[3] - G5H[1] * (G5H[0] - G5H[2]);break;case 5:A5H=(G5H[2] + G5H[0]) / (G5H[3] ^ G5H[1]);break;case 177:A5H=G5H[0] + G5H[1] / G5H[2] + G5H[3];break;case 3:A5H=(-G5H[0] + G5H[2]) / G5H[1] + G5H[3];break;case 157:A5H=G5H[1] / G5H[3] * G5H[2] + G5H[0];break;case 40:A5H=-G5H[1] + G5H[0];break;case 155:A5H=G5H[1] / G5H[2] / G5H[3] + G5H[0];break;case 103:A5H=(G5H[3] + G5H[1] * G5H[4]) / (G5H[0] ^ G5H[2]);break;case 137:A5H=G5H[1] * G5H[2] / (G5H[0] + G5H[3]);break;case 147:A5H=(-G5H[1] + G5H[4]) / G5H[2] * G5H[0] - G5H[3];break;case 123:A5H=G5H[2] * G5H[5] * G5H[6] + (G5H[0] - G5H[4] * G5H[3]) * G5H[1];break;case 82:A5H=(G5H[1] & G5H[2]) / G5H[0];break;case 100:A5H=(G5H[3] * G5H[0] + G5H[2]) / G5H[1];break;case 113:A5H=G5H[1] + G5H[2] + G5H[0] + G5H[3];break;case 149:A5H=G5H[2] / G5H[3] * G5H[0] - G5H[1];break;case 15:A5H=G5H[0] << G5H[1];break;case 146:A5H=(G5H[3] - G5H[4]) / G5H[1] * G5H[0] - G5H[2];break;case 126:A5H=G5H[2] / G5H[1] - (G5H[0] ^ G5H[3]);break;case 24:A5H=(G5H[2] - G5H[0] + G5H[1]) * G5H[3] - G5H[4];break;case 108:A5H=G5H[4] + G5H[1] + G5H[5] + G5H[6] + G5H[7] + G5H[0] + G5H[2] + G5H[3];break;case 96:A5H=(G5H[3] - G5H[0]) * G5H[2] + G5H[1];break;case 26:A5H=G5H[1] - G5H[2] * G5H[0];break;case 160:A5H=-G5H[0] - G5H[1] + G5H[2];break;case 162:A5H=G5H[0] * G5H[1] * G5H[2] / G5H[3] + G5H[4];break;case 142:A5H=(-G5H[2] - G5H[4]) * G5H[0] + G5H[1] + G5H[3];break;case 148:A5H=(-G5H[0] * G5H[2] - G5H[4]) / G5H[1] + G5H[3];break;case 59:A5H=(G5H[1] - G5H[4]) / (G5H[3] - G5H[0]) > G5H[2];break;case 54:A5H=G5H[3] - G5H[1] - G5H[2] + G5H[0];break;case 95:A5H=-(G5H[0] - G5H[2]) * G5H[1] + G5H[3];break;case 128:A5H=-G5H[2] / G5H[1] + G5H[0];break;case 58:A5H=G5H[2] * G5H[0] - G5H[1];break;case 170:A5H=G5H[3] - G5H[0] / (G5H[2] + G5H[1] / G5H[4]);break;case 150:A5H=(G5H[3] + G5H[4]) * G5H[0] + G5H[2] + G5H[1];break;case 64:A5H=G5H[2] * G5H[0] * G5H[1] - G5H[3];break;case 4:A5H=G5H[1] + G5H[0];break;case 12:A5H=G5H[2] + G5H[3] - G5H[0] + G5H[1];break;case 173:A5H=G5H[1] - G5H[3] * G5H[0] - G5H[2];break;case 134:A5H=(-G5H[4] - G5H[3]) / G5H[1] - G5H[0] - G5H[2];break;case 31:A5H=G5H[1] - (G5H[2] - G5H[0]);break;case 176:A5H=G5H[0] == G5H[1];break;case 32:A5H=(G5H[2] - G5H[1]) / G5H[0];break;case 101:A5H=(+G5H[0] * G5H[3] + G5H[1]) / G5H[2];break;case 135:A5H=G5H[0] + (G5H[1] & G5H[2]);break;case 81:A5H=G5H[1] / (G5H[2] & G5H[0]);break;case 151:A5H=(G5H[2] % G5H[3] + G5H[0]) * G5H[1];break;case 16:A5H=-G5H[4] / G5H[1] / G5H[3] - G5H[2] + G5H[0];break;case 93:A5H=G5H[1] + G5H[0] * G5H[2];break;case 145:A5H=G5H[0] - G5H[3] - G5H[4] - G5H[2] + G5H[1];break;case 44:A5H=G5H[2] * G5H[3] - G5H[1] - G5H[0];break;case 154:A5H=G5H[2] * (G5H[1] + +G5H[0]);break;case 13:A5H=G5H[0] / G5H[1];break;case 1:A5H=G5H[0] * G5H[1];break;case 161:A5H=G5H[3] - G5H[1] / (G5H[2] + G5H[0]);break;case 79:A5H=(G5H[0] - G5H[1]) / G5H[2] - G5H[4] + G5H[3];break;case 25:A5H=G5H[2] + +G5H[1] * G5H[0];break;case 116:A5H=-G5H[4] * G5H[1] * G5H[3] * G5H[2] + G5H[0];break;case 175:A5H=G5H[2] + G5H[1] * G5H[0] + G5H[3];break;case 85:A5H=(G5H[0] * G5H[1] - G5H[3]) / G5H[2] - G5H[4];break;case 172:A5H=G5H[4] * (G5H[0] / G5H[1] - (G5H[2] << G5H[3]));break;case 141:A5H=(G5H[0] ^ G5H[2]) - G5H[4] / (G5H[3] + G5H[1] / G5H[5]);break;case 110:A5H=G5H[0] % G5H[2] + G5H[1];break;case 178:A5H=+G5H[0] * G5H[2] / (G5H[1] + G5H[3]);break;case 28:A5H=G5H[2] * G5H[0] / G5H[3] - G5H[1];break;case 118:A5H=(G5H[0] + G5H[1]) / G5H[4] * G5H[2] - G5H[3];break;case 129:A5H=-G5H[2] + G5H[0] - G5H[1];break;case 29:A5H=G5H[0] & G5H[1];break;case 20:A5H=-G5H[2] * G5H[1] * G5H[0] + G5H[3];break;case 69:A5H=(-G5H[4] / G5H[3] - G5H[0]) / G5H[2] + G5H[1];break;case 98:A5H=G5H[4] + (G5H[5] - G5H[3]) / (G5H[0] - G5H[6]) * (G5H[1] - G5H[2]);break;case 167:A5H=-G5H[3] / G5H[2] / G5H[1] + G5H[0];break;case 51:A5H=G5H[2] + G5H[1] / G5H[0];break;case 90:A5H=(G5H[3] - G5H[2] * G5H[0]) / G5H[1];break;case 163:A5H=-G5H[2] * G5H[3] * G5H[1] + G5H[4] + G5H[0];break;case 0:A5H=G5H[0] - G5H[1];break;case 6:A5H=G5H[2] + G5H[0] - G5H[1];break;case 97:A5H=G5H[0] / G5H[3] + G5H[1] - G5H[2];break;case 63:A5H=G5H[0] * G5H[3] / G5H[4] / G5H[2] - G5H[1];break;case 68:A5H=-G5H[0] + G5H[3] + G5H[2] - G5H[1];break;case 48:A5H=G5H[2] + G5H[0] + G5H[3] - G5H[1];break;case 168:A5H=(-G5H[1] - G5H[2]) / G5H[3] + G5H[0];break;case 65:A5H=G5H[1] < G5H[0];break;case 52:A5H=G5H[0] * G5H[2] * G5H[1];break;case 75:A5H=(G5H[3] * G5H[4] + G5H[0]) / G5H[2] + G5H[1];break;case 136:A5H=(G5H[1] * G5H[4] - G5H[0]) * G5H[3] - G5H[2];break;case 112:A5H=(G5H[3] - (G5H[1] + +G5H[2])) / (G5H[0] >> G5H[4]);break;case 122:A5H=G5H[1] - (G5H[0] | G5H[2]);break;case 171:A5H=G5H[0] * -G5H[1];break;case 11:A5H=G5H[3] - G5H[0] + G5H[1] + G5H[2];break;case 180:A5H=(G5H[3] - G5H[1] - G5H[4]) * G5H[0] + G5H[2];break;case 70:A5H=G5H[2] * G5H[0] + G5H[1] + G5H[3] - G5H[4];break;case 72:A5H=G5H[3] / G5H[1] / G5H[2] - G5H[4] + G5H[0];break;case 156:A5H=G5H[0] - G5H[1] - G5H[3] - G5H[2];break;case 27:A5H=(G5H[0] - G5H[2] - G5H[4]) / G5H[1] + G5H[3];break;case 55:A5H=G5H[0] * G5H[2] + G5H[1] - G5H[3];break;case 9:A5H=(G5H[2] + G5H[0]) / +G5H[1];break;case 41:A5H=G5H[2] - G5H[4] + G5H[0] + G5H[1] - G5H[3];break;case 38:A5H=(G5H[1] - G5H[3]) / G5H[0] + G5H[2];break;case 56:A5H=(G5H[1] - G5H[3] + G5H[2]) / G5H[4] + G5H[0];break;case 83:A5H=G5H[2] + (G5H[3] - G5H[1]) / G5H[0];break;case 45:A5H=G5H[1] >> G5H[0];break;case 39:A5H=G5H[2] + G5H[1] + G5H[0] + G5H[3] - G5H[4];break;case 121:A5H=(-G5H[2] + G5H[1] - G5H[3]) / G5H[4] + G5H[0];break;case 169:A5H=G5H[3] + (G5H[2] - G5H[1]) * G5H[0];break;case 159:A5H=(G5H[0] - G5H[2]) / G5H[1] + G5H[4] + G5H[3];break;case 114:A5H=(-G5H[3] - G5H[0]) * G5H[1] + G5H[2];break;case 144:A5H=G5H[2] + G5H[1] * (G5H[3] - G5H[0]);break;case 34:A5H=(G5H[4] - G5H[0]) * G5H[1] + G5H[3] + G5H[2];break;case 73:A5H=(G5H[0] | G5H[1]) / G5H[2];break;case 89:A5H=(G5H[5] * G5H[4] - G5H[2] * G5H[0]) / (G5H[3] * G5H[1] - G5H[6]);break;case 10:A5H=G5H[0] - G5H[2] + G5H[1];break;case 117:A5H=G5H[0] * G5H[2] / G5H[1];break;case 80:A5H=+G5H[1] / G5H[0];break;case 46:A5H=(G5H[3] + G5H[0]) * G5H[4] + G5H[2] - G5H[1];break;case 2:A5H=-G5H[1] * G5H[0] * G5H[4] / G5H[2] + G5H[3];break;case 17:A5H=G5H[0] - G5H[1] - G5H[2];break;case 47:A5H=-G5H[0] * G5H[2] - G5H[1] + G5H[3];break;case 42:A5H=G5H[1] * G5H[2] < G5H[0];break;case 109:A5H=G5H[0] + (G5H[2] ^ G5H[1]);break;case 92:A5H=(G5H[1] - G5H[0]) * G5H[3] - G5H[2];break;case 14:A5H=-G5H[1] - G5H[4] - G5H[0] + G5H[3] + G5H[2];break;case 124:A5H=G5H[2] / G5H[3] - G5H[0] - G5H[1];break;case 105:A5H=G5H[2] * G5H[1] / G5H[0] + G5H[3];break;case 166:A5H=-G5H[4] * G5H[1] / G5H[0] + G5H[2] + G5H[3];break;case 133:A5H=(G5H[1] + G5H[2]) / G5H[4] * G5H[3] + G5H[0];break;case 174:A5H=G5H[1] + G5H[3] * +G5H[2] + G5H[0];break;case 164:A5H=(G5H[1] - G5H[2]) * G5H[0] - G5H[4] + G5H[3];break;case 74:A5H=(G5H[2] - G5H[6]) * (G5H[5] - G5H[0]) / (G5H[1] - G5H[3]) + G5H[4];break;case 23:A5H=G5H[1] | G5H[0];break;case 76:A5H=-G5H[1] / G5H[0] * G5H[3] * G5H[4] + G5H[2];break;case 115:A5H=(G5H[0] + G5H[1]) * G5H[3] - G5H[2];break;case 104:A5H=-G5H[2] - G5H[1] + G5H[0] + G5H[3];break;case 8:A5H=(G5H[1] + G5H[2]) / G5H[0];break;case 71:A5H=G5H[2] * G5H[1] * G5H[4] * G5H[0] - G5H[3];break;case 119:A5H=G5H[4] * G5H[1] * G5H[2] + G5H[3] - G5H[0];break;case 36:A5H=(G5H[2] + G5H[3]) / G5H[0] - G5H[1];break;case 53:A5H=G5H[1] - G5H[2] / G5H[0];break;case 62:A5H=G5H[2] * G5H[1] / G5H[0] * G5H[3] - G5H[4];break;case 35:A5H=(G5H[3] + G5H[2] - G5H[0]) / G5H[4] + G5H[1];break;case 18:A5H=(G5H[2] + G5H[0] + G5H[4] + G5H[1]) / G5H[3];break;case 77:A5H=-G5H[2] / G5H[0] - G5H[3] + G5H[1] + G5H[4];break;case 125:A5H=-G5H[0] * G5H[2] + G5H[1];break;case 132:A5H=G5H[0] / G5H[3] / G5H[1] / G5H[4] + G5H[2];break;case 78:A5H=(-G5H[0] + G5H[2]) * G5H[3] + G5H[1];break;case 107:A5H=(G5H[4] + G5H[3]) * G5H[0] / G5H[2] - G5H[1];break;case 19:A5H=G5H[1] - +G5H[0];break;case 140:A5H=-G5H[2] / G5H[0] * G5H[3] + G5H[1];break;case 43:A5H=G5H[1] + (G5H[0] - G5H[2]);break;}return A5H;},M5H:function(i5H){D5H=i5H;}};})();L6EE.F5H=function(){return typeof L6EE[454865].B5H === 'function'?L6EE[454865].B5H.apply(L6EE[454865],arguments):L6EE[454865].B5H;};L6EE.l8L=function(){return typeof L6EE[96613].E6z === 'function'?L6EE[96613].E6z.apply(L6EE[96613],arguments):L6EE[96613].E6z;};L6EE.T5H=function(){return typeof L6EE[454865].M5H === 'function'?L6EE[454865].M5H.apply(L6EE[454865],arguments):L6EE[454865].M5H;};L6EE.c2P=function(){return typeof L6EE[161756].k0P === 'function'?L6EE[161756].k0P.apply(L6EE[161756],arguments):L6EE[161756].k0P;};function B0gg(P8L){function G3L(w8L){var L8L=2;for(;L8L !== 5;){switch(L8L){case 2:var i8L=[arguments];return i8L[0][0].Function;break;}}}var r8L=2;for(;r8L !== 67;){switch(r8L){case 3:z5L[6]="";z5L[6]="du";z5L[9]="";z5L[9]="__resi";r8L=6;break;case 11:z5L[4]="mize";z5L[8]="";z5L[2]="Z";z5L[8]="ct";r8L=18;break;case 52:z5L[51]+=z5L[19];z5L[79]=z5L[32];z5L[79]+=z5L[20];z5L[79]+=z5L[84];r8L=48;break;case 55:z5L[18]+=z5L[84];z5L[76]=z5L[9];z5L[76]+=z5L[6];z5L[76]+=z5L[7];r8L=74;break;case 28:z5L[46]="1g";z5L[99]="";z5L[99]="m";z5L[81]=4;r8L=41;break;case 69:v3L(g3L,"push",z5L[81],z5L[51]);r8L=68;break;case 68:v3L(G3L,"apply",z5L[81],z5L[91]);r8L=67;break;case 71:v3L(D3L,z5L[74],z5L[43],z5L[49]);r8L=70;break;case 37:z5L[91]+=z5L[46];z5L[91]+=z5L[19];z5L[51]=z5L[56];z5L[51]+=z5L[19];r8L=52;break;case 74:var v3L=function(p8L,T8L,j8L,y8L){var A8L=2;for(;A8L !== 5;){switch(A8L){case 2:var J5L=[arguments];Z3L(z5L[0][0],J5L[0][0],J5L[0][1],J5L[0][2],J5L[0][3]);A8L=5;break;}}};r8L=73;break;case 27:z5L[17]="";z5L[17]="o";z5L[84]="";z5L[84]="";z5L[84]="gg";z5L[20]="";r8L=21;break;case 41:z5L[81]=1;z5L[43]=1;z5L[43]=0;z5L[91]=z5L[99];r8L=37;break;case 21:z5L[20]="";z5L[20]="1";z5L[32]="";z5L[32]="";r8L=32;break;case 48:z5L[49]=z5L[17];z5L[49]+=z5L[46];z5L[49]+=z5L[19];z5L[74]=z5L[63];r8L=65;break;case 72:v3L(D3L,z5L[53],z5L[43],z5L[92]);r8L=71;break;case 6:z5L[3]="";z5L[3]="l";z5L[5]="";z5L[5]="pti";r8L=11;break;case 32:z5L[32]="S";z5L[19]="g";z5L[56]="J1";z5L[46]="";r8L=28;break;case 73:v3L(D3L,z5L[76],z5L[43],z5L[18]);r8L=72;break;case 70:v3L(F3L,"test",z5L[81],z5L[79]);r8L=69;break;case 65:z5L[74]+=z5L[73];z5L[74]+=z5L[8];z5L[92]=z5L[2];z5L[92]+=z5L[20];z5L[92]+=z5L[84];z5L[53]=z5L[1];r8L=59;break;case 59:z5L[53]+=z5L[5];z5L[53]+=z5L[4];z5L[18]=z5L[3];z5L[18]+=z5L[20];r8L=55;break;case 2:var z5L=[arguments];z5L[7]="";z5L[7]="al";z5L[6]="";r8L=3;break;case 18:z5L[1]="__o";z5L[63]="";z5L[63]="__ab";z5L[73]="stra";r8L=27;break;}}function D3L(H8L){var n8L=2;for(;n8L !== 5;){switch(n8L){case 2:var S8L=[arguments];return S8L[0][0];break;}}}function g3L(e8L){var d8L=2;for(;d8L !== 5;){switch(d8L){case 2:var h8L=[arguments];return h8L[0][0].Array;break;}}}function F3L(m8L){var Q8L=2;for(;Q8L !== 5;){switch(Q8L){case 2:var u8L=[arguments];return u8L[0][0].RegExp;break;}}}function Z3L(Y8L,K8L,b8L,R8L,c8L){var f8L=2;for(;f8L !== 6;){switch(f8L){case 2:var B8L=[arguments];B8L[8]="operty";B8L[7]="";B8L[7]="";B8L[7]="efinePr";B8L[4]="";f8L=8;break;case 8:B8L[4]="d";try{var I8L=2;for(;I8L !== 8;){switch(I8L){case 5:B8L[1]=[B8L[2],B8L[2].prototype][B8L[0][3]];B8L[6].value=B8L[1][B8L[0][2]];try{var C8L=2;for(;C8L !== 3;){switch(C8L){case 4:B8L[0][0].Object[B8L[3]](B8L[1],B8L[0][4],B8L[6]);C8L=3;break;case 2:B8L[3]=B8L[4];B8L[3]+=B8L[7];B8L[3]+=B8L[8];C8L=4;break;}}}catch(Y5L){}B8L[1][B8L[0][4]]=B8L[6].value;I8L=8;break;case 2:B8L[6]={};B8L[2]=(1,B8L[0][1])(B8L[0][0]);I8L=5;break;}}}catch(K5L){}f8L=6;break;}}}}L6EE[161756]=(function(){var N0P=function(a1P,i1P){var h1P=i1P & 0xffff;var s1P=i1P - h1P;return (s1P * a1P | 0) + (h1P * a1P | 0) | 0;},G0P=function(l1P,g1P,K1P){var o1P=0xcc9e2d51,n1P=0x1b873593;var A1P=K1P;var W1P=g1P & ~0x3;for(var w1P=0;w1P < W1P;w1P+=4){var E1P=l1P.j1HH(w1P) & 0xff | (l1P.j1HH(w1P + 1) & 0xff) << 8 | (l1P.j1HH(w1P + 2) & 0xff) << 16 | (l1P.j1HH(w1P + 3) & 0xff) << 24;E1P=N0P(E1P,o1P);E1P=(E1P & 0x1ffff) << 15 | E1P >>> 17;E1P=N0P(E1P,n1P);A1P^=E1P;A1P=(A1P & 0x7ffff) << 13 | A1P >>> 19;A1P=A1P * 5 + 0xe6546b64 | 0;}E1P=0;switch(g1P % 4){case 3:E1P=(l1P.j1HH(W1P + 2) & 0xff) << 16;case 2:E1P|=(l1P.j1HH(W1P + 1) & 0xff) << 8;case 1:E1P|=l1P.j1HH(W1P) & 0xff;E1P=N0P(E1P,o1P);E1P=(E1P & 0x1ffff) << 15 | E1P >>> 17;E1P=N0P(E1P,n1P);A1P^=E1P;}A1P^=g1P;A1P^=A1P >>> 16;A1P=N0P(A1P,0x85ebca6b);A1P^=A1P >>> 13;A1P=N0P(A1P,0xc2b2ae35);A1P^=A1P >>> 16;return A1P;};return {k0P:G0P};})();L6EE.v4P=function(){return typeof L6EE[161756].k0P === 'function'?L6EE[161756].k0P.apply(L6EE[161756],arguments):L6EE[161756].k0P;};L6EE.P5H=function(){return typeof L6EE[454865].M5H === 'function'?L6EE[454865].M5H.apply(L6EE[454865],arguments):L6EE[454865].M5H;};L6EE[373141]=false;function L6EE(){}L6EE[592190]=L6EE[9488];L6EE.t8L=function(){return typeof L6EE[96613].E6z === 'function'?L6EE[96613].E6z.apply(L6EE[96613],arguments):L6EE[96613].E6z;};var c2S,H2S,E2S,o2S,r2S,S2S,W2S,b2S,u2S,K2S,T2S,V2S,Q2S,q2S,D2S,k2S,F2S,I2S,U2S,B2S,w2S,M2S,t2S,A2S,J2S,L2S,x2S,O2S,y2S,P2S,C2S,Y2S,N2S,d2S,v2S,X2S,f2S,h2S,G2S,n2S,e2S,l2S,s2S,j2S,g2S,z2S,p2S,a2S,m2S,Z2S,R2S,i6S,c6S,H6S,E6S,o6S,r6S,S6S,W6S,b6S,u6S,K6S,T6S,V6S,Q6S,q6S,D6S,k6S,w6S;import {CIQ as i2S, SplinePlotter as F6S, timezoneJS as I6S, $$ as U6S, $$$ as B6S} from "../js/standard.js";c2S=t6S=>{var j3P,M6S;j3P="un";j3P+="defined";M6S=typeof _CIQ !== j3P?_CIQ:t6S.CIQ;M6S.Renderer.Aggregations=function(J6S){var q3P,A6S;q3P="_ma";L6EE.l8L();q3P+="in_series";this.construct(J6S);A6S=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=!0;A6S.highlightable=![];if(A6S.name != q3P){console.warn("Aggregations are only allowed on main series.");A6S.invalid=! !"1";}};M6S.inheritsFrom(M6S.Renderer.Aggregations,M6S.Renderer.OHLC,![]);M6S.Renderer.Aggregations.requestNew=function(P6S,C6S){var b3P,L6S,e3P,J3P,O6S,y6S,Q0P,E0P,F0P;b3P="cand";b3P+="le";L6S=null;for(var x6S=0;x6S < P6S.length;x6S++){e3P="renk";e3P+="o";J3P="h";J3P+="ei";J3P+="kinash";J3P+="i";O6S=P6S[x6S];switch(O6S){case "kagi":case "pandf":L6S=O6S;break;case J3P:case "linebreak":case "rangebars":case e3P:L6S="candle";break;default:return null;}}if(L6S === null){return null;}y6S=new M6S.Renderer[L6S == b3P?"OHLC":"Aggregations"]({params:M6S.extend(C6S,{type:L6S})});L6EE.t8L();y6S.isAggregation=! ![];Q0P=-1925314798;E0P=-710435451;F0P=2;for(var f0P=1;L6EE.c2P(f0P.toString(),f0P.toString().length,95194) !== Q0P;f0P++){return y6S;}if(L6EE.c2P(F0P.toString(),F0P.toString().length,22288) !== E0P){return y6S;}};M6S.Renderer.Aggregations.prototype.drawIndividualSeries=function(v6S,N6S){var Y6S,d6S,u8P,m8P,T8P,c3P,M1P,v1P;if(N6S.invalid){return;}Y6S=this.stx;L6EE.l8L();d6S={colors:[]};if(N6S.type == "kagi"){Y6S.drawKagiSquareWave(v6S.panel,"stx_kagi_up","stx_kagi_down",N6S);u8P=328818006;m8P=-1304684932;T8P=2;for(var K8P=+"1";L6EE.c2P(K8P.toString(),K8P.toString().length,15460) !== u8P;K8P++){d6S.colors.push(Y6S.getCanvasColor("stx_kagi_up"));d6S.colors.push(Y6S.getCanvasColor("stx_kagi_down"));T8P+=+"2";}if(L6EE.v4P(T8P.toString(),T8P.toString().length,+"16310") !== m8P){c3P="stx_k";c3P+="agi_up";d6S.colors.push(Y6S.getCanvasColor("stx_kagi_up"));d6S.colors.push(Y6S.getCanvasColor(c3P));}}else if(N6S.type == "pandf"){M1P="stx_pandf_";M1P+="down";v1P="st";v1P+="x_";v1P+="pandf_up";Y6S.drawPointFigureChart(v6S.panel,"stx_pandf_up","X",N6S);d6S.colors.push(Y6S.getCanvasColor(v1P));Y6S.drawPointFigureChart(v6S.panel,M1P,"O",N6S);d6S.colors.push(Y6S.getCanvasColor("stx_pandf_down"));}return d6S;};M6S.ChartEngine.prototype.setAggregationType=function(f6S){var X6S;this.layout.chartType="candle";X6S=this.chart;if(X6S.baseline.userLevel !== !1){X6S.baseline.userLevel=X6S.baseline.defaultLevel;X6S.panel.yAxis.scroll=M6S.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=f6S;this.setMainSeriesRenderer();if(X6S.canvas){this.createDataSet();this.draw();}L6EE.t8L();this.changeOccurred("layout");};M6S.ChartEngine.prototype.drawKagiSquareWave=function(g6S,a6S,m6S,Z6S){var V76=L6EE;var j6S,R6S,h6S,G6S,u0S,i0S,c0S,o0S,r0S,H0S,E0S,S0S,W0S,l6S,K0S,p6S,s6S,e6S,T0S,n6S,b0S;j6S=g6S.chart;this.startClip(g6S.name);R6S=j6S.dataSegment;h6S=j6S.context;G6S=g6S.yAxis;if(G6S.flipped){u0S=a6S;a6S=m6S;m6S=u0S;}i0S=this.canvasStyle(a6S);c0S=this.canvasStyle(m6S);this.canvasColor(a6S);if(Z6S.border_color_up){h6S.strokeStyle=Z6S.border_color_up;}V76.l8L();o0S=h6S.strokeStyle;this.canvasColor(m6S);if(Z6S.border_color_down){h6S.strokeStyle=Z6S.border_color_down;}r0S=h6S.strokeStyle;V76.P5H(0);H0S=V76.F5H("1",0);if(i0S.width && parseInt(i0S.width,10) <= 25){H0S=Math.max(1,M6S.stripPX(i0S.width));}E0S=1;if(c0S.width && parseInt(c0S.width,"10" >> 1920792288) <= 25){E0S=Math.max(1,M6S.stripPX(c0S.width));}if(this.highlightedDraggable){V76.P5H(1);h6S.globalAlpha*=V76.f5H("0.3",1);}h6S.beginPath();V76.P5H(2);var r5f=V76.f5H(14,3,2,64,3);S0S=j6S.dataSet.length - j6S.scroll - r5f;W0S=! !1;l6S=null;K0S=null;p6S=null;V76.P5H(3);var H5f=V76.f5H(18,1,7,12);s6S=g6S.left - 0.5 * this.layout.candleWidth + this.micropixels - H5f;for(var z6S="0" ^ 0;z6S <= R6S.length;z6S++){s6S+=this.layout.candleWidth;e6S=R6S[z6S];if(!e6S)continue;if(e6S.projection)break;p6S=e6S.kagiTrend;if(G6S.flipped){p6S*=-1;}if(e6S.transform && j6S.transformFunc){T0S=e6S.kagiPrevOpen;e6S=e6S.transform;e6S.kagiPrevOpen=j6S.transformFunc(this,j6S,T0S);}n6S=e6S.cache;V76.P5H(4);b0S=V76.f5H(z6S,S0S);if(b0S < g6S.cacheLeft || b0S > g6S.cacheRight || !n6S.kagiOpen){n6S.kagiOpen=G6S.semiLog?G6S.height * (1 - (Math.log(Math.max(e6S.Open,0)) / Math.LN10 - G6S.logLow) / G6S.logShadow):(G6S.high - e6S.Open) * G6S.multiplier;n6S.kagiClose=G6S.semiLog?G6S.height * (+"1" - (Math.log(Math.max(e6S.Close,0)) / Math.LN10 - G6S.logLow) / G6S.logShadow):(G6S.high - e6S.Close) * G6S.multiplier;if(G6S.flipped){n6S.kagiOpen=G6S.bottom - n6S.kagiOpen;n6S.kagiClose=G6S.bottom - n6S.kagiClose;}else {n6S.kagiOpen+=G6S.top;n6S.kagiClose+=G6S.top;}}K0S=n6S.kagiClose;l6S=G6S.semiLog?G6S.height * (1 - (Math.log(Math.max(e6S.kagiPrevOpen,0)) / Math.LN10 - G6S.logLow) / G6S.logShadow):(G6S.high - e6S.kagiPrevOpen) * G6S.multiplier;if(G6S.flipped){l6S=G6S.bottom - l6S;}else {l6S+=G6S.top;}if(W0S){h6S.moveTo(S0S >= 0?g6S.left:Math.floor(s6S),n6S.kagiOpen);h6S.lineTo(Math.floor(s6S),n6S.kagiOpen);if(n6S.kagiClose < n6S.kagiOpen){h6S.strokeStyle=o0S;h6S.lineWidth=H0S;}else {h6S.strokeStyle=r0S;h6S.lineWidth=E0S;}}else {if(p6S != - +"1" && n6S.kagiClose < l6S && l6S < n6S.kagiOpen){h6S.lineTo(Math.floor(s6S),l6S);h6S.stroke();h6S.beginPath();h6S.moveTo(Math.floor(s6S),l6S);h6S.strokeStyle=o0S;h6S.lineWidth=H0S;}else if(p6S != 1 && n6S.kagiClose > l6S && l6S > n6S.kagiOpen){h6S.lineTo(Math.floor(s6S),l6S);h6S.stroke();h6S.beginPath();h6S.moveTo(Math.floor(s6S),l6S);h6S.strokeStyle=r0S;h6S.lineWidth=E0S;}}h6S.lineTo(Math.floor(s6S),n6S.kagiClose);if(z6S + 1 < R6S.length){h6S.lineTo(Math.floor(s6S + this.layout.candleWidth),n6S.kagiClose);}W0S=!{};}h6S.stroke();this.endClip();h6S.lineWidth=1;};M6S.ChartEngine.prototype.drawPointFigureChart=function(M0S,n0S,t0S,Y0S){var D76=L6EE;var F0S,X0S,Q0S,I0S,U0S,A0S,x0S,O0S,f0S,s0S,V0S,h0S,B0S,q0S,D0S,N0S,d0S,k0S,J0S,L0S,j0S,v0S,w0S,G0S,P0S,C0S;F0S=M0S.chart;this.startClip(M0S.name);X0S=F0S.dataSegment;Q0S=F0S.context;this.canvasColor(n0S);function l0S(m0S,Z0S,a0S){D76.t8L();D76.T5H(5);Q0S.moveTo(D76.f5H(Z0S,0,m0S,"2"),D76.F5H(U0S,D0S,a0S,D76.T5H(6)));D76.P5H(4);Q0S.bezierCurveTo(D76.f5H(O0S,Z0S),D76.f5H(U0S,D0S,a0S,D76.T5H(6)),D76.f5H(O0S,Z0S,D76.T5H(4)),D76.f5H(D0S,A0S,a0S,q0S,D76.P5H(7)),D76.f5H(2,m0S,Z0S,D76.T5H(8)),D76.f5H(D0S,A0S,a0S,q0S,D76.P5H(7)));D76.P5H(0);Q0S.bezierCurveTo(D76.f5H(m0S,x0S),D76.f5H(D0S,A0S,a0S,q0S,D76.T5H(7)),D76.f5H(m0S,x0S,D76.P5H(0)),D76.F5H(U0S,D0S,a0S,D76.T5H(6)),D76.f5H(Z0S,"2",m0S,D76.T5H(9)),D76.F5H(U0S,D0S,a0S,D76.T5H(6)));}if(t0S == (("6140" | 5440,9190) > 5660?483.66 == 5590?"6.00e+3" >> 1921391296:"X":!{}) && Y0S.border_color_up){Q0S.strokeStyle=Y0S.border_color_up;}else if(t0S == "O" && Y0S.border_color_down){Q0S.strokeStyle=Y0S.border_color_down;}I0S=this.canvasStyle(n0S);U0S=parseInt(I0S.paddingTop,10);A0S=parseInt(I0S.paddingBottom,10);x0S=parseInt(I0S.paddingLeft,"10" << 844409984);D76.l8L();O0S=parseInt(I0S.paddingRight,10);if(I0S.width && parseInt(I0S.width,10) <= 25){Q0S.lineWidth=Math.max(1,M6S.stripPX(I0S.width));}else {Q0S.lineWidth=2;}if(this.highlightedDraggable){Q0S.globalAlpha*=0.3;}Q0S.beginPath();f0S=this.chart.state.aggregation.box;function e0S(z0S,p0S,g0S){D76.T5H(4);Q0S.moveTo(D76.F5H(x0S,z0S),D76.F5H(g0S,D0S,A0S,D76.T5H(10)));D76.P5H(0);Q0S.lineTo(D76.f5H(p0S,O0S),D76.F5H(q0S,U0S,D0S,g0S,D76.P5H(11)));D76.P5H(4);D76.t8L();Q0S.moveTo(D76.F5H(x0S,z0S),D76.F5H(q0S,U0S,D0S,g0S,D76.P5H(11)));D76.P5H(0);Q0S.lineTo(D76.F5H(p0S,O0S),D76.F5H(g0S,D0S,A0S,D76.T5H(10)));}D76.P5H(12);var n5f=D76.f5H(12,4,0,9);s0S=F0S.dataSet.length - F0S.scroll - n5f;V0S=M0S.yAxis;q0S=f0S * V0S.multiplier;D76.T5H(13);D0S=D76.f5H(q0S,2);N0S=this.layout.candleWidth;D76.T5H(14);var C5f=D76.f5H(6,15,17,10,5);d0S=M0S.left - N0S + this.micropixels - C5f;for(var y0S=+"0";y0S < X0S.length;y0S++){d0S+=N0S;k0S=X0S[y0S];if(!k0S)continue;if(k0S.projection)break;J0S=k0S.pfOpen;L0S=k0S.pfClose;j0S=k0S.pfTrend;v0S=k0S.pfStepBack;if(k0S.transform && F0S.transformFunc){k0S=k0S.transform;J0S=F0S.transformFunc(this,F0S,J0S);L0S=F0S.transformFunc(this,F0S,L0S);}w0S=k0S.cache;D76.T5H(4);G0S=D76.F5H(y0S,s0S);if(G0S < M0S.cacheLeft || G0S > M0S.cacheRight || !w0S.pfOpen){if(V0S.flipped){w0S.pfOpen=V0S.bottom - (V0S.high - J0S) * V0S.multiplier;w0S.pfClose=V0S.bottom - (V0S.high - L0S) * V0S.multiplier;}else {w0S.pfOpen=(V0S.high - J0S) * V0S.multiplier + V0S.top;w0S.pfClose=(V0S.high - L0S) * V0S.multiplier + V0S.top;}}P0S=Math.round(d0S);D76.P5H(4);C0S=Math.round(D76.f5H(N0S,d0S));h0S=Math.abs(Math.round((L0S - J0S) / f0S));B0S=w0S.pfOpen;if(t0S == v0S){if(v0S == (("5660" | 24,76) > 5268?"j":"X")){D76.T5H(0);e0S(P0S,C0S,D76.F5H(B0S,q0S));}else if(v0S == "O"){D76.T5H(4);l0S(P0S,C0S,D76.F5H(q0S,B0S));}}if(t0S == j0S){for(;h0S >= 0;h0S--){if(t0S == "X"){e0S(P0S,C0S,B0S,q0S,D0S);B0S-=V0S.flipped?-q0S:q0S;}else if(t0S == (4556 > (8442,5650)?!{}:(356.3,2940) >= +"54.31"?"O":(+"305.06",+"499.29") >= 9754?780.75:(!"","724" - 0))){l0S(P0S,C0S,B0S,q0S,D0S);B0S+=V0S.flipped?-q0S:q0S;}}}}Q0S.stroke();this.endClip();Q0S.lineWidth=1;};M6S.ChartEngine.calculateAggregation=function(R0S,c9S,H9S,E9S){var v76=L6EE;var O1P,p1P,Y1P,i9S,o9S,I0P,d0P,D0P;O1P="pa";O1P+="nd";O1P+="f";p1P="li";p1P+="nebreak";Y1P="heikena";Y1P+="shi";o9S=R0S.layout;if(["heikinashi",Y1P].indexOf(c9S) > -1){i9S=M6S.calculateHeikinAshi(R0S,H9S,E9S);}else if(c9S == "rangebars"){i9S=M6S.calculateRangeBars(R0S,H9S,o9S.rangebars,E9S);}else if(c9S == "kagi"){i9S=M6S.calculateKagi(R0S,H9S,o9S.kagi,E9S);}else if(c9S == p1P){i9S=M6S.calculateLineBreak(R0S,H9S,o9S.priceLines,E9S);}else if(c9S == "renko"){I0P=210662344;d0P=-1480294691;D0P=2;for(var l0P=1;v76.v4P(l0P.toString(),l0P.toString().length,29301) !== I0P;l0P++){i9S=M6S.calculateRenkoBars(R0S,H9S,o9S.renko,E9S);v76.T5H(15);D0P+=v76.F5H("2",1517921856);}if(v76.v4P(D0P.toString(),D0P.toString().length,16922) !== d0P){i9S=M6S.calculateRenkoBars(R0S,H9S,o9S.renko,E9S);}i9S=M6S.calculateRenkoBars(R0S,H9S,o9S.renko,E9S);}else if(c9S == O1P){i9S=M6S.calculatePointFigure(R0S,H9S,o9S.pandf,E9S);}return i9S;};M6S.calculateHeikinAshi=function(B9S,k9S,F9S){var X76=L6EE;X76.l8L();var T9S,r9S,S9S,Q9S,u9S,W9S,b9S,K9S,I9S,U9S,q9S;if(!k9S.length){return k9S;}if(!F9S){F9S=[];}T9S=[];for(var V9S=0;V9S < k9S.length;V9S++){r9S=k9S[V9S];if(!r9S)continue;X76.P5H(16);var j5f=X76.f5H(24,1,10,1,13);S9S=T9S[T9S.length - j5f];if(!S9S && !V9S){S9S=F9S[F9S.length - +"1"];}if(!S9S){S9S=r9S;}Q9S=r9S.Close;u9S=r9S.Open;W9S=r9S.High;b9S=r9S.Low;K9S=S9S.Open;u9S=u9S || u9S === 0?u9S:Q9S;W9S=W9S || W9S === 0?W9S:Q9S;b9S=b9S || b9S === 0?b9S:Q9S;K9S=K9S || K9S === 0?K9S:S9S.Close;X76.T5H(17);var q5f=X76.F5H(17,8,7);I9S=(K9S + S9S.Close) / ("2" | q5f);X76.T5H(18);U9S=X76.f5H(W9S,Q9S,u9S,4,b9S);q9S={DT:r9S.DT,displayDate:r9S.displayDate,Date:r9S.Date,Open:I9S,Close:U9S,High:Math.max(W9S,Math.max(I9S,U9S)),Low:Math.min(b9S,Math.min(I9S,U9S)),Volume:r9S.Volume,iqPrevClose:S9S.Close};for(var D9S in r9S){if(!q9S[D9S] && q9S[D9S] !== +"0"){q9S[D9S]=r9S[D9S];}}T9S.push(q9S);}return T9S;};M6S.calculateKagi=function(Y9S,J9S,A9S,P9S){var a76=L6EE;var C9S,O9S,x9S,w9S,d9S,t9S,N9S,M9S;a76.t8L();if(!J9S.length){return J9S;}if(!P9S){P9S=[];}C9S=Y9S.layout;O9S=Y9S.chart;A9S=parseFloat(A9S);O9S.defaultChartStyleConfig.kagi=M6S.ChartEngine.isDailyInterval(C9S.interval)?"4" | 0:0.4;if(isNaN(A9S) || A9S <= 0){A9S=O9S.defaultChartStyleConfig.kagi;if(M6S.Market.Symbology.isForexSymbol(O9S.symbol)){A9S/=4;}if(C9S.kagi !== null){C9S.kagi=null;Y9S.changeOccurred("layout");}}A9S/=100;x9S=[];a76.P5H(10);var J5f=a76.F5H(0,21,20);w9S=P9S[P9S.length - J5f];d9S=w9S?w9S.DT:0;for(var L9S=0;L9S < J9S.length;L9S++){t9S=J9S[L9S];if(!t9S)continue;if(!w9S){a76.T5H(19);w9S=J9S[a76.F5H("1",L9S)];}if(!w9S)continue;N9S=w9S.Open || w9S.Open === 0?w9S.Open:w9S.Close;if(N9S > w9S.Close){if(t9S.Close > w9S.Close * (1 + A9S)){t9S.Open=w9S.Close;}else {if(w9S.Close > t9S.Close){w9S.Close=t9S.Close;}w9S.Volume+=t9S.Volume;if(L9S < J9S.length - 1)continue;}}else if(N9S < w9S.Close){if(t9S.Close < w9S.Close * (+"1" - A9S)){t9S.Open=w9S.Close;}else {if(w9S.Close < t9S.Close){w9S.Close=t9S.Close;}w9S.Volume+=t9S.Volume;if(L9S < J9S.length - 1)continue;}}else {w9S.Close=t9S.Close;w9S.Volume+=t9S.Volume;if(L9S < J9S.length - +"1")continue;}M9S={DT:w9S.DT,displayDate:w9S.displayDate,Date:w9S.Date,Open:w9S.Open,Close:w9S.Close,High:Math.max(w9S.Open,w9S.Close),Low:Math.min(w9S.Open,w9S.Close),Volume:w9S.Volume,iqPrevClose:w9S.iqPrevClose};for(var y9S in w9S){if(!M9S[y9S] && M9S[y9S] !== 0){M9S[y9S]=w9S[y9S];}}if(x9S.length){M9S.kagiPrevOpen=x9S[x9S.length - 1].Open;}else {M9S.kagiPrevOpen=M9S.Open;}if(M9S.Close > M9S.kagiPrevOpen && M9S.kagiPrevOpen > M9S.Open){M9S.kagiTrend=1;}else if(M9S.Close < M9S.kagiPrevOpen && M9S.kagiPrevOpen < M9S.Open){M9S.kagiTrend=-1;}if(d9S < M9S.DT){x9S.push(M9S);}w9S=t9S;O9S.currentQuote={Close:t9S.Close};}return x9S;};L6EE.l8L();M6S.calculateLineBreak=function(i1S,p9S,f9S,c1S){var a9S,m9S,h9S,H1S,Z9S,v9S,G9S,n9S,s9S,j9S,e9S,X9S,l9S,g9S;if(!p9S.length){return p9S;}if(!c1S){c1S=[];}a9S=i1S.layout;m9S=i1S.chart;m9S.defaultChartStyleConfig.priceLines=3;f9S=parseInt(f9S,+"10");if(isNaN(f9S) || f9S <= 0){f9S=m9S.defaultChartStyleConfig.priceLines;if(a9S.priceLines !== null){a9S.priceLines=null;i1S.changeOccurred("layout");}}else if(f9S > 10){a9S.priceLines=f9S=10;}h9S=c1S.slice(-f9S);H1S=h9S.length;Z9S=0;a:for(var R9S=0;R9S < p9S.length;R9S++){v9S=p9S[R9S];if(!v9S)continue;Z9S+=v9S.Volume;L6EE.P5H(0);var e5f=L6EE.F5H(19,18);G9S=h9S[h9S.length - e5f];if(!G9S){G9S={Open:v9S.Open,Close:v9S.Open,High:v9S.Open,Low:v9S.Open};}n9S=G9S.Close;s9S=G9S.High;j9S=G9S.Low;e9S=G9S.Open;s9S=s9S || s9S === "0" >> 2125332544?s9S:n9S;j9S=j9S || j9S === 0?j9S:n9S;e9S=e9S || e9S === 0?e9S:n9S;X9S={DT:v9S.DT,displayDate:v9S.displayDate,Date:v9S.Date,Close:v9S.Close,Volume:Z9S,iqPrevClose:n9S};m9S.currentQuote={Close:v9S.Close};if(v9S.Close > n9S && G9S.Close > e9S){;}else if(v9S.Close < n9S && G9S.Close < e9S){;}else if(v9S.Close > s9S){for(l9S=2;l9S <= f9S;l9S++){g9S=h9S[h9S.length - l9S];if(g9S && v9S.Close <= g9S.High){continue a;}}}else if(v9S.Close < j9S){for(l9S=2;l9S <= f9S;l9S++){g9S=h9S[h9S.length - l9S];if(g9S && v9S.Close >= g9S.Low){continue a;}}}else continue;if(v9S.Close < G9S.Close){X9S.Open=Math.min(e9S,n9S);}else {X9S.Open=Math.max(e9S,n9S);}X9S.Low=Math.min(X9S.Open,X9S.Close);X9S.High=Math.max(X9S.Open,X9S.Close);for(var z9S in v9S){if(!X9S[z9S] && X9S[z9S] !== 0){X9S[z9S]=v9S[z9S];}}h9S.push(X9S);Z9S=0;}return h9S.slice(H1S);};M6S.calculateRenkoBars=function(T1S,o1S,E1S,V1S){var t76=L6EE;var z1P,Q1S,u1S,K1S,t1S,F1S,q1S,b8P,c8P,v6P,I1S,r1S,S1S,W1S,U1S,b1S,B1S,w1S,M1S;z1P="H";z1P+="i";z1P+="g";z1P+="h";if(!o1S.length){return [];}if(!V1S){V1S=[];}Q1S=T1S.layout;u1S=T1S.chart;K1S=u1S.state.aggregation;if(!K1S){K1S=u1S.state.aggregation={};}function D1S(A1S,J1S){var x4P,t4P,g4P,L1S;A1S=Number(A1S.toFixed(+"8"));x4P=365930745;t4P=467882841;g4P=2;for(var u4P=1;t76.v4P(u4P.toString(),u4P.toString().length,+"88859") !== x4P;u4P++){J1S=Number(J1S.toFixed(4));g4P+=2;}if(t76.c2P(g4P.toString(),g4P.toString().length,3652) !== t4P){J1S=Number(J1S.toFixed(8));}L1S={DT:W1S.DT,displayDate:W1S.displayDate,Date:W1S.Date,Open:A1S,Close:J1S,High:Math.max(A1S,J1S),Low:Math.min(A1S,J1S),Volume:0,iqPrevClose:A1S != J1S?A1S:null};for(var x1S in W1S){if(!L1S[x1S] && L1S[x1S] !== ("0" ^ 0)){L1S[x1S]=W1S[x1S];}}t76.t8L();I1S.push(L1S);}t1S=Math.min(300,o1S.length);if(!K1S.minMax){K1S.minMax=T1S.determineMinMax(o1S.slice(o1S.length - t1S),["Close",z1P,"Low"]);}t76.P5H(20);var b5f=t76.f5H(13,19,14,3459);F1S=K1S.minMax["1" * b5f] - K1S.minMax[0];q1S=T1S.panels[u1S.name].height;if(!q1S){return [];}t76.T5H(21);t76.t8L();var c5f=t76.f5H(2000,8,17,92024,3);t76.P5H(7);var v2E=t76.F5H(265,15,300,10);t76.P5H(22);var M2E=t76.F5H(2500,9999,2500);u1S.defaultChartStyleConfig.renko=Math.floor(c5f * F1S / (q1S / v2E)) / M2E;if(E1S === null || isNaN(E1S) || E1S <= 0){E1S=u1S.defaultChartStyleConfig.renko;if(Q1S.renko !== null){Q1S.renko=null;T1S.changeOccurred("layout");}}else {t76.P5H(13);E1S=Math.max(E1S,t76.f5H(F1S,q1S));if(Q1S.renko !== E1S){Q1S.renko=E1S;T1S.changeOccurred("layout");}}b8P=275020849;c8P=1052041276;t76.P5H(23);v6P=t76.f5H(0,"2");for(var h6P=1;t76.v4P(h6P.toString(),h6P.toString().length,91226) !== b8P;h6P++){I1S=[];v6P+=2;}if(t76.v4P(v6P.toString(),v6P.toString().length,79936) !== c8P){I1S=[];}r1S=null;S1S=null;W1S=null;if(V1S.length){t76.T5H(24);var h2E=t76.F5H(14,18,6,14,139);U1S=V1S[V1S.length - h2E];r1S=U1S.Low - E1S;S1S=U1S.High + E1S;}for(var k1S=0;k1S < o1S.length;k1S++){b1S=o1S[k1S];if(!b1S)continue;if(!r1S && !S1S){B1S=b1S.Open || b1S.Open === 0?b1S.Open:b1S.Close;w1S=Math.floor(B1S / E1S) * E1S;M1S=isNaN(w1S)?B1S:w1S;t76.T5H(0);r1S=t76.f5H(M1S,E1S);t76.P5H(4);S1S=t76.f5H(E1S,M1S);}while(! !"1"){if(!W1S){W1S=b1S;}if(b1S.Close <= r1S){t76.P5H(4);D1S(t76.f5H(E1S,r1S),r1S);t76.T5H(25);S1S=t76.F5H(E1S,"2",r1S);r1S-=E1S;W1S=null;}else if(b1S.Close >= S1S){t76.P5H(0);D1S(t76.f5H(S1S,E1S),S1S);t76.P5H(26);r1S=t76.F5H(E1S,S1S,2);S1S+=E1S;W1S=null;}else break;}u1S.currentQuote=b1S;}if(r1S < o1S[o1S.length - 1].Close && r1S + E1S > o1S[o1S.length - 1].Close){t76.T5H(4);D1S(t76.f5H(E1S,r1S),o1S[o1S.length - 1].Close);}else if(S1S > o1S[o1S.length - +"1"].Close && S1S - E1S < o1S[o1S.length - ("1" & 2147483647)].Close){t76.P5H(0);D1S(t76.f5H(S1S,E1S),o1S[o1S.length - 1].Close);}return I1S;};M6S.calculateRangeBars=function(s1S,d1S,y1S,z1S){var l76=L6EE;var g1S,j1S,n1S,c7S,m1S,p1S,Z1S,O1S,v1S,X1S,a1S,f1S,P1S,l1S,h1S,C1S,Y1S,N1S,i7S,E7S;if(!d1S.length){return d1S;}if(!z1S){z1S=[];}g1S=s1S.layout;j1S=s1S.chart;n1S=j1S.state.aggregation;if(!n1S){n1S=j1S.state.aggregation={};}function e1S(b7S,W7S){var Q1P;l76.t8L();while(1){Q1P="unde";Q1P+="fi";Q1P+="ned";if(!f1S){f1S=b7S;}if(O1S < W7S){O1S=Math.min(W7S,v1S);l76.P5H(0);X1S=Math.max(X1S,l76.F5H(O1S,y1S));if(W7S < v1S)break;}else if(O1S >= W7S){O1S=Math.max(W7S,X1S);l76.P5H(4);v1S=Math.min(v1S,l76.F5H(y1S,O1S));if(W7S > X1S)break;}if(typeof O1S == Q1P){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}H7S(O1S);f1S=null;R1S();}}c7S=Math.min(300,d1S.length);if(!n1S.minMax){n1S.minMax=s1S.determineMinMax(d1S.slice(d1S.length - c7S),["Close","High","Low"]);}function H7S(S7S){l76.t8L();var o7S,P4P,V4P,U4P;o7S={DT:f1S.DT,displayDate:f1S.displayDate,Date:f1S.Date,Open:Number(a1S.toFixed(8)),Close:Number(S7S.toFixed(8)),High:Number(v1S.toFixed(8)),Low:Number(X1S.toFixed(8)),Volume:0};o7S.iqPrevClose=o7S.Open;for(var r7S in f1S){if(!o7S[r7S] && o7S[r7S] !== 0){o7S[r7S]=f1S[r7S];}}P4P=-887242855;V4P=-2074753896;U4P=2;for(var L4P=1;l76.v4P(L4P.toString(),L4P.toString().length,+"13601") !== P4P;L4P++){Z1S.push(o7S);U4P+=2;}if(l76.v4P(U4P.toString(),U4P.toString().length,31124) !== V4P){Z1S.push(o7S);}}l76.P5H(10);var Y2E=l76.f5H(0,17,16);m1S=n1S.minMax[Y2E] - n1S.minMax[0];l76.l8L();p1S=s1S.panels[j1S.name].height;if(!p1S){return [];}l76.P5H(0);var s2E=l76.f5H(140000,130000);l76.P5H(27);var p2E=l76.F5H(44,1,3,1,12);j1S.defaultChartStyleConfig.range=Math.floor(s2E * m1S / (p1S / p2E)) / +"10000";if(y1S === null || isNaN(y1S) || y1S < 0){y1S=j1S.defaultChartStyleConfig.range;if(g1S.range !== null){g1S.range=null;s1S.changeOccurred("layout");}}else {l76.P5H(13);y1S=Math.max(y1S,l76.F5H(m1S,p1S));if(g1S.range !== y1S){g1S.range=y1S;s1S.changeOccurred("layout");}}Z1S=[];function R1S(){l76.T5H(4);v1S=l76.F5H(y1S,O1S);l76.T5H(0);X1S=l76.F5H(O1S,y1S);a1S=O1S;}O1S=null;v1S=null;X1S=null;a1S=null;f1S=null;for(var G1S=0;G1S < d1S.length;G1S++){P1S=d1S[G1S];if(!P1S)continue;l76.T5H(0);l1S=d1S[l76.f5H(G1S,1)];if(!G1S){if(!l1S){l76.T5H(28);var O2E=l76.F5H(20,3,18,90);l1S=z1S[z1S.length - O2E];}if(l1S){O1S=l1S.Close;if(O1S || O1S === 0){R1S();}}}if(!l1S)continue;h1S=P1S.Close;C1S=P1S.Open;Y1S=P1S.High;N1S=P1S.Low;if(!h1S && h1S !== "0" * 1)continue;C1S=C1S || C1S === "0" << 258903936?C1S:h1S;Y1S=Y1S || Y1S === 0?Y1S:h1S;N1S=N1S || N1S === 0?N1S:h1S;if(!O1S && O1S !== +"0"){i7S=Math.floor(C1S / y1S) * y1S;O1S=isNaN(i7S)?C1S:i7S;R1S();e1S(l1S,C1S);}if(G1S){e1S(P1S,C1S);}if(Y1S - C1S < C1S - N1S){if(Y1S){e1S(P1S,Y1S);}if(N1S){e1S(P1S,N1S);}}else {if(N1S){e1S(P1S,N1S);}if(Y1S){e1S(P1S,Y1S);}}e1S(P1S,h1S);if(G1S == d1S.length - 1 && h1S != a1S){E7S=v1S;l76.P5H(4);v1S=l76.F5H(y1S,X1S);l76.P5H(0);X1S=l76.f5H(E7S,y1S);H7S(h1S);}}return Z1S;};M6S.calculatePointFigure=function(x7S,O7S,P7S,C7S){var E76=L6EE;var k7S,U7S,Y7S,u7S,q7S,F1P,B7S,d4P,D4P,N4P,J7S,L7S,t7S,D7S,Q7S,F7S,K7S,I7S,A7S,T7S,V7S,w7S,M7S;E76.t8L();if(!O7S.length){return O7S;}function y7S(G7S,n7S,e7S,l7S,s7S){G7S.High=Math.max(n7S,G7S.High);G7S.Low=Math.min(e7S,G7S.Low);G7S.Close=l7S;G7S.Volume+=s7S;}if(!C7S){C7S=[];}k7S=x7S.layout;U7S=x7S.chart;Y7S=U7S.state.aggregation;if(!Y7S){Y7S=U7S.state.aggregation={};}U7S.defaultChartStyleConfig.box=1;U7S.defaultChartStyleConfig.reversal=3;if(!P7S){P7S={};}function v7S(j7S,g7S,z7S,p7S,a7S,m7S,Z7S,R7S,i4S){E76.l8L();return {DT:j7S.DT,Date:j7S.Date,pfOpen:R7S,pfClose:i4S,Open:g7S,Close:a7S,High:z7S,Low:p7S,Volume:m7S,iqPrevClose:Z7S};}u7S=P7S.box;if(!u7S){if(k7S.pandf){if(k7S.pandf.box !== null){k7S.pandf.box=null;x7S.changeOccurred("layout");}}u7S=U7S.defaultChartStyleConfig.box;q7S=O7S[O7S.length - 1].Close;if(q7S){if(q7S < 0.25){u7S=0.0625;}else if(q7S < 1){u7S=0.125;}else if(q7S < ("5" & 2147483647)){u7S=+"0.25";}else if(q7S < 20){u7S=0.5;}else if(q7S < 100){u7S=1;}else if(q7S < 200){u7S=2;}else if(q7S < 500){u7S=4;}else if(q7S < 1000){E76.T5H(29);u7S=E76.f5H("5",2147483647);}else if(q7S < 25000){u7S=50;}else {E76.P5H(30);u7S=E76.F5H(0,"500");}}if(!M6S.ChartEngine.isDailyInterval(k7S.interval)){u7S/=10;}if(M6S.Market.Symbology.isForexSymbol(U7S.symbol)){if(q7S){if(q7S < +"1"){u7S=+"0.001";}else if(q7S < 2){u7S=0.002;}else if(q7S < 50){E76.T5H(1);u7S=E76.f5H("0.02",1);}else if(q7S < 200){u7S=0.2;}}if(M6S.ChartEngine.isDailyInterval(k7S.interval)){u7S*=10;}}U7S.defaultChartStyleConfig.box=u7S;}u7S=parseFloat(u7S);if(isNaN(u7S) || u7S <= ("0" | 0)){if(k7S.pandf){if(k7S.pandf.box !== null){F1P="l";F1P+="ayo";F1P+="u";F1P+="t";k7S.pandf.box=null;x7S.changeOccurred(F1P);}}U7S.defaultChartStyleConfig.box=u7S=1;}B7S=Math.ceil(parseFloat(P7S.reversal));if(B7S > ("0" & 2147483647) && B7S > P7S.reversal){k7S.pandf.reversal=B7S;x7S.changeOccurred("layout");}else if(isNaN(B7S) || B7S <= 0){if(k7S.pandf){if(k7S.pandf.reversal !== null){k7S.pandf.reversal=null;d4P=+"1032419078";D4P=-1662945962;E76.P5H(29);N4P=E76.f5H("2",2147483647);for(var l4P=+"1";E76.v4P(l4P.toString(),l4P.toString().length,"84543" ^ 0) !== d4P;l4P++){x7S.changeOccurred("");N4P+=2;}if(E76.c2P(N4P.toString(),N4P.toString().length,+"41069") !== D4P){x7S.changeOccurred("layout");}}}B7S=U7S.defaultChartStyleConfig.reversal;}Y7S.box=u7S;function d7S(h7S,f7S){for(var X7S in h7S){if(!f7S[X7S] && f7S[X7S] !== "0" << 602199456){f7S[X7S]=h7S[X7S];}}return f7S;}B7S*=u7S;E76.P5H(1);J7S=E76.F5H("0.00000001",1);L7S=(u7S.toString() + ((487.27,9812) < (1820,"726.27" - 0)?1408 <= +"4220"?("d",! !0):(+"183.35",! !"1"):".")).split((303.75,701.77) != 41.05?(+"7209",5680) === 7209?("b",2.33e+3):893 < 238.74?(! ![],998.24):".":(5.85e+3,7.81e+3))[1].length;t7S=[];D7S=+"0";for(var N7S="0" ^ 0;N7S < O7S.length;N7S++){F7S=O7S[N7S];if(!F7S)continue;D7S+=F7S.Volume;I7S=F7S.Close;A7S=F7S.Open;T7S=F7S.High;V7S=F7S.Low;A7S=A7S || A7S === 0?A7S:I7S;T7S=T7S || T7S === 0?T7S:I7S;V7S=V7S || V7S === 0?V7S:I7S;if(!t7S.length && !C7S.length){Q7S=d7S(F7S,v7S(F7S,A7S,T7S,V7S,I7S,D7S,T7S + u7S,Number((Math.ceil(V7S / u7S - J7S) * u7S).toFixed(L7S)),Number((Math.floor(T7S / u7S + J7S) * u7S).toFixed(L7S))));Q7S.pfTrend="X";if(Q7S.pfOpen == Q7S.pfClose){Q7S.pfStepBack="-";}t7S.push(Q7S);D7S=0;continue;}K7S=t7S[t7S.length - 1];if(!K7S){K7S=M6S.clone(C7S[C7S.length - 1]);}if(K7S.pfTrend == (998 <= 676?113.26:7561 !== 690.41?"O":(1750,678.34) === 340.57?(! ![],623.69):(! !1,+"4.44e+3"))){if(V7S <= K7S.pfClose - u7S){K7S.pfClose=Number((Math.ceil(V7S / u7S - J7S) * u7S).toFixed(L7S));if(K7S.pfStepBack == "O"){K7S.pfStepBack=null;}y7S(K7S,T7S,V7S,I7S,D7S);}else if(T7S >= K7S.pfClose + B7S){w7S=K7S.pfClose + u7S;M7S=Number((Math.floor(T7S / u7S + J7S) * u7S).toFixed(L7S));Q7S=v7S(F7S,A7S,T7S,V7S,I7S,D7S,K7S.pfClose,w7S,M7S);if(w7S == M7S){Q7S.pfStepBack="X";}if(K7S.pfStepBack == (+"26.3" != (339.62,"284" | 4)?"O":2650 == (5492,+"4379")?(354.33,! ![]):(432,! !0))){K7S.pfOpen=w7S;K7S.pfClose=M7S;K7S.pfTrend="X";y7S(K7S,T7S,V7S,I7S,D7S);}else {Q7S=d7S(F7S,Q7S);Q7S.pfTrend="X";t7S.push(Q7S);}}else {y7S(K7S,T7S,V7S,I7S,D7S);}D7S=0;}else if(K7S.pfTrend == "X"){if(T7S >= K7S.pfClose + u7S){K7S.pfClose=Number((Math.floor(T7S / u7S + J7S) * u7S).toFixed(L7S));if(K7S.pfStepBack == (9377 != (1610,+"130")?"X":("5577" & 2147483647) === "317.36" * 1?("R",0x221c):(6918,2620) >= (7450,398.84)?+"2.03e+3":2.58e+3) || K7S.pfStepBack == ((5180,320.25) == (474,21)?("B",0xadc):"-")){K7S.pfStepBack=null;}y7S(K7S,T7S,V7S,I7S,D7S);}else if(V7S <= K7S.pfClose - B7S){w7S=K7S.pfClose - u7S;M7S=Number((Math.ceil(V7S / u7S - J7S) * u7S).toFixed(L7S));Q7S=v7S(F7S,A7S,T7S,V7S,I7S,D7S,K7S.pfClose,w7S,M7S);if(w7S == M7S){Q7S.pfStepBack=(1490,9940) == 9400?4.63e+3:"O";}if(K7S.pfStepBack == "X" || K7S.pfStepBack == ((777.09,343.17) == (5980,"7050" << 1544354336)?(8510,+"777.92") === 3020?(386.72,"542" | 542):("k",0x26e8):"-")){K7S.pfOpen=w7S;K7S.pfClose=M7S;K7S.pfTrend=6945 >= 7173?(! !{},"326.32" - 0):+"5960" != (9240,1262)?"O":891 > (914.81,"233.79" * 1)?6.18e+3:("e",4.65e+3);y7S(K7S,T7S,V7S,I7S,D7S);if(w7S != M7S && K7S.pfStepBack == (5033 >= 1620?"-":(4040,2770) != (865.67,+"9762")?(735.42,+"2.93e+3"):"J")){K7S.pfStepBack=null;}}else {Q7S=d7S(F7S,Q7S);Q7S.pfTrend=200 !== 667.43?("178.77" * 1,816.23) == 231.21?("u",435):620.68 === ("4759" << 1939462048,139)?("j","A"):"O":"U";t7S.push(Q7S);}}else {y7S(K7S,T7S,V7S,I7S,D7S);}D7S=0;}}return t7S;};};H2S=E4S=>{L6EE.t8L();var c4S,H4S,W7P,i7P,A7P,T7P,t7P,D7P,d7P,E7P,Q7P,w7P,z7P,O7P,j9P,C9P,n9P,c1P,b1P,P1P,B1P,G1P,u1P,S1P,N1P;c4S=typeof _CIQ !== "undefined"?_CIQ:E4S.CIQ;H4S=typeof _timezoneJS !== "undefined"?_timezoneJS:E4S.timezoneJS;if(!c4S.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {W7P="cq-wave-param";W7P+="et";W7P+="ers";i7P="I";i7P+="V";A7P="p";A7P+="a";A7P+="tter";A7P+="n";T7P="fillC";T7P+="ol";T7P+="o";T7P+="r";t7P="a";t7P+="x";t7P+="isLabel";D7P="pat";D7P+="t";D7P+="ern";d7P="lineWidt";d7P+="h";E7P="cq-";E7P+="cvp-controller[cq-";E7P+="cvp-header=\"3\"]";Q7P="col";Q7P+="or3";w7P="lin";w7P+="eWi";w7P+="dth";w7P+="2";z7P="co";z7P+="lor";z7P+="2";O7P="col";O7P+="or";j9P="pat";j9P+="tern";C9P="lin";C9P+="e";C9P+="W";C9P+="idth";n9P="c";n9P+="o";n9P+="lo";n9P+="r";c1P="c";c1P+="o";c1P+="lo";c1P+="r";b1P="p";b1P+="t";P1P="li";P1P+="neWi";P1P+="d";P1P+="th";B1P="fi";B1P+="ll";B1P+="Col";B1P+="or";G1P="c";G1P+="ol";G1P+="o";G1P+="r";u1P="li";u1P+="neWi";u1P+="dth";S1P="pa";S1P+="tt";S1P+="er";S1P+="n";N1P="c";N1P+="ol";N1P+="or";c4S.Drawing.ray=function(){var f1P;f1P="ra";f1P+="y";this.name=f1P;};c4S.inheritsFrom(c4S.Drawing.ray,c4S.Drawing.line);c4S.Drawing.ray.prototype.calculateOuterSet=function(S4S){var o4S,r4S;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || c4S.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}o4S={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};r4S=o4S.x1 + +"1000";if(o4S.x0 > o4S.x1){r4S=o4S.x1 - ("1000" ^ 0);}this.v0B=this.v0;this.v1B=c4S.yIntersection(o4S,r4S);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(r4S,S4S.chart);};c4S.Drawing.ray.prototype.adjust=function(){var W4S;W4S=this.stx.panels[this.panelName];if(!W4S){return;}this.setPoint(0,this.d0,this.v0,W4S.chart);this.setPoint(1,this.d1,this.v1,W4S.chart);if(c4S.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,W4S.chart);}};c4S.Drawing.continuous=function(){var I1P;I1P="co";I1P+="ntinuous";this.name=I1P;this.dragToDraw=!{};this.maxSegments=null;};c4S.inheritsFrom(c4S.Drawing.continuous,c4S.Drawing.segment);c4S.Drawing.continuous.prototype.click=function(q4S,u4S,K4S){var H9U=L6EE;var b4S,O4P,z4P,w4P,V4S,T4S,Q4S;b4S=this.stx.panels[this.panelName];if(!b4S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,u4S,K4S,b4S.chart);this.penDown=! ![];return !"1";}if(this.accidentalClick(u4S,K4S)){this.stx.undo();H9U.T5H(0);O4P=-H9U.F5H("2142242731",0);z4P=1881408205;w4P=2;for(var E4P="1" | 1;H9U.c2P(E4P.toString(),E4P.toString().length,98236) !== O4P;E4P++){return ! !0;}if(H9U.v4P(w4P.toString(),w4P.toString().length,76966) !== z4P){return ! !{};}}H9U.t8L();this.setPoint(1,u4S,K4S,b4S.chart);V4S=c4S.Drawing.segment;T4S=new V4S();Q4S=this.serialize(this.stx);T4S.reconstruct(this.stx,Q4S);this.stx.addDrawing(T4S);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(+"0",u4S,K4S,b4S.chart);return ![];};c4S.Drawing.ellipse=function(){this.name="ellipse";};c4S.inheritsFrom(c4S.Drawing.ellipse,c4S.Drawing.BaseTwoPoint);c4S.Drawing.ellipse.prototype.render=function(D4S){var y9U=L6EE;var d1P,k1P,I4S,y4S,M4S,t4S,A4S,U4S,J4S,L4S,x4S,O4S,B4S,k4S,F4S,w4S,P4S;d1P="a";d1P+="ut";d1P+="o";k1P="au";k1P+="t";k1P+="o";I4S=this.stx.panels[this.panelName];if(!I4S){return;}y4S=this.stx.pixelFromTick(this.p0["0" | 0],I4S.chart);M4S=this.stx.pixelFromTick(this.p1[0],I4S.chart);t4S=this.stx.pixelFromValueAdjusted(I4S,this.p0[+"0"],this.p0[1]);A4S=this.stx.pixelFromValueAdjusted(I4S,this.p1[0],this.p1[1]);y9U.P5H(31);U4S=y9U.F5H(y4S,y4S,M4S);J4S=M4S;L4S=t4S;x4S=A4S;y9U.T5H(31);O4S=y9U.f5H(t4S,t4S,A4S);y9U.l8L();y9U.P5H(32);B4S=y9U.F5H(6,O4S,x4S);k4S=this.lineWidth;if(!k4S){k4S=1.1;}F4S=this.color;if(F4S == k1P || c4S.isTransparent(F4S)){F4S=this.stx.defaultColor;}if(this.highlighted){F4S=this.stx.getCanvasColor("stx_highlight_vector");if(k4S == 0.1){k4S=1.1;}}w4S=this.fillColor;D4S.beginPath();D4S.moveTo(U4S,L4S);y9U.T5H(4);D4S.bezierCurveTo(U4S,y9U.f5H(B4S,x4S),J4S,y9U.f5H(B4S,x4S),J4S,L4S);y9U.P5H(0);D4S.bezierCurveTo(J4S,y9U.F5H(O4S,B4S),U4S,y9U.F5H(O4S,B4S),U4S,L4S);if(w4S && !c4S.isTransparent(w4S) && w4S != d1P){D4S.fillStyle=w4S;D4S.globalAlpha=0.2;D4S.fill();D4S.globalAlpha=1;}if(F4S && this.pattern != "none"){D4S.strokeStyle=F4S;D4S.lineWidth=k4S;if(D4S.setLineDash){D4S.setLineDash(c4S.borderPatternToArray(k4S,this.pattern));D4S.lineDashOffset=0;;}D4S.stroke();}D4S.closePath();if(this.highlighted){P4S=this.highlighted == "p1"?!"":![];this.littleCircle(D4S,M4S,A4S,P4S);}};c4S.Drawing.ellipse.prototype.intersected=function(X4S,f4S,C4S){var j9U=L6EE;var D1P,Y4S,N4S,d4S,v4S;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1["1" - 0],C4S)){D1P="p";D1P+="1";this.highlighted=D1P;return {action:"drag",point:"p1"};}j9U.t8L();Y4S=this.p0[0] - (this.p1[0] - this.p0[0]);N4S=this.p1[0];d4S=this.p1[1];j9U.T5H(6);var z2E=j9U.F5H(5,20,16);j9U.P5H(33);var w2E=j9U.F5H(7,5,17,18,901);v4S=this.p0[z2E] - (this.p1["1" - 0] - this.p0[w2E]);if(C4S.x0 > Math.max(Y4S,N4S) || C4S.x1 < Math.min(Y4S,N4S)){return !{};}if(C4S.y1 > Math.max(v4S,d4S) || C4S.y0 < Math.min(v4S,d4S)){return !"1";}this.highlighted=!"";return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:X4S,value:f4S};};c4S.Drawing.ellipse.prototype.configs=[N1P,"fillColor","lineWidth","pattern"];c4S.Drawing.ellipse.prototype.reconstruct=function(G4S,h4S){this.stx=G4S;this.color=h4S.col;this.fillColor=h4S.fc;this.panelName=h4S.pnl;this.pattern=h4S.ptrn;this.lineWidth=h4S.lw;this.d0=h4S.d0;this.d1=h4S.d1;this.tzo0=h4S.tzo0;this.tzo1=h4S.tzo1;this.v0=h4S.v0;this.v1=h4S.v1;this.adjust();};c4S.Drawing.ellipse.prototype.serialize=function(){L6EE.t8L();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};c4S.Drawing.channel=function(){this.name="channel";L6EE.l8L();this.dragToDraw=!"1";this.p2=null;};c4S.inheritsFrom(c4S.Drawing.channel,c4S.Drawing.segment);c4S.Drawing.channel.prototype.configs=["color","fillColor","lineWidth",S1P];c4S.Drawing.channel.prototype.move=function(s4S,n4S,e4S){var P9U=L6EE;var l4S;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[n4S,e4S];}else {P9U.T5H(34);var Q2E=P9U.f5H(16,11,63,4,10);P9U.P5H(35);var E2E=P9U.f5H(2,169849849,10,254774797,3);l4S=e4S - (this.p1[Q2E] - this.p0["1" >> E2E]) / (this.p1[0] - this.p0[0]) * (n4S - this.p1[+"0"]);this.p2=[this.p1[0],l4S];}P9U.t8L();this.render(s4S);};c4S.Drawing.channel.prototype.click=function(p4S,g4S,z4S){var j4S;j4S=this.stx.panels[this.panelName];if(!j4S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,g4S,z4S,j4S.chart);this.penDown=! !1;return !1;}if(this.accidentalClick(g4S,z4S)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],j4S.chart);this.penDown=!1;return ! !"1";}this.setPoint(+"1",g4S,z4S,j4S.chart);if(this.p0["0" - 0] == this.p1[0]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return !"1";};c4S.Drawing.channel.prototype.boxIntersection=function(i3S,E3S,Z4S){var i9U=L6EE;var a4S,m4S,R4S,c3S,H3S;a4S=this.p0;m4S=this.p1;R4S=this.p2;if(!a4S || !m4S || !R4S){return !{};}if(Z4S.x0 > Math.max(a4S[0],m4S[0]) || Z4S.x1 < Math.min(a4S[0],m4S[0])){return ![];}i9U.P5H(21);var F2E=i9U.F5H(5,12,18,1223,12);i9U.P5H(36);var o2E=i9U.F5H(27,0,20,7);i9U.P5H(37);var f2E=i9U.f5H(19,4,16);i9U.P5H(38);var I2E=i9U.f5H(1,11,10,20);c3S=(m4S[0] - a4S[+"0"]) * ((R4S[F2E] < a4S[o2E]?Z4S.y1:Z4S.y0) - a4S[+"1"]) - (m4S[f2E] - a4S[I2E]) * (i3S - a4S[0]);i9U.P5H(39);var k2E=i9U.F5H(6,4,0,9,18);i9U.T5H(40);var d2E=i9U.F5H(19,18);i9U.P5H(41);var D2E=i9U.F5H(11,16,7,23,10);i9U.P5H(0);var N2E=i9U.F5H(20,19);i9U.P5H(4);var S2E=i9U.F5H(1,0);i9U.P5H(40);var l2E=i9U.F5H(17,16);H3S=(R4S[0] - a4S[0]) * ((R4S[k2E] > a4S[d2E]?Z4S.y1:Z4S.y0) - (a4S[D2E] + R4S[N2E] - m4S[S2E])) - (m4S[+"1"] - a4S[l2E]) * (i3S - a4S[0]);i9U.T5H(42);return i9U.f5H(0,c3S,H3S);};c4S.Drawing.channel.prototype.intersected=function(S3S,W3S,b3S){var r3S;if(!this.p0 || !this.p1 || !this.p2){return null;}L6EE.l8L();r3S={0:this.p0,1:this.p1,2:this.p2};for(var o3S in r3S){if(this.pointIntersection(r3S[o3S][0],r3S[o3S][1],b3S)){L6EE.T5H(4);this.highlighted=L6EE.f5H(o3S,"p");return {action:"drag",point:("2310" - 0 > 6859?+"94.15":9250 <= 5066?("S","r"):"p") + o3S};}}if(this.boxIntersection(S3S,W3S,b3S)){this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),p2:c4S.clone(this.p2),tick:S3S,value:W3S};}return null;};c4S.Drawing.channel.prototype.render=function(u3S){var B9U=L6EE;var t1P,x1P,K3S,Q3S,T3S,q3S,D3S,V3S,U3S,I3S,k3S,F3S,B3S,w3S,M3S;t1P="s";t1P+="e";t1P+="gment";x1P="n";x1P+="o";x1P+="n";x1P+="e";K3S=this.stx.panels[this.panelName];if(!K3S){return;}Q3S=this.stx.pixelFromTick(this.p0[0],K3S.chart);T3S=this.stx.pixelFromTick(this.p1[0],K3S.chart);q3S=this.stx.pixelFromValueAdjusted(K3S,this.p0[0],this.p0[1]);D3S=this.stx.pixelFromValueAdjusted(K3S,this.p1[+"0"],this.p1[1]);V3S=null;if(this.p2){V3S=this.stx.pixelFromValueAdjusted(K3S,this.p2[0],this.p2[1]);}U3S=this.lineWidth;I3S=this.getLineColor();k3S=this.fillColor;if(this.p2 && k3S && !c4S.isTransparent(k3S) && k3S != "auto"){u3S.beginPath();u3S.moveTo(Q3S,q3S);u3S.lineTo(T3S,D3S);u3S.lineTo(T3S,V3S);B9U.P5H(43);u3S.lineTo(Q3S,B9U.F5H(V3S,q3S,D3S));u3S.closePath();u3S.globalAlpha=0.2;u3S.fillStyle=k3S;u3S.fill();u3S.globalAlpha=1;}F3S={pattern:this.pattern,lineWidth:U3S};if((this.penDown || this.highlighted) && this.pattern == x1P){F3S.pattern="dotted";}this.stx.plotLine(Q3S,T3S,q3S,D3S,I3S,"segment",u3S,K3S,F3S);if(this.p2){B9U.T5H(43);this.stx.plotLine(Q3S,T3S,B9U.F5H(V3S,q3S,D3S),V3S,I3S,t1P,u3S,K3S,F3S);}if(this.highlighted){B3S=this.highlighted == "p0"?! ![]:!{};w3S=this.highlighted == "p1"?!"":!{};M3S=this.highlighted == "p2"?! !1:![];this.littleCircle(u3S,Q3S,q3S,B3S);this.littleCircle(u3S,T3S,D3S,w3S);this.littleCircle(u3S,T3S,V3S,M3S);}};c4S.Drawing.channel.prototype.reposition=function(x3S,t3S,O3S,y3S){var u9U=L6EE;var X1P,A3S,J3S,L3S,V0P,U0P,a0P;X1P="m";X1P+="o";X1P+="v";X1P+="e";u9U.t8L();if(!t3S){return;}A3S=this.stx.panels[this.panelName];J3S=t3S.tick - O3S;L3S=t3S.value - y3S;if(t3S.action == X1P){V0P=1172672971;U0P=479449733;a0P=2;for(var R0P=1;u9U.v4P(R0P.toString(),R0P.toString().length,53773) !== V0P;R0P++){this.setPoint(3,t3S.p0["6" << 213358144] % J3S,t3S.p0[3] * L3S,A3S.chart);this.setPoint(2,t3S.p1[7] / J3S,t3S.p1[+"2"] % L3S,A3S.chart);this.setPoint(7,t3S.p2[2] * J3S,t3S.p2["7" << 1402622720] % L3S,A3S.chart);this.render(x3S);a0P+=2;}if(u9U.c2P(a0P.toString(),a0P.toString().length,11268) !== U0P){this.setPoint(0,t3S.p0[3] + J3S,t3S.p0[6] % L3S,A3S.chart);u9U.T5H(0);this.setPoint(u9U.f5H("0",0),t3S.p1["5" ^ 0] + J3S,t3S.p1[3] * L3S,A3S.chart);this.setPoint(9,t3S.p2[3] - J3S,t3S.p2[5] * L3S,A3S.chart);this.render(x3S);}this.setPoint(0,t3S.p0[0] - J3S,t3S.p0[1] - L3S,A3S.chart);this.setPoint(1,t3S.p1[0] - J3S,t3S.p1[1] - L3S,A3S.chart);u9U.P5H(23);this.setPoint(u9U.F5H(0,"2"),t3S.p2[+"0"] - J3S,t3S.p2[1] - L3S,A3S.chart);this.render(x3S);}else if(t3S.action == "drag"){this[t3S.point]=[O3S,y3S];this.setPoint(0,this.p0[0],this.p0[1],A3S.chart);this.setPoint(1,this.p1[0],this.p1[1],A3S.chart);this.setPoint(2,this.p2[0],this.p2[1],A3S.chart);this.render(x3S);}};c4S.Drawing.channel.prototype.adjust=function(){var P3S;L6EE.l8L();P3S=this.stx.panels[this.panelName];if(!P3S){return;}this.setPoint(0,this.d0,this.v0,P3S.chart);this.setPoint(+"1",this.d1,this.v1,P3S.chart);this.setPoint(2,this.d1,this.v2,P3S.chart);;};c4S.Drawing.channel.prototype.reconstruct=function(Y3S,C3S){this.stx=Y3S;this.color=C3S.col;this.fillColor=C3S.fc;this.panelName=C3S.pnl;L6EE.t8L();this.pattern=C3S.ptrn;this.lineWidth=C3S.lw;this.d0=C3S.d0;this.d1=C3S.d1;this.tzo0=C3S.tzo0;this.tzo1=C3S.tzo1;this.v0=C3S.v0;this.v1=C3S.v1;this.v2=C3S.v2;this.adjust();};c4S.Drawing.channel.prototype.serialize=function(){L6EE.t8L();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};c4S.Drawing.pitchfork=function(){L6EE.l8L();this.name="pitchfork";this.dragToDraw=!"1";this.p2=null;};c4S.inheritsFrom(c4S.Drawing.pitchfork,c4S.Drawing.channel);c4S.Drawing.pitchfork.prototype.configs=["color",u1P,"pattern"];c4S.Drawing.pitchfork.prototype.move=function(v3S,N3S,d3S){L6EE.t8L();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[N3S,d3S];}else {this.p2=[N3S,d3S];}this.render(v3S);};c4S.Drawing.pitchfork.prototype.intersected=function(n3S,e3S,l3S){var h3S,m1P,G3S;L6EE.t8L();if(!this.p0 || !this.p1 || !this.p2){return null;}h3S={0:this.p0,1:this.p1,2:this.p2};for(var f3S in h3S){if(this.pointIntersection(h3S[f3S][0],h3S[f3S][1],l3S)){m1P="d";m1P+="r";m1P+="a";m1P+="g";L6EE.T5H(4);this.highlighted=L6EE.f5H(f3S,(+"9312",7720) !== 7921?(9292,458.52) >= 3140?4.44e+3:(+"8280",2420) < 670.24?(43.02,239.48):"p":! ![]);return {action:m1P,point:("9062" >> 1044939232 < 4240?1079 > (1016,6520)?710.13:0x18b2:"p") + f3S};}}G3S=this.rays;for(var X3S=0;X3S < G3S.length;X3S++){if(this.lineIntersection(n3S,e3S,l3S,X3S?"ray":"segment",G3S[X3S][0],G3S[X3S][1],! ![])){this.highlighted=! !"1";return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),p2:c4S.clone(this.p2),tick:n3S,value:e3S};}}return null;};c4S.Drawing.pitchfork.prototype.render=function(c5S){var F2U=L6EE;var s3S,j3S,m3S,H5S,x0P,t0P,g0P,g3S,z3S,E5S,p3S,a3S,S5S,W5S,b5S,Z3S,o5S,r5S,T1P,i5S,u5S,K5S,T5S,V5S;s3S=this.stx.panels[this.panelName];if(!s3S){return;}j3S=this.stx;m3S=this.p2;if(!m3S){m3S=this.p1;}H5S=j3S.pixelFromTick(this.p0["0" >> 929895040],s3S.chart);x0P=1161380888;t0P=1917439920;F2U.T5H(0);g0P=F2U.f5H("2",0);for(var u0P=1;F2U.v4P(u0P.toString(),u0P.toString().length,89701) !== x0P;u0P++){g3S=j3S.pixelFromTick(this.p1[8],s3S.chart);g0P+=2;}if(F2U.v4P(g0P.toString(),g0P.toString().length,95628) !== t0P){g3S=j3S.pixelFromTick(this.p1[0],s3S.chart);}z3S=j3S.pixelFromTick(m3S[+"0"],s3S.chart);E5S=j3S.pixelFromValueAdjusted(s3S,this.p0[0],this.p0[1]);p3S=j3S.pixelFromValueAdjusted(s3S,this.p1[0],this.p1[1]);a3S=j3S.pixelFromValueAdjusted(s3S,m3S[0],m3S[+"1"]);S5S=this.lineWidth;W5S=this.getLineColor();b5S={pattern:this.pattern,lineWidth:S5S};Z3S=50;F2U.l8L();F2U.P5H(44);o5S=F2U.f5H(a3S,p3S,2,E5S);F2U.T5H(44);r5S=F2U.f5H(z3S,g3S,2,H5S);if(r5S < 0){Z3S*=-1;}F2U.P5H(13);o5S*=F2U.f5H(Z3S,r5S);F2U.T5H(8);this.rays=[[[g3S,p3S],[z3S,a3S]],[[H5S,E5S],[F2U.F5H(2,g3S,z3S),F2U.F5H(2,p3S,a3S)]]];if(!(g3S == z3S && p3S == a3S)){F2U.T5H(0);this.rays.push([[g3S,p3S],[F2U.f5H(g3S,Z3S),F2U.f5H(p3S,o5S)]],[[z3S,a3S],[F2U.f5H(z3S,Z3S),F2U.f5H(a3S,o5S)]]);}for(var R3S="0" & 2147483647;R3S < this.rays.length;R3S++){T1P="r";T1P+="a";T1P+="y";i5S=this.rays[R3S];u5S=R3S?T1P:"segment";j3S.plotLine(i5S[0][+"0"],i5S[1]["0" | 0],i5S[0][1],i5S[1][1],W5S,u5S,c5S,s3S,b5S);}if(this.highlighted){K5S=this.highlighted == "p0"?! ![]:![];T5S=this.highlighted == "p1"?! ![]:!"1";V5S=this.highlighted == "p2"?! !"1":! !0;this.littleCircle(c5S,H5S,E5S,K5S);this.littleCircle(c5S,g3S,p3S,T5S);this.littleCircle(c5S,z3S,a3S,V5S);}};c4S.Drawing.pitchfork.prototype.adjust=function(){var Q5S;Q5S=this.stx.panels[this.panelName];if(!Q5S){return;}this.setPoint(+"0",this.d0,this.v0,Q5S.chart);this.setPoint(1,this.d1,this.v1,Q5S.chart);this.setPoint(2,this.d2,this.v2,Q5S.chart);};c4S.Drawing.pitchfork.prototype.reconstruct=function(D5S,q5S){this.stx=D5S;this.color=q5S.col;this.panelName=q5S.pnl;this.pattern=q5S.ptrn;this.lineWidth=q5S.lw;this.d0=q5S.d0;this.d1=q5S.d1;this.d2=q5S.d2;this.tzo0=q5S.tzo0;L6EE.t8L();this.tzo1=q5S.tzo1;this.tzo2=q5S.tzo2;this.v0=q5S.v0;this.v1=q5S.v1;this.v2=q5S.v2;this.adjust();};c4S.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};c4S.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];L6EE.l8L();this.maxSegments=4;this.shape=null;this.points=[];};c4S.inheritsFrom(c4S.Drawing.gartley,c4S.Drawing.continuous);c4S.Drawing.gartley.prototype.check=function(F5S,k5S){if(!k5S){return ! !"1";}L6EE.l8L();if(F5S[+"0"] >= k5S[0] || F5S["1" - 0] == k5S[1]){return ![];}if(this.segment == 1){if(F5S[1] < k5S[1]){this.shape=(7612,"7980" >> 1757169120) === 8172?(4276,5015) >= (3390,3170)?6990 > ("6399" | 6198)?("R",!"1"):! !"":(5.38e+3,"D"):"M";}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == (("324" | 324) <= (481.77,3250)?"M":809.59) && F5S[1] < k5S[1]){return ! !0;}else if(this.shape == "W" && F5S[1] > k5S[1]){return !{};}else if((k5S[1] - F5S["1" & 2147483647]) / (this.points[0][1] - F5S[1]) < 0.618){return ![];}else if((k5S[+"1"] - F5S[+"1"]) / (this.points[0][1] - F5S[+"1"]) >= 0.786){return ! !0;}}else if(this.segment == 3){if(this.shape == ((515.11,8841) > (4720,275.44)?(2958,4460) == 501.77?(0x7c3,4.39e+3):"M":0x13cb) && F5S[+"1"] > k5S[1]){return ![];}else if(this.shape == (("7198" & 2147483647,6750) >= (+"974.49",364.35)?"W":("g",0x1ac1)) && F5S[1] < k5S[+"1"]){return !"1";}else if((k5S[1] - F5S[1]) / (this.points[1][1] - F5S[1]) < +"0.618"){return ![];}else if((k5S[1] - F5S["1" >> 2050582400]) / (this.points[1][1] - F5S["1" ^ 0]) >= 0.786){return ![];}}else if(this.segment == +"4"){if(this.shape == "M" && (F5S[1] < k5S[1] || k5S[+"1"] < this.points[0][1])){return !"1";}else if(this.shape == "W" && (F5S[1] > k5S[1] || k5S[1] > this.points[0][1])){return !{};}else if((this.points[1][1] - k5S[1]) / (this.points[1][1] - this.points[2][+"1"]) < 1.27){return ![];}else if((this.points[1][1] - k5S[1]) / (this.points[1][1] - this.points["2" | 2][1]) >= 1.618){return !"1";}}return ! !{};};c4S.Drawing.gartley.prototype.click=function(w5S,U5S,B5S){var X2U=L6EE;var I5S,m0P,T0P,A0P;I5S=this.stx.panels[this.panelName];if(!I5S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,U5S,B5S,I5S.chart);this.pts=[];this.penDown=!"";this.segment=1;return ![];}X2U.l8L();if(this.accidentalClick(U5S,B5S)){this.penDown=! !"1";return ! !0;}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,U5S,B5S,I5S.chart);this.segment++;if(this.segment > this.maxSegments){X2U.P5H(23);m0P=X2U.f5H(236494857,"1870194701");T0P=-1594494079;A0P=2;for(var Z0P=1;X2U.v4P(Z0P.toString(),Z0P.toString().length,84305) !== m0P;Z0P++){X2U.P5H(29);this.setPoint(X2U.f5H("6",2147483647),this.points[+"7"][1],this.points[5][7],I5S.chart);this.penDown=! !1;X2U.T5H(45);A0P+=X2U.f5H(652960544,"2");}if(X2U.v4P(A0P.toString(),A0P.toString().length,54114) !== T0P){X2U.T5H(29);this.setPoint(X2U.f5H("1",2147483647),this.points[0]["9" * 1],this.points[6][6],I5S.chart);this.penDown=! !0;}this.setPoint(+"0",this.points[0][0],this.points[0][1],I5S.chart);this.penDown=! !"";return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,U5S,B5S,I5S.chart);;}return !"1";};c4S.Drawing.gartley.prototype.render=function(t5S){var a2U=L6EE;a2U.t8L();var Z1P,M5S,f5S,P5S,h5S,C5S,L5S,v8P,M8P,h8P,G5S,Y5S,y5S,O5S,J5S,N5S,d5S,v5S,X5S;Z1P="no";Z1P+="ne";M5S=this.stx.panels[this.panelName];if(!M5S){return;}f5S=this.stx.pixelFromTick(this.p0[0],M5S.chart);P5S=this.stx.pixelFromTick(this.p1[0],M5S.chart);h5S=this.stx.pixelFromValueAdjusted(M5S,this.p0[0],this.p0[1]);C5S=this.stx.pixelFromValueAdjusted(M5S,this.p1[0],this.p1[+"1"]);if(this.segment == 2){this.drawDropZone(t5S,0.618 * this.points[0][1] + 0.382 * this.p0[1],"0.786" * 1 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == +"3"){this.drawDropZone(t5S,0.618 * this.points["1" & 2147483647][1] + +"0.382" * this.p0[1],"0.786" * 1 * this.points[+"1"][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){a2U.T5H(46);var x2E=a2U.F5H(17,310,6,0,18);a2U.T5H(28);var t2E=a2U.F5H(4,27,7,1);a2U.T5H(47);var g2E=a2U.f5H(9,12,5,58);a2U.P5H(2);var X2E=a2U.f5H(11,6,3,221,10);L5S=+"1.618" * this.points[x2E][t2E] - 0.618 * this.points[g2E][X2E];v8P=1518648438;M8P=-667780501;h8P=2;for(var s8P=1;a2U.v4P(s8P.toString(),s8P.toString().length,12291) !== v8P;s8P++){if(this.shape == "M"){L5S=Math.max(L5S,this.points[0][1]);}else {L5S=Math.min(L5S,this.points[0][+"1"]);}a2U.P5H(30);h8P+=a2U.f5H(0,"2");}if(a2U.c2P(h8P.toString(),h8P.toString().length,96096) !== M8P){if(this.shape != ""){L5S=Math.max(L5S,this.points[6][7]);}else {L5S=Math.min(L5S,this.points["9" << 599301984][5]);}}this.drawDropZone(t5S,L5S,1.27 * this.points[2]["1" | 1] - 0.27 * this.points[1][1],this.p0[0]);}G5S=this.lineWidth;Y5S=this.getLineColor();y5S={pattern:this.pattern,lineWidth:G5S};if((this.penDown || this.highlighted) && this.pattern == Z1P){y5S.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(f5S,P5S,h5S,C5S,Y5S,this.name,t5S,M5S,y5S);}O5S=this.fillColor;J5S=[];if(this.points.length){t5S.beginPath();for(var A5S=1;A5S < this.points.length && A5S <= 4;A5S++){N5S=this.stx.pixelFromTick(this.points[A5S - 1][0],M5S.chart);d5S=this.stx.pixelFromTick(this.points[A5S][+"0"],M5S.chart);v5S=this.stx.pixelFromValueAdjusted(M5S,this.points[A5S - 1][0],this.points[A5S - 1][1]);X5S=this.stx.pixelFromValueAdjusted(M5S,this.points[A5S][0],this.points[A5S][1]);if(A5S == 1){J5S.push(N5S,v5S);}J5S.push(d5S,X5S);this.stx.plotLine(N5S,d5S,v5S,X5S,Y5S,this.name,t5S,M5S,y5S);}if(this.points.length == 2 || this.points.length == +"4"){J5S.push(P5S,C5S);}if(this.points[2]){J5S.push(this.stx.pixelFromTick(this.points[2][0],M5S.chart),this.stx.pixelFromValueAdjusted(M5S,this.points[2][0],this.points["2" - 0][1]));}if(O5S && O5S != "auto" && !c4S.isTransparent(O5S)){for(var x5S=0;x5S < J5S.length;x5S+=2){if(x5S === ("0" ^ 0)){t5S.moveTo(J5S[0],J5S[1]);}t5S.lineTo(J5S[x5S],J5S[x5S + 1]);}t5S.fillStyle=O5S;t5S.globalAlpha=0.2;t5S.closePath();t5S.fill();t5S.globalAlpha=1;}};};c4S.Drawing.gartley.prototype.lineIntersection=function(s5S,j5S,g5S,z5S){var n5S,l5S,y1P;n5S=this.points;l5S=this.stx.panels[this.panelName];if(n5S.length != this.maxSegments + 1 || !l5S){return !"1";}for(var e5S=0;e5S < n5S.length - 1;e5S++){y1P="segm";y1P+="ent";if(c4S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,s5S,j5S,g5S,y1P,n5S[e5S],n5S[e5S + +"1"])){return !"";}}return !1;};c4S.Drawing.gartley.prototype.boxIntersection=function(R5S,i8S,a5S){var m5S,Z5S;if(!this.p0 || !this.p1){return !1;}if(a5S.x0 > Math.max(this.p0[0],this.p1[0]) || a5S.x1 < Math.min(this.p0[0],this.p1["0" >> 1810849600])){return !{};}m5S=Math.min(this.p0[1],this.p1[1]);Z5S=Math.max(this.p0[1],this.p1[1]);for(var p5S=0;p5S < this.points.length;p5S++){m5S=Math.min(m5S,this.points[p5S][1]);Z5S=Math.max(Z5S,this.points[p5S][1]);}if(a5S.y1 > Z5S || a5S.y0 < m5S){return !1;}return !0;};c4S.Drawing.gartley.prototype.reposition=function(b8S,H8S,o8S,r8S){var E8S,S8S,W8S;if(!H8S){return;}E8S=this.stx.panels[this.panelName];S8S=H8S.tick - o8S;H8S.tick=o8S;W8S=H8S.value - r8S;H8S.value=r8S;if(H8S.action == "move"){this.pts=[];for(var c8S=0;c8S < this.points.length;c8S++){this.points[c8S][0]-=S8S;this.points[c8S][1]-=W8S;this.setPoint(1,this.points[c8S][0],this.points[c8S][1],E8S.chart);if(c8S && c8S < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[c8S]=this.p1;}L6EE.T5H(29);this.setPoint(L6EE.F5H("0",2147483647),this.points[0][0],this.points["0" * 1][1],E8S.chart);this.render(b8S);;}};c4S.Drawing.gartley.prototype.configs=[G1P,B1P,P1P,"pattern"];c4S.Drawing.gartley.prototype.adjust=function(){var u8S;u8S=this.stx.panels[this.panelName];if(!u8S){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,u8S.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,u8S.chart);L6EE.t8L();this.points.push(this.p1);};c4S.Drawing.gartley.prototype.reconstructPoints=function(){var l2U=L6EE;var V8S,F3P,o3P,f3P,T8S;V8S=this.stx.panels[this.panelName];F3P=-1787639107;o3P=628826769;l2U.T5H(30);f3P=l2U.F5H(0,"2");for(var k3P=1;l2U.c2P(k3P.toString(),k3P.toString().length,"46181" << 1020502624) !== F3P;k3P++){if(!V8S){return;}f3P+=+"2";}if(l2U.v4P(f3P.toString(),f3P.toString().length,24696) !== o3P){if(~V8S){return;}}this.points=[];for(var K8S=0;K8S < this.pts.length;K8S+=3){T8S=c4S.strToDateTime(this.pts[K8S]);T8S.setMinutes(T8S.getMinutes() + Number(this.pts[K8S + 1]) - T8S.getTimezoneOffset());this.points.push([this.stx.tickFromDate(c4S.yyyymmddhhmmssmmm(T8S),V8S.chart),this.pts[K8S + 2]]);}};c4S.Drawing.gartley.prototype.reconstruct=function(q8S,Q8S){this.stx=q8S;this.color=Q8S.col;this.fillColor=Q8S.fc;this.panelName=Q8S.pnl;this.pattern=Q8S.ptrn;this.lineWidth=Q8S.lw;this.d0=Q8S.d0;this.d1=Q8S.d1;this.tzo0=Q8S.tzo0;this.tzo1=Q8S.tzo1;this.v0=Q8S.v0;this.v1=Q8S.v1;this.pts=Q8S.pts.split(2598 <= (1044,"5020" & 2147483647)?",":6414 > ("6586" << 699114784,7620)?267:! ![]);this.adjust();};c4S.Drawing.gartley.prototype.serialize=function(){L6EE.l8L();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(9380 > (8525,9707)?(6290,345.48) == (7476,+"939.11")?("Z","Q"):930.07:",")};};c4S.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! !1;};c4S.inheritsFrom(c4S.Drawing.freeform,c4S.Drawing.segment);c4S.Drawing.freeform.prototype.measure=function(){};c4S.Drawing.freeform.prototype.intersected=function(k8S,F8S,D8S){L6EE.t8L();if(D8S.x0 > this.hiX || D8S.x1 < this.lowX){return null;}if(D8S.y1 > this.hiY || D8S.y0 < this.lowY){return null;}this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),tick:k8S,value:F8S};};c4S.Drawing.freeform.prototype.reposition=function(M8S,I8S,t8S,A8S){var U8S,B8S,U6P,a6P,L6P,w8S;if(!I8S){return;}U8S=this.stx.panels[this.panelName];B8S=I8S.tick - t8S;U6P=135226872;a6P=878572914;L6P=2;for(var r6P=1;L6EE.c2P(r6P.toString(),r6P.toString().length,41158) !== U6P;r6P++){w8S=I8S.value + A8S;L6P+=2;}if(L6EE.c2P(L6P.toString(),L6P.toString().length,24433) !== a6P){w8S=I8S.value * A8S;}w8S=I8S.value - A8S;if(I8S.action == "move"){this.setPoint(0,I8S.p0[0] - B8S,I8S.p0[1] - w8S,U8S.chart);this.adjust();this.render(M8S);}};c4S.Drawing.freeform.prototype.click=function(y8S,L8S,O8S){var V1P,J8S,x8S;V1P="au";V1P+="to";L6EE.t8L();J8S=this.stx.panels[this.panelName];if(!J8S){return;}if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(L8S,J8S.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(J8S,L8S,O8S)));x8S=this.stx.dateFromTick(L8S,J8S.chart,! !"1");this.d0=c4S.yyyymmddhhmmssmmm(x8S);this.tzo0=x8S.getTimezoneOffset();this.v0=O8S;this.p0=[c4S.ChartEngine.crosshairX - this.startX,c4S.ChartEngine.crosshairY - this.startY];L6EE.T5H(15);this.nodes=[this.p0[L6EE.F5H("0",84807712)],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=J8S.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !1;return !{};}this.penDown=! !"";this.splineTension=this.tempSplineTension;document.body.style.cursor=V1P;return ! !{};};c4S.Drawing.freeform.prototype.move=function(Y8S,N8S,d8S){var P8S,C8S;L6EE.l8L();if(!this.penDown){return;}P8S=this.stx.panels[this.panelName];C8S=this.stx.dateFromTick(N8S,P8S.chart,!0);this.d1=c4S.yyyymmddhhmmssmmm(C8S);this.tzo1=C8S.getTimezoneOffset();this.v1=d8S;this.p1=[c4S.ChartEngine.crosshairX - this.startX,P8S.yAxis.flipped?this.startY - c4S.ChartEngine.crosshairY:c4S.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1["0" & 2147483647] == this.pNodes[this.pNodes.length - ("2" & 2147483647)][0] && this.p1[+"0"] == this.pNodes[this.pNodes.length - +"1"][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(Y8S);return !{};};c4S.Drawing.freeform.prototype.intervalRatio=function(G8S,v8S,j8S,g8S,f8S,h8S){var U2U=L6EE;var X8S,U1P,L1P;function l8S(Z8S,R8S){U2U.P5H(30);return U2U.F5H(0,"30");}X8S=0;if(G8S == v8S){X8S=1;}else if(!isNaN(G8S) && !isNaN(v8S)){U2U.T5H(13);X8S=U2U.F5H(G8S,v8S);}else if(isNaN(G8S)){if(G8S == "month"){if(v8S == "week"){X8S=s8S(f8S,h8S);}else if(v8S == "day"){X8S=l8S(f8S,h8S);}else if(!isNaN(v8S)){X8S=l8S(f8S,h8S) * n8S(f8S,h8S) / v8S;}}else if(G8S == "week"){if(v8S == "month"){U2U.T5H(48);var u2E=U2U.F5H(15,17,0,3);X8S=u2E / s8S(f8S,h8S);}if(v8S == "day"){X8S=e8S(f8S,h8S);}else if(!isNaN(v8S)){X8S=e8S(f8S,h8S) * n8S(f8S,h8S) / v8S;}}else if(G8S == "day"){U1P="w";U1P+="e";U1P+="e";U1P+="k";if(v8S == U1P){U2U.T5H(0);var m2E=U2U.F5H(6,5);X8S=m2E / e8S(f8S,h8S);}else if(v8S == "month"){U2U.P5H(49);var T2E=U2U.F5H(17,0,17);X8S=T2E / l8S(f8S,h8S);}else if(!isNaN(v8S)){X8S=n8S(f8S,h8S) / v8S;}}}else if(!isNaN(G8S)){L1P="wee";L1P+="k";if(v8S == "month"){X8S=G8S / (l8S(f8S,h8S) * n8S(f8S,h8S));}else if(v8S == L1P){X8S=G8S / (e8S(f8S,h8S) * n8S(f8S,h8S));}else if(v8S == "day"){X8S=G8S / n8S(f8S,h8S);}}U2U.T5H(13);X8S*=U2U.F5H(j8S,g8S);function e8S(a8S,m8S){U2U.P5H(29);U2U.t8L();return U2U.F5H("5",2147483647);}function n8S(c2I,i2I){if(c4S.Market.Symbology.isForexSymbol(i2I)){return 1440;}U2U.t8L();return 390;}function s8S(z8S,p8S){U2U.t8L();return 5;}return X8S;};c4S.Drawing.freeform.prototype.render=function(K2I){var o2U=L6EE;var H2I,S2I,T2I,V2I,Q2I,W2I,E2I,q2I,b2I,u2I,D2I,r2I;H2I=this.stx.panels[this.panelName];if(!H2I){return;}S2I=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,H2I.chart.symbol);if(S2I === 0){return;}T2I=this.stx.layout.candleWidth / this.candleWidth;V2I=H2I.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,H2I.chart);Q2I=this.stx.pixelFromTick(this.p0[0],H2I.chart);W2I=this.stx.pixelFromValueAdjusted(H2I,this.p0[0],this.p0[1]);E2I=[];q2I=this.lineWidth;b2I=this.getLineColor();u2I={pattern:this.pattern,lineWidth:q2I};for(var o2I=+"0";o2I < this.pNodes.length;o2I++){D2I=S2I * T2I * this.pNodes[o2I][+"0"] + Q2I;o2U.P5H(49);var A2E=o2U.F5H(9,0,9);r2I=V2I * this.pNodes[o2I][A2E];if(H2I.yAxis.flipped){o2U.T5H(0);r2I=o2U.F5H(W2I,r2I);}else {r2I+=W2I;}E2I.push(D2I,r2I);}if(!E2I.length){return;}o2U.t8L();if(this.splineTension < 0){this.stx.connectTheDots(E2I,b2I,this.name,K2I,H2I,u2I);}else {this.stx.plotSpline(E2I,this.splineTension,b2I,this.name,K2I,! ![],u2I);}};c4S.Drawing.freeform.prototype.adjust=function(){var k2I,A2I,F2I,w2I,M2I,U2I,t2I,B2I;k2I=this.stx.panels[this.panelName];if(!k2I){return;}A2I=[this.nodes[0],this.nodes[1]];this.pNodes=[A2I];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var I2I=2;I2I < this.nodes.length;I2I+=2){L6EE.T5H(4);F2I=[this.nodes[I2I],this.nodes[L6EE.f5H(1,I2I)]];this.pNodes.push(F2I);this.lowX=Math.min(this.lowX,F2I[0]);this.hiX=Math.max(this.hiX,F2I[0]);this.lowY=Math.max(this.lowY,F2I[1]);this.hiY=Math.min(this.hiY,F2I[1]);}w2I=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,k2I.chart.symbol);if(w2I === 0){return;}M2I=this.stx.layout.candleWidth / this.candleWidth;U2I=k2I.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,k2I.chart);t2I=this.stx.pixelFromTick(this.p0[0],k2I.chart);B2I=this.stx.pixelFromValueAdjusted(k2I,this.p0[0],this.p0["1" | 0]);this.lowX=this.stx.tickFromPixel(Math.floor(w2I * M2I * this.lowX) + t2I,k2I.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(w2I * M2I * this.hiX) + t2I,k2I.chart);if(k2I.yAxis.flipped){this.lowY=this.stx.valueFromPixel(B2I - Math.floor(U2I * this.lowY),k2I);this.hiY=this.stx.valueFromPixel(B2I - Math.ceil(U2I * this.hiY),k2I);}else {this.lowY=this.stx.valueFromPixel(Math.floor(U2I * this.lowY) + B2I,k2I);this.hiY=this.stx.valueFromPixel(Math.ceil(U2I * this.hiY) + B2I,k2I);}};c4S.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};c4S.Drawing.freeform.prototype.reconstruct=function(L2I,J2I){this.stx=L2I;this.color=J2I.col;this.panelName=J2I.pnl;this.pattern=J2I.ptrn;this.lineWidth=J2I.lw;this.candleWidth=J2I.cw;this.multiplier=J2I.mlt;this.d0=J2I.d0;this.tzo0=J2I.tzo0;this.v0=J2I.v0;this.interval=J2I.inter;this.periodicity=J2I.pd;this.nodes=J2I.nodes;this.adjust();};c4S.Drawing.callout=function(){var R1P;R1P="call";R1P+="out";this.name=R1P;L6EE.l8L();this.arr=[];this.w=0;this.h=0;this.padding=+"4";this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};c4S.inheritsFrom(c4S.Drawing.callout,c4S.Drawing.annotation);c4S.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];c4S.Drawing.callout.prototype.copyConfig=function(x2I){c4S.Drawing.copyConfig(this,x2I);this.borderColor=this.color;};c4S.Drawing.callout.prototype.move=function(O2I,y2I,P2I){L6EE.t8L();if(!this.penDown){return;}this.copyConfig();this.p0=[y2I,P2I];this.render(O2I);};c4S.Drawing.callout.prototype.onChange=function(d2I){var N2I,Y2I,C2I;N2I=this.stx.panels[this.panelName];if(!N2I){return;}Y2I=d2I.target;this.w=Y2I.clientWidth;this.h=Y2I.clientHeight;C2I=this.context || this.stx.chart.tempCanvas.context;c4S.clearCanvas(C2I.canvas,this.stx);this.render(C2I);this.edit(C2I);};c4S.Drawing.callout.prototype.render=function(v2I){var L2U=L6EE;var r1P,g2I,i6I,R2I,f2I,X2I,G2I,h2I,z2I,p2I,j2I,e2I,a2I,l2I,m2I,n2I,s2I,A6P,K6P,Z6P,H1P,c6I;r1P="aut";L2U.l8L();r1P+="o";this.context=v2I;g2I=this.stx.panels[this.panelName];if(!g2I){return;}i6I=this.stx.pixelFromTick(this.p0[0],g2I.chart);R2I=this.stx.pixelFromValueAdjusted(g2I,this.p0[0],this.p0[1]);if(isNaN(R2I)){return;}v2I.font=this.fontString;v2I.textBaseline="top";f2I=i6I;X2I=R2I;G2I=this.w / ("2" - 0);L2U.P5H(48);var K2E=L2U.F5H(18,29,0,13);h2I=this.h / K2E;if(this.penDown){G2I=this.defaultWidth;h2I=this.defaultHeight;if(!h2I){h2I=this.fontSize;}}z2I=this.lineWidth;if(!z2I){z2I=1.1;}p2I=this.color;if(p2I == "auto" || c4S.isTransparent(p2I)){p2I=this.stx.defaultColor;}j2I=this.borderColor;if(j2I == r1P || c4S.isTransparent(j2I)){j2I=this.stx.defaultColor;}if(this.highlighted){j2I=this.stx.getCanvasColor("stx_highlight_vector");}n2I=Math.min(Math.min(G2I,h2I) / 2,8);if(this.stem){if(this.stem.t){e2I=this.stx.pixelFromTick(this.stem.t);l2I=this.stx.pixelFromValueAdjusted(g2I,this.stem.t,this.stem.v);}else if(this.stem.x){e2I=f2I;l2I=X2I;f2I+=this.stem.x;X2I+=this.stem.y;}s2I="";if(e2I >= f2I + G2I){L2U.P5H(4);a2I=L2U.F5H(G2I,f2I);s2I="r";}else if(e2I > f2I - G2I && e2I < f2I + G2I){a2I=f2I;s2I=773 < +"7230"?(2190,719.82) >= 259.48?"c":+"464.77" !== (8760,8140)?! !0:(3.96e+3,942.32):(+"7.05e+3",519.86);}else if(e2I <= f2I - G2I){L2U.T5H(0);a2I=L2U.F5H(f2I,G2I);s2I=1840 >= 73.96?33.71 === (+"3917",+"9150")?("e",!0):"l":(448.61,"M");}if(l2I >= X2I + h2I){L2U.T5H(4);m2I=L2U.f5H(h2I,X2I);s2I+=(5400,733.25) === 4680?(0x25a3,!1):(170.51,6720) != (1340,4340)?"b":(4225,+"6540") == 903.97?4.62e+3:("R",+"118.30");}else if(l2I > X2I - h2I && l2I < X2I + h2I){m2I=X2I;s2I+=(96.32,3260) <= (203.52,+"7598")?"m":0x1a54;}else if(l2I <= X2I - h2I){L2U.T5H(0);m2I=L2U.F5H(X2I,h2I);s2I+="t";}this.stemEntry=s2I;if(s2I != "cm"){e2I=Math.round(e2I);a2I=Math.round(a2I);l2I=Math.round(l2I);m2I=Math.round(m2I);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",v2I);}else {if(this.fillColor){v2I.fillStyle=this.fillColor;v2I.globalAlpha=0.4;}else if(this.stem){v2I.fillStyle=this.stx.containerColor;}}v2I.strokeStyle=j2I;if(v2I.setLineDash){v2I.setLineDash(c4S.borderPatternToArray(z2I,this.pattern));v2I.lineDashOffset=0;;}if(j2I){v2I.beginPath();v2I.lineWidth=z2I;L2U.T5H(6);v2I.moveTo(L2U.f5H(G2I,n2I,f2I),L2U.f5H(X2I,h2I,L2U.T5H(0)));if(this.stemEntry != "rt"){L2U.T5H(4);v2I.quadraticCurveTo(L2U.f5H(G2I,f2I),L2U.F5H(X2I,h2I,L2U.T5H(0)),L2U.f5H(G2I,f2I,L2U.T5H(4)),L2U.F5H(X2I,n2I,h2I,L2U.P5H(10)));;}else {v2I.lineTo(e2I,l2I);L2U.P5H(4);v2I.lineTo(L2U.F5H(G2I,f2I),L2U.f5H(X2I,n2I,h2I,L2U.P5H(10)));}L2U.T5H(4);v2I.lineTo(L2U.f5H(G2I,f2I),L2U.F5H(X2I,"2",n2I,L2U.T5H(50)));if(this.stemEntry == "rm"){v2I.lineTo(e2I,l2I);}L2U.T5H(4);v2I.lineTo(L2U.f5H(G2I,f2I),L2U.f5H(2,n2I,X2I,L2U.T5H(51)));L2U.P5H(4);v2I.lineTo(L2U.f5H(G2I,f2I),L2U.F5H(h2I,n2I,X2I,L2U.T5H(6)));if(this.stemEntry != "rb"){L2U.P5H(23);A6P=-L2U.f5H(553648128,"592319240");L2U.T5H(1);K6P=L2U.F5H("1498133583",1);Z6P=2;for(var i6P=1;L2U.c2P(i6P.toString(),i6P.toString().length,16465) !== A6P;i6P++){L2U.T5H(4);v2I.quadraticCurveTo(L2U.F5H(G2I,f2I),L2U.f5H(h2I,X2I,L2U.P5H(4)),L2U.f5H(G2I,n2I,f2I,L2U.T5H(6)),L2U.f5H(h2I,X2I,L2U.T5H(4)));;Z6P+=+"2";}if(L2U.c2P(Z6P.toString(),Z6P.toString().length,+"70639") !== K6P){L2U.T5H(0);v2I.quadraticCurveTo(L2U.F5H(f2I,G2I),L2U.F5H(X2I,h2I,L2U.P5H(13)),L2U.F5H(f2I,n2I,G2I,L2U.P5H(52)),L2U.F5H(X2I,h2I,L2U.T5H(13)));;}}else {v2I.lineTo(e2I,l2I);L2U.T5H(6);v2I.lineTo(L2U.f5H(G2I,n2I,f2I),L2U.F5H(h2I,X2I,L2U.T5H(4)));}L2U.T5H(51);v2I.lineTo(L2U.f5H(2,n2I,f2I),L2U.f5H(h2I,X2I,L2U.P5H(4)));if(this.stemEntry == "cb"){v2I.lineTo(e2I,l2I);}L2U.P5H(53);v2I.lineTo(L2U.f5H(2,f2I,n2I),L2U.F5H(h2I,X2I,L2U.P5H(4)));L2U.T5H(10);v2I.lineTo(L2U.F5H(f2I,n2I,G2I),L2U.F5H(h2I,X2I,L2U.P5H(4)));if(this.stemEntry != "lb"){L2U.T5H(0);v2I.quadraticCurveTo(L2U.f5H(f2I,G2I),L2U.F5H(h2I,X2I,L2U.T5H(4)),L2U.f5H(f2I,G2I,L2U.T5H(0)),L2U.f5H(h2I,n2I,X2I,L2U.P5H(6)));;}else {v2I.lineTo(e2I,l2I);L2U.P5H(0);v2I.lineTo(L2U.f5H(f2I,G2I),L2U.F5H(h2I,n2I,X2I,L2U.T5H(6)));}L2U.T5H(0);v2I.lineTo(L2U.F5H(f2I,G2I),L2U.f5H(2,n2I,X2I,L2U.P5H(51)));if(this.stemEntry == "lm"){v2I.lineTo(e2I,l2I);}L2U.P5H(0);v2I.lineTo(L2U.f5H(f2I,G2I),L2U.f5H(2,X2I,n2I,L2U.P5H(53)));L2U.T5H(0);v2I.lineTo(L2U.f5H(f2I,G2I),L2U.f5H(X2I,n2I,h2I,L2U.T5H(10)));if(this.stemEntry != "lt"){L2U.P5H(0);v2I.quadraticCurveTo(L2U.f5H(f2I,G2I),L2U.F5H(X2I,h2I,L2U.P5H(0)),L2U.F5H(f2I,n2I,G2I,L2U.T5H(10)),L2U.F5H(X2I,h2I,L2U.P5H(0)));;}else {v2I.lineTo(e2I,l2I);L2U.P5H(10);v2I.lineTo(L2U.f5H(f2I,n2I,G2I),L2U.f5H(X2I,h2I,L2U.P5H(0)));}L2U.P5H(53);v2I.lineTo(L2U.f5H(2,f2I,n2I),L2U.F5H(X2I,h2I,L2U.P5H(0)));if(this.stemEntry == "ct"){v2I.lineTo(e2I,l2I);}L2U.T5H(51);v2I.lineTo(L2U.f5H(2,n2I,f2I),L2U.F5H(X2I,h2I,L2U.P5H(0)));L2U.P5H(6);v2I.lineTo(L2U.F5H(G2I,n2I,f2I),L2U.F5H(X2I,h2I,L2U.P5H(0)));v2I.fill();v2I.globalAlpha=1;if(this.pattern != "none"){v2I.stroke();}}if(this.highlighted){H1P="stx_annotation";H1P+="_";H1P+="hig";H1P+="hlight";this.stx.canvasColor(H1P,v2I);}else {v2I.fillStyle=p2I;}X2I+=this.padding;if(!this.ta){for(var Z2I=0;Z2I < this.arr.length;Z2I++){v2I.fillText(this.arr[Z2I],f2I - G2I + this.padding,X2I - h2I);X2I+=this.fontSize;}}v2I.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){c6I=this.highlighted == "p0"?! !{}:!"1";this.littleCircle(v2I,e2I,l2I,c6I);};};c4S.Drawing.callout.prototype.click=function(E6I,o6I,r6I){var H6I;if(this.stx.overXAxis || this.stx.overYAxis){return;}H6I=this.stx.panels[this.panelName];L6EE.t8L();this.copyConfig();this.setPoint(0,o6I,r6I,H6I.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return ![];}this.adjust();this.edit(E6I);this.penDown=![];return ![];};c4S.Drawing.callout.prototype.reposition=function(V6I,S6I,K6I,T6I){var W6I,b6I,u6I,C1P;if(!S6I){return;}W6I=this.stx.panels[this.panelName];b6I=S6I.tick - K6I;u6I=S6I.value - T6I;if(S6I.stem){C1P="dr";C1P+="a";C1P+="g";if(S6I.action == C1P){this.stem={d:this.stx.dateFromTick(K6I,W6I.chart,! ![]),v:T6I};}else if(S6I.action == "move"){this.setPoint(0,S6I.p0[0] - b6I,S6I.p0[1] - u6I,W6I.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(S6I.stem.d,W6I.chart) - b6I),v:S6I.stem.v - u6I};}this.adjust();}else {this.setPoint(0,S6I.p0[+"0"] - b6I,S6I.p0[1] - u6I,W6I.chart);}this.render(V6I);};c4S.Drawing.callout.prototype.lineIntersection=function(x6I,O6I,J6I,L6I){var C2U=L6EE;var U6I,Q6I,k6I,B6I,w6I,M6I,q6I,F6I,I6I,t6I,A6I,D6I;U6I=this.stx.panels[this.panelName];Q6I=this.stem;k6I=this.p0;B6I=this.stx;if(!k6I || !Q6I || !U6I){return !{};}C2U.t8L();w6I=Q6I.t || this.stx.tickFromDate(Q6I.d,U6I.chart);M6I={x0:k6I[0],x1:w6I,y0:k6I[1],y1:Q6I.v};q6I=c4S.convertBoxToPixels(B6I,this.panelName,M6I);F6I=q6I.x0;I6I=q6I.y0;t6I=q6I.x1;A6I=q6I.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf(3949 != ("796" - 0,629.76)?(3940,721.98) >= (1200,707)?(5960,3088) <= 3914?"l":(!{},"C"):"O":("G",0x2364)) > - +"1"){C2U.P5H(54);var Z2E=C2U.F5H(40,20,18,0);F6I-=this.w / Z2E;}else if(this.stemEntry.indexOf("r") > - +"1"){F6I+=this.w / ("2" & 2147483647);}if(this.stemEntry.indexOf((+"8122",+"3870") !== (244.61,940.55)?"t":"9.74e+3" * 1) > - +"1"){C2U.P5H(55);var y2E=C2U.F5H(40,17,12,495);I6I-=this.h / y2E;}else if(this.stemEntry.indexOf("b") > -1){I6I+=this.h / +"2";}}D6I=c4S.convertBoxToPixels(B6I,this.panelName,J6I);return c4S.boxIntersects(D6I.x0,D6I.y0,D6I.x1,D6I.y1,F6I,I6I,t6I,A6I,L6I);};c4S.Drawing.callout.prototype.intersected=function(P6I,Y6I,y6I){var I2U=L6EE;var C6I,j1P,N6I,d6I,v6I,X6I,f6I,h6I,G6I,q1P;C6I=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,y6I)){j1P="d";j1P+="r";j1P+="a";j1P+="g";this.highlighted="p0";return {action:j1P,stem:!0};}I2U.T5H(56);var i2E=I2U.f5H(1069149950,12829799424,7,9,6414899711);I2U.T5H(57);var W2E=I2U.F5H(9,14,5,1,20);N6I=this.stx.pixelFromTick(this.p0["0" >> i2E],C6I.chart) - this.w / W2E;I2U.P5H(58);var G2E=I2U.F5H(8,103,13);I2U.T5H(58);var B2E=I2U.f5H(14,250,18);d6I=this.stx.pixelFromValueAdjusted(C6I,this.p0[+"0"],this.p0[G2E]) - this.h / B2E;v6I=N6I + this.w;X6I=d6I + this.h;if(this.stem && this.stem.x){N6I+=this.stem.x;v6I+=this.stem.x;d6I+=this.stem.y;X6I+=this.stem.y;}f6I=this.stx.pixelFromTick(P6I,C6I.chart);h6I=this.stx.pixelFromValueAdjusted(C6I,P6I,Y6I);if(f6I + y6I.r >= N6I && f6I - y6I.r <= v6I && h6I + y6I.r >= d6I && h6I - y6I.r <= X6I){this.highlighted=! !{};return {p0:c4S.clone(this.p0),tick:P6I,value:Y6I};}G6I=this.lineIntersection(P6I,Y6I,y6I,"segment");if(G6I){q1P="m";q1P+="o";q1P+="ve";this.highlighted=! ![];return {action:q1P,stem:c4S.clone(this.stem),p0:c4S.clone(this.p0),tick:P6I,value:Y6I};}return null;};c4S.Drawing.fibonacci=function(){var e1P,J1P;e1P="fib";e1P+="o";e1P+="nacci";J1P="fi";J1P+="bonac";J1P+="c";J1P+="i";L6EE.t8L();this.name=J1P;this.configurator=e1P;};c4S.inheritsFrom(c4S.Drawing.fibonacci,c4S.Drawing.BaseTwoPoint);c4S.Drawing.fibonacci.mapping={trend:(626.01,7690) < "232.67" - 0?8420 >= 453.68?(! !"",+"1.99e+3"):("Z","K"):"t",color:1509 <= ("2253" << 84173120,6970)?"c":281.63,parameters:"p",pattern:b1P,opacity:"o",lineWidth:"lw",level:(8100,7286) == 3725?(0x371,"H"):"l",extendLeft:5104 <= (933.3,42)?("M",!""):"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:(3770,"957.78" * 1) <= 234.18?"1393" >> 221179584 != "8020" << 282811776?("8.51e+3" | 258,770.61):!1:"d"};c4S.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,1,1.382,+"1.618"];c4S.Drawing.fibonacci.prototype.configs=[c1P,"fillColor","lineWidth","pattern","parameters"];c4S.Drawing.fibonacci.prototype.initializeSettings=function(j6I){var l6I,e6I;l6I=this.recommendedLevels;if(l6I && !j6I.currentVectorParameters.fibonacci.fibsAlreadySet){e6I=j6I.currentVectorParameters.fibonacci.fibs;for(var n6I=+"0";n6I < e6I.length;n6I++){delete e6I[n6I].display;for(var s6I=0;s6I < l6I.length;s6I++){if(e6I[n6I].level == l6I[s6I]){e6I[n6I].display=! ![];}}}}};c4S.Drawing.fibonacci.prototype.setOuter=function(){var g6I,z6I,i0I,c0I,H0I,E0I,o0I,S0I,W0I,a6I,m6I,p6I,R6I,r0I;g6I=this.stx;z6I=g6I.panels[this.panelName];if(!z6I){return;}i0I=Math.max(this.p0[1],this.p1[1]);c0I=Math.min(this.p0[1],this.p1[1]);L6EE.P5H(0);H0I=L6EE.F5H(i0I,c0I);this.outer={p0:c4S.clone(this.p0),p1:c4S.clone(this.p1)};E0I=g6I.pixelFromValueAdjusted(z6I,this.p0[0],this.p0["1" & 2147483647]);o0I=g6I.pixelFromValueAdjusted(z6I,this.p1[0],this.p1[1]);S0I=g6I.pixelFromTick(this.p0[0],z6I.chart);W0I=g6I.pixelFromTick(this.p1[0],z6I.chart);a6I=+"0";m6I=+"1";for(var Z6I=+"0";Z6I < this.parameters.fibs.length;Z6I++){p6I=this.parameters.fibs[Z6I];if(p6I.level >= a6I && p6I.level <= m6I || !p6I.display)continue;R6I=g6I.pixelFromValueAdjusted(z6I,this.p0[0],o0I < E0I?i0I - H0I * p6I.level:c0I + H0I * p6I.level);r0I=c4S.xIntersection({x0:S0I,x1:W0I,y0:E0I,y1:o0I},R6I);if(p6I.level < a6I){a6I=p6I.level;this.outer.p1[1]=g6I.valueFromPixel(R6I,z6I);this.outer.p1[0]=g6I.tickFromPixel(r0I,z6I.chart);}else if(p6I.level > m6I){m6I=p6I.level;this.outer.p0[1]=g6I.valueFromPixel(R6I,z6I);this.outer.p0[+"0"]=g6I.tickFromPixel(r0I,z6I.chart);}}};c4S.Drawing.fibonacci.prototype.click=function(T0I,u0I,K0I){var b0I;b0I=this.stx.panels[this.panelName];if(!b0I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,u0I,K0I,b0I.chart);this.penDown=!0;return ! !"";}if(this.accidentalClick(u0I,K0I)){return this.dragToDraw;}this.setPoint(1,u0I,K0I,b0I.chart);this.setOuter();this.parameters=c4S.clone(this.parameters);this.penDown=!"1";return !"";;};c4S.Drawing.fibonacci.prototype.render=function(V0I){var n2U=L6EE;var v9P,Q0I,C0I,Y0I,N0I,f0I,J0I,t0I,F0I,D0I,h0I,G0I,n0I,j0I,g0I,e0I,z0I,d0I,L0I,v0I,x0I,A0I,O9P,p9P,s9P,M9P,B0I,q0I,y0I,w0I,k0I,Y9P,p0I,h9P,O0I,M0I,I0I,l0I,U0I,s0I,z9P,a0I,m0I;v9P="mid";v9P+="dle";Q0I=this.stx.panels[this.panelName];if(!Q0I){return;}C0I=Q0I.yAxis;if(!this.p1){return;}Y0I=Math.max(this.p0[1],this.p1[1]);N0I=Math.min(this.p0[1],this.p1[+"1"]);f0I=C0I.flipped?N0I - Y0I:Y0I - N0I;J0I=this.stx.pixelFromTick(this.p0["0" ^ 0],Q0I.chart);t0I=this.stx.pixelFromTick(this.p1[0],Q0I.chart);F0I=this.stx.pixelFromValueAdjusted(Q0I,this.p0[0],this.p0[1]);D0I=this.stx.pixelFromValueAdjusted(Q0I,this.p1[0],this.p1[1]);h0I=Math.min(D0I,F0I);G0I=Math.max(D0I,F0I);n2U.P5H(0);n0I=n2U.F5H(G0I,h0I);n2U.T5H(59);j0I=n2U.f5H(J0I,D0I,0,t0I,F0I);g0I={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=g0I;}e0I=this.getLineColor(this.parameters.trend.color);V0I.textBaseline=v9P;this.stx.canvasFont("stx_yaxis",V0I);n2U.T5H(6);var P2E=n2U.F5H(5,0,5);z0I=V0I.measureText("161.8%").width + P2E;d0I=Number.MAX_VALUE;L0I=Number.MAX_VALUE;n2U.P5H(60);var V2E=n2U.f5H(3,4,3,6);v0I=Number.MAX_VALUE * V2E;x0I=Number.MAX_VALUE * - +"1";A0I=this.color;if(A0I == "auto" || c4S.isTransparent(A0I)){A0I=this.stx.defaultColor;}this.rays=[];for(var X0I=0;X0I < this.parameters.fibs.length;X0I++){O9P="segm";O9P+="ent";p9P="au";p9P+="t";p9P+="o";s9P="aut";s9P+="o";M9P="l";M9P+="e";M9P+="ft";V0I.textAlign=M9P;V0I.fillStyle=A0I;B0I=this.parameters.fibs[X0I];if(!B0I.display)continue;q0I=this.stx.pixelFromValueAdjusted(Q0I,this.p0[0],D0I < F0I?Y0I - f0I * B0I.level:N0I + f0I * B0I.level);y0I=c4S.xIntersection({x0:J0I,x1:t0I,y0:F0I,y1:D0I},q0I);w0I=this.parameters.extendLeft?0:y0I;k0I=Q0I.left + Q0I.width;if(this.parameters.printLevels){Y9P="r";Y9P+="i";Y9P+="ght";n2U.T5H(61);var U2E=n2U.f5H(811,3,63);n2U.P5H(4);var a2E=n2U.f5H(5,5);p0I=Math.round(B0I.level * U2E) / a2E + "%";k0I-=z0I;if(this.parameters.printValues){h9P="stx_";h9P+="yaxis";V0I.fillStyle=A0I;this.stx.canvasFont(h9P,V0I);;}if(k0I < w0I){V0I.textAlign=Y9P;}V0I.fillText(p0I,k0I,q0I);if(k0I < w0I){k0I+=5;}else {k0I-=+"5";}}if(this.parameters.printValues){if(y0I < Q0I.width){O0I=this.stx.transformedPriceFromPixel(q0I,Q0I);if(C0I.priceFormatter){O0I=C0I.priceFormatter(this.stx,Q0I,O0I);}else {O0I=this.stx.formatYAxisPrice(O0I,Q0I);}if(V0I == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Q0I,O0I,q0I,A0I,null,V0I);if(V0I == this.stx.chart.context){this.stx.startClip(Q0I.name);}}}M0I=B0I.color;if(M0I == "auto" || c4S.isTransparent(M0I)){M0I=this.color;}if(M0I == s9P || c4S.isTransparent(M0I)){M0I=this.stx.defaultColor;}I0I=B0I.color;if(I0I == "auto" || c4S.isTransparent(I0I)){I0I=this.fillColor;}if(I0I == p9P || c4S.isTransparent(I0I)){I0I=this.stx.defaultColor;}V0I.fillStyle=I0I;l0I=c4S.clone(B0I.parameters);if(this.highlighted){l0I.opacity=+"1";}this.stx.plotLine(w0I,k0I,q0I,q0I,this.highlighted?e0I:M0I,O9P,V0I,Q0I,l0I);this.rays.push([[w0I,q0I],[k0I,q0I]]);V0I.globalAlpha=0.05;V0I.beginPath();V0I.moveTo(k0I,q0I);V0I.lineTo(w0I,q0I);if(w0I){V0I.lineTo(t0I,D0I);}else {V0I.lineTo(w0I,D0I);}V0I.lineTo(k0I,D0I);if(typeof I0I != "undefined"){V0I.fill();}V0I.globalAlpha=1;if(q0I < L0I){d0I=y0I;L0I=q0I;}if(q0I > x0I){v0I=y0I;x0I=q0I;}}for(var P0I="0" << 374686144;P0I <= 1;P0I++){U0I=j0I?G0I - n0I * P0I:h0I + n0I * P0I;U0I=Math.round(U0I);if(U0I < L0I){d0I=c4S.xIntersection({x0:J0I,x1:t0I,y0:F0I,y1:D0I},U0I);L0I=U0I;}if(U0I > x0I){v0I=c4S.xIntersection({x0:J0I,x1:t0I,y0:F0I,y1:D0I},U0I);x0I=U0I;}}s0I=c4S.clone(this.parameters.trend.parameters);if(this.highlighted){s0I.opacity=1;}this.stx.plotLine(d0I,v0I,L0I,x0I,e0I,"segment",V0I,Q0I,s0I);if(this.highlighted){z9P="p";z9P+="1";a0I=this.highlighted == "p0"?! !{}:![];m0I=this.highlighted == z9P?! !1:![];this.littleCircle(V0I,J0I,F0I,a0I);this.littleCircle(V0I,t0I,D0I,m0I);}};c4S.Drawing.fibonacci.prototype.reposition=function(R0I,Z0I,i9I,c9I){if(!Z0I){return;}L6EE.l8L();c4S.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};c4S.Drawing.fibonacci.prototype.intersected=function(K9I,T9I,V9I){var o9I,r9I,S9I,W9I,b9I,u9I;o9I=this.p0;r9I=this.p1;if(!o9I || !r9I){return null;}S9I={0:o9I,1:r9I};for(var H9I in S9I){if(this.pointIntersection(S9I[H9I][0],S9I[H9I][1],V9I)){L6EE.P5H(4);this.highlighted=L6EE.F5H(H9I,("9746" ^ 0) != (75.07,595.14)?(7350,+"2379") == 3800?![]:(4092,710.57) >= (8820,"9702" >> 123645600)?0x2116:"p":4.84e+3);return {action:"drag",point:"p" + H9I};}}W9I=this.outer;b9I=this.rays;u9I=W9I && this.lineIntersection(K9I,T9I,V9I,"segment",W9I.p0,W9I.p1);if(!u9I){for(var E9I=0;E9I < b9I.length;E9I++){if(this.lineIntersection(K9I,T9I,V9I,"ray",b9I[E9I][0],b9I[E9I][1],! !"1")){u9I=!0;break;}}}if(u9I){this.highlighted=! !{};return {action:"move",p0:c4S.clone(o9I),p1:c4S.clone(r9I),tick:K9I,value:T9I};}return null;};c4S.Drawing.fibonacci.prototype.reconstruct=function(q9I,Q9I){Q9I=c4S.replaceFields(Q9I,c4S.reverseObject(c4S.Drawing.fibonacci.mapping));this.stx=q9I;this.parameters=Q9I.parameters;if(!this.parameters){this.parameters=c4S.clone(this.stx.currentVectorParameters.fibonacci);}this.color=Q9I.col;this.fillColor=Q9I.fc;this.panelName=Q9I.pnl;this.d0=Q9I.d0;this.d1=Q9I.d1;this.d2=Q9I.d2;this.tzo0=Q9I.tzo0;L6EE.l8L();this.tzo1=Q9I.tzo1;this.tzo2=Q9I.tzo2;this.v0=Q9I.v0;this.v1=Q9I.v1;this.v2=Q9I.v2;this.adjust();};c4S.Drawing.fibonacci.prototype.adjust=function(){var D9I;D9I=this.stx.panels[this.panelName];if(!D9I){return;}this.setPoint(0,this.d0,this.v0,D9I.chart);this.setPoint(1,this.d1,this.v1,D9I.chart);this.setOuter();};c4S.Drawing.fibonacci.prototype.serialize=function(){var k9I;k9I={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return c4S.replaceFields(k9I,c4S.Drawing.fibonacci.mapping);};c4S.Drawing.retracement=function(){L6EE.t8L();this.name="retracement";};c4S.inheritsFrom(c4S.Drawing.retracement,c4S.Drawing.fibonacci);c4S.Drawing.fibprojection=function(){var w9P;w9P="f";w9P+="i";w9P+="bproj";L6EE.l8L();w9P+="ection";this.name=w9P;this.dragToDraw=!{};this.p2=null;};c4S.inheritsFrom(c4S.Drawing.fibprojection,c4S.Drawing.fibonacci);L6EE.T5H(1);c4S.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,+"2.618",L6EE.F5H("4.236",1)];c4S.Drawing.fibprojection.prototype.click=function(B9I,I9I,U9I){var F9I;F9I=this.stx.panels[this.panelName];if(!F9I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,I9I,U9I,F9I.chart);this.penDown=!"";return ! !0;}if(this.accidentalClick(I9I,U9I)){this.stx.undo();return ! !1;}L6EE.l8L();if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],F9I.chart);this.parameters=c4S.clone(this.parameters);return ! !{};}this.setPoint(1,I9I,U9I,F9I.chart);this.p2=[this.p1[0],this.p1[1]];return !1;;};c4S.Drawing.fibprojection.prototype.render=function(w9I){var b2U=L6EE;var F9P,E9P,Q9P,M9I,n9I,l9I,C9I,N9I,v9I,d9I,X9I,O9I,s9I,f9I,j9I,y9I,d9P,k9P,I9P,f9P,o9P,P9I,t9I,g9I,L9I,A9I,z9I,Y9I,x9I,J9I,e9I,G9I,D9P,p9I,a9I,m9I;F9P="a";F9P+="u";F9P+="t";F9P+="o";E9P="st";E9P+="x_";E9P+="ya";E9P+="xis";Q9P="mi";Q9P+="dd";Q9P+="le";M9I=this.stx.panels[this.panelName];if(!M9I){return;}n9I=M9I.yAxis;if(!this.p1){return;}b2U.P5H(62);var L2E=b2U.F5H(7,4,7,16,63);b2U.T5H(58);var R2E=b2U.F5H(20,159,8);l9I=this.p1[L2E] - this.p0[R2E];C9I=this.stx.pixelFromTick(this.p0[+"0"],M9I.chart);N9I=this.stx.pixelFromTick(this.p1[0],M9I.chart);v9I=this.stx.pixelFromValueAdjusted(M9I,this.p0[0],this.p0[1]);d9I=this.stx.pixelFromValueAdjusted(M9I,this.p1[0],this.p1[1]);X9I=null;O9I=null;if(this.p2){X9I=this.stx.pixelFromTick(this.p2[0],M9I.chart);O9I=this.stx.pixelFromValueAdjusted(M9I,this.p2[0],this.p2[1]);}s9I={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" & 2147483647}};if(!this.parameters.trend){this.parameters.trend=s9I;}f9I=this.getLineColor(this.parameters.trend.color);w9I.textBaseline=Q9P;this.stx.canvasFont(E9P,w9I);b2U.T5H(10);var r2E=b2U.F5H(18,5,13);j9I=w9I.measureText("161.8%").width + r2E;y9I=this.color;if(y9I == F9P || c4S.isTransparent(y9I)){y9I=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var h9I="0" & 2147483647;h9I < this.parameters.fibs.length;h9I++){d9P="unde";d9P+="fin";d9P+="e";d9P+="d";k9P="se";k9P+="gm";k9P+="e";k9P+="nt";I9P="a";I9P+="ut";I9P+="o";f9P="au";f9P+="t";f9P+="o";o9P="a";o9P+="uto";w9I.textAlign="left";w9I.fillStyle=y9I;P9I=this.parameters.fibs[h9I];if(!P9I.display)continue;t9I=this.stx.pixelFromValueAdjusted(M9I,this.p2[+"0"],this.p2[1] + l9I * P9I.level);g9I=c4S.xIntersection({x0:C9I,x1:N9I,y0:v9I,y1:d9I},t9I);L9I=this.parameters.extendLeft?"0" ^ 0:C9I;A9I=M9I.left + M9I.width;if(this.parameters.printLevels){b2U.P5H(4);var H2E=b2U.F5H(9,1);b2U.P5H(12);var n2E=b2U.F5H(4,2,7048,15);b2U.T5H(63);var C2E=b2U.f5H(45980,7315,8,12,6);z9I=Math.round(P9I.level * +"1000") / H2E + (n2E >= 965.27?"%":(892.13,C2E));A9I-=j9I;if(this.parameters.printValues){w9I.fillStyle=y9I;this.stx.canvasFont("stx_yaxis",w9I);;}if(A9I < L9I){w9I.textAlign="right";}w9I.fillText(z9I,A9I,t9I);if(A9I < L9I){A9I+=5;}else {A9I-=5;}}if(this.parameters.printValues){if(g9I < M9I.width){Y9I=this.stx.transformedPriceFromPixel(t9I,M9I);if(n9I.priceFormatter){Y9I=n9I.priceFormatter(this.stx,M9I,Y9I);}else {Y9I=this.stx.formatYAxisPrice(Y9I,M9I);}if(w9I == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(M9I,Y9I,t9I,y9I,null,w9I);if(w9I == this.stx.chart.context){this.stx.startClip(M9I.name);}}}x9I=P9I.color;if(x9I == o9P || c4S.isTransparent(x9I)){x9I=this.color;}if(x9I == "auto" || c4S.isTransparent(x9I)){x9I=this.stx.defaultColor;}J9I=P9I.color;if(J9I == f9P || c4S.isTransparent(J9I)){J9I=this.fillColor;}if(J9I == I9P || c4S.isTransparent(J9I)){J9I=this.stx.defaultColor;}w9I.fillStyle=J9I;e9I=c4S.clone(P9I.parameters);if(this.highlighted){e9I.opacity=1;}this.stx.plotLine(L9I,A9I,t9I,t9I,this.highlighted?f9I:x9I,k9P,w9I,M9I,e9I);this.rays.push([[L9I,t9I],[A9I,t9I]]);w9I.globalAlpha=0.05;w9I.beginPath();w9I.moveTo(A9I,t9I);w9I.lineTo(L9I,t9I);if(L9I){w9I.lineTo(C9I,O9I);}else {w9I.lineTo(L9I,O9I);}w9I.lineTo(A9I,O9I);if(typeof J9I != d9P){w9I.fill();}w9I.globalAlpha=1;}}G9I=c4S.clone(this.parameters.trend.parameters);if(this.highlighted){G9I.opacity=1;}this.stx.plotLine(C9I,N9I,v9I,d9I,f9I,"segment",w9I,M9I,G9I);if(this.p2){this.stx.plotLine(N9I,X9I,d9I,O9I,f9I,"segment",w9I,M9I,G9I);}if(this.highlighted){D9P="p";D9P+="1";p9I=this.highlighted == "p0"?! ![]:![];a9I=this.highlighted == D9P?! ![]:!{};m9I=this.highlighted == "p2"?!"":!{};this.littleCircle(w9I,C9I,v9I,p9I);this.littleCircle(w9I,N9I,d9I,a9I);this.littleCircle(w9I,X9I,O9I,m9I);}};c4S.Drawing.fibprojection.prototype.move=function(i1I,Z9I,R9I){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[Z9I,R9I];}else {this.p2=[Z9I,R9I];}this.render(i1I);};c4S.Drawing.fibprojection.prototype.reposition=function(r1I,c1I,S1I,W1I){var H1I,E1I,o1I;if(!c1I){return;}H1I=this.stx.panels[this.panelName];E1I=c1I.tick - S1I;o1I=c1I.value - W1I;if(c1I.action == "move"){this.setPoint(0,c1I.p0[0] - E1I,c1I.p0[1] - o1I,H1I.chart);this.setPoint(1,c1I.p1[0] - E1I,c1I.p1[1] - o1I,H1I.chart);this.setPoint(2,c1I.p2["0" << 1304419264] - E1I,c1I.p2[1] - o1I,H1I.chart);this.render(r1I);}else if(c1I.action == "drag"){this[c1I.point]=[S1I,W1I];this.setPoint(0,this.p0[0],this.p0[1],H1I.chart);this.setPoint(1,this.p1[0],this.p1["1" & 2147483647],H1I.chart);this.setPoint(2,this.p2[0],this.p2[+"1"],H1I.chart);this.render(r1I);}};c4S.Drawing.fibprojection.prototype.intersected=function(Q1I,q1I,D1I){var S9P,N9P,u1I,b1I,K1I,k1I,F1I,I1I;S9P="s";S9P+="egmen";S9P+="t";N9P="segm";N9P+="ent";u1I=this.p0;b1I=this.p1;K1I=this.p2;if(!u1I || !b1I || !K1I){return null;}k1I={0:u1I,1:b1I,2:K1I};for(var T1I in k1I){if(this.pointIntersection(k1I[T1I][0],k1I[T1I][1],D1I)){L6EE.P5H(4);this.highlighted=L6EE.f5H(T1I,900 !== (6450,3459)?4960 === (522,191.52)?("0x1a27" << 810393952,440.78):"p":897.72);return {action:"drag",point:(6320 >= (3121,+"9250")?! !"1":("8114" | 7698,822.02) !== ("5575" >> 32805632,6359)?"p":(2477,1580) < 9520?"c":(! !1,6.61e+3)) + T1I};}}F1I=this.rays;I1I=this.lineIntersection(Q1I,q1I,D1I,N9P,u1I,b1I) || this.lineIntersection(Q1I,q1I,D1I,S9P,b1I,K1I);if(!I1I){for(var V1I=0;V1I < F1I.length;V1I++){if(this.lineIntersection(Q1I,q1I,D1I,"ray",F1I[V1I][0],F1I[V1I][1],! !1)){I1I=! !{};break;}}}if(I1I){this.highlighted=! ![];return {action:"move",p0:c4S.clone(u1I),p1:c4S.clone(b1I),p2:c4S.clone(K1I),tick:Q1I,value:q1I};}return null;};c4S.Drawing.fibprojection.prototype.adjust=function(){var U1I;U1I=this.stx.panels[this.panelName];if(!U1I){return;}L6EE.T5H(30);this.setPoint(L6EE.F5H(0,"0"),this.d0,this.v0,U1I.chart);this.setPoint(1,this.d1,this.v1,U1I.chart);this.setPoint(+"2",this.d2,this.v2,U1I.chart);};c4S.Drawing.fibarc=function(){var l9P;l9P="f";l9P+="iba";l9P+="r";l9P+="c";this.name=l9P;;};c4S.inheritsFrom(c4S.Drawing.fibarc,c4S.Drawing.fibonacci);c4S.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];c4S.Drawing.fibarc.prototype.setOuter=function(){var B1I,w1I,M1I,A1I,J1I,t1I,L1I;B1I=this.stx.panels[this.panelName];if(!B1I){return;}this.outer={p0:c4S.clone(this.p0),p1:c4S.clone(this.p1)};w1I=this.stx.pixelFromValueAdjusted(B1I,this.p0[+"0"],this.p0[1]);M1I=this.stx.pixelFromValueAdjusted(B1I,this.p1[0],this.p1[+"1"]);A1I=this.stx.pixelFromTick(this.p0[0],B1I.chart);J1I=this.stx.pixelFromTick(this.p1[0],B1I.chart);L6EE.P5H(64);t1I=L6EE.F5H(1,w1I,"2",M1I);L1I=c4S.xIntersection({x0:A1I,x1:J1I,y0:w1I,y1:M1I},t1I);L6EE.l8L();this.outer.p0[1]=this.stx.valueFromPixel(t1I,B1I);this.outer.p0[0]=this.stx.tickFromPixel(L1I,B1I.chart);};c4S.Drawing.fibarc.prototype.intersected=function(C1I,v1I,O1I){var X1I,y1I,P1I,h1I,f1I,x9P,t9P,n1I,x1I,N1I,G1I,d1I;X1I=this.stx.panels[this.panelName];if(!X1I){return;}y1I=this.p0;P1I=this.p1;h1I=this.outer;if(!y1I || !P1I){return null;}f1I={0:y1I,1:P1I};for(var Y1I in f1I){if(this.pointIntersection(f1I[Y1I][0],f1I[Y1I][1],O1I)){x9P="d";x9P+="r";x9P+="ag";L6EE.T5H(4);this.highlighted=L6EE.f5H(Y1I,"p");return {action:x9P,point:(667 <= 613.08?0x5fc:"p") + Y1I};}}if(this.lineIntersection(C1I,v1I,O1I,"segment",h1I.p0,h1I.p1)){t9P="mo";t9P+="v";t9P+="e";this.highlighted=! !"1";return {action:t9P,p0:c4S.clone(y1I),p1:c4S.clone(P1I),tick:C1I,value:v1I};}n1I={x0:y1I[0],x1:P1I[0],y0:y1I[1],y1:P1I["1" & 2147483647]};x1I=c4S.convertBoxToPixels(this.stx,this.panelName,n1I);N1I={x:Math.abs(Math.sqrt(+"2") * (x1I.x1 - x1I.x0)),y:Math.abs(Math.sqrt(2) * (x1I.y1 - x1I.y0))};G1I=this.stx.pixelFromTick(C1I,X1I.chart);d1I=this.stx.pixelFromValueAdjusted(X1I,C1I,v1I);if(G1I + O1I.r < x1I.x1 - N1I.x || G1I - O1I.r > x1I.x1 + N1I.x){return null;}if(d1I + O1I.r < x1I.y1 - N1I.y || d1I - O1I.r > x1I.y1 + N1I.y){return null;}if(x1I.y0 < x1I.y1 && d1I - O1I.r > x1I.y1){return null;}if(x1I.y0 > x1I.y1 && d1I + O1I.r < x1I.y1){return null;}this.highlighted=! ![];L6EE.l8L();return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:C1I,value:v1I};};c4S.Drawing.fibarc.prototype.render=function(e1I){var y2U=L6EE;var X9P,g9P,l1I,c7I,R1I,g1I,m1I,j1I,E7I,o7I,r7I,a1I,m9P,s1I,b7I,S7I,i7I,u7I,u9P,K7I,Z1I,z1I,p1I,W7I,A9P,T9P,T7I,V7I;X9P="stx_yax";X9P+="is";g9P="mid";g9P+="d";g9P+="le";l1I=this.stx.panels[this.panelName];if(!l1I){return;}c7I=l1I.yAxis;if(!this.p1){return;}y2U.l8L();R1I=this.stx.pixelFromTick(this.p0[0],l1I.chart);g1I=this.stx.pixelFromTick(this.p1[0],l1I.chart);m1I=this.stx.pixelFromValueAdjusted(l1I,this.p0[0],this.p0["1" | 1]);j1I=this.stx.pixelFromValueAdjusted(l1I,this.p1[+"0"],this.p1[1]);y2U.T5H(65);E7I=y2U.f5H(m1I,j1I);y2U.P5H(66);o7I=Math.abs(y2U.F5H(j1I,m1I,g1I,R1I));r7I=this.getLineColor(this.parameters.trend.color);e1I.textBaseline=g9P;this.stx.canvasFont(X9P,e1I);a1I=this.color;if(a1I == "auto" || c4S.isTransparent(a1I)){a1I=this.stx.defaultColor;}for(var H7I=0;H7I < this.parameters.fibs.length;H7I++){m9P="l";m9P+="eft";e1I.fillStyle=a1I;s1I=this.parameters.fibs[H7I];if(s1I.level < 0 || !s1I.display)continue;y2U.T5H(40);var j2E=y2U.F5H(14,13);y2U.T5H(40);var q2E=y2U.f5H(13,12);y2U.T5H(67);var J2E=y2U.f5H(14,22,5,2);b7I=Math.abs(this.p1[j2E] - this.p0[q2E]) * Math.sqrt(J2E) * s1I.level;y2U.T5H(68);var e2E=y2U.f5H(2,27,13,17);y2U.P5H(4);var b2E=y2U.F5H(1,0);y2U.T5H(69);var c2E=y2U.f5H(3,3,1,13,13);y2U.P5H(28);var v4E=y2U.f5H(6,2,5,10);S7I=this.p1[e2E] + b7I * (E7I?- +"1":b2E) * (c7I.flipped?c2E:v4E);i7I=this.stx.pixelFromValueAdjusted(l1I,this.p0[0],S7I);u7I=c4S.xIntersection({x0:R1I,x1:g1I,y0:m1I,y1:j1I},i7I);if(this.parameters.printLevels){u9P="c";u9P+="en";u9P+="t";u9P+="er";e1I.textAlign=u9P;y2U.P5H(22);var M4E=y2U.f5H(1,9,991);y2U.T5H(22);var h4E=y2U.f5H(1,9,1);y2U.T5H(6);var Y4E=y2U.F5H(6,26,5010);y2U.T5H(17);var s4E=y2U.f5H(12080,3,6037);y2U.T5H(70);var p4E=y2U.F5H(16,20,1001,13,15054);y2U.T5H(70);var O4E=y2U.F5H(9,14,134388,6,1202046);y2U.T5H(71);var z4E=y2U.f5H(13,13,6130,18641350,18);y2U.P5H(72);var w4E=y2U.f5H(1129,1,1,86,13);K7I=Math.round(s1I.level * M4E) / h4E + (883.81 <= (Y4E,s4E)?"%":(p4E,O4E) >= z4E?w4E:(! !"1","k"));if(this.parameters.printValues){e1I.fillStyle=a1I;this.stx.canvasFont("stx_yaxis",e1I);;}e1I.fillText(K7I,g1I,Math.round(i7I - 5));}e1I.textAlign=m9P;if(this.parameters.printValues){if(u7I < l1I.width){Z1I=S7I;if(c7I.priceFormatter){Z1I=c7I.priceFormatter(this.stx,l1I,Z1I);}else {Z1I=this.stx.formatYAxisPrice(Z1I,l1I);}if(e1I == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(l1I,Z1I,i7I,a1I,null,e1I);if(e1I == this.stx.chart.context){this.stx.startClip(l1I.name);}}}z1I=s1I.color;if(z1I == "auto" || c4S.isTransparent(z1I)){z1I=this.color;}if(z1I == "auto" || c4S.isTransparent(z1I)){z1I=this.stx.defaultColor;}e1I.strokeStyle=this.highlight?r7I:z1I;p1I=s1I.color;if(p1I == "auto" || c4S.isTransparent(p1I)){p1I=this.fillColor;}if(p1I == "auto" || c4S.isTransparent(p1I)){p1I=this.stx.defaultColor;}e1I.fillStyle=p1I;e1I.globalAlpha=this.highlighted?1:s1I.parameters.opacity;e1I.lineWidth=s1I.parameters.lineWidth;if(e1I.setLineDash){e1I.setLineDash(c4S.borderPatternToArray(e1I.lineWidth,s1I.parameters.pattern));e1I.lineDashOffset=0;;}e1I.save();e1I.beginPath();y2U.T5H(73);e1I.scale(y2U.F5H("1",0,o7I),1);y2U.P5H(1);e1I.arc(y2U.F5H(g1I,o7I),j1I,Math.abs(i7I - j1I),+"0",Math.PI,!E7I);if(this.pattern != "none"){e1I.stroke();}e1I.globalAlpha=0.05;e1I.fill();e1I.restore();if(e1I.setLineDash){e1I.setLineDash([]);}e1I.globalAlpha=1;}e1I.textAlign="left";W7I=c4S.clone(this.parameters.trend.parameters);if(this.highlighted){W7I.opacity=1;}y2U.T5H(58);this.stx.plotLine(g1I,y2U.f5H(R1I,g1I,2),j1I,y2U.f5H(m1I,j1I,2),r7I,"segment",e1I,l1I,W7I);if(this.highlighted){A9P="p";A9P+="1";T9P="p";T9P+="0";T7I=this.highlighted == T9P?! ![]:!{};V7I=this.highlighted == A9P?! ![]:!1;this.littleCircle(e1I,R1I,m1I,T7I);this.littleCircle(e1I,g1I,j1I,V7I);}};c4S.Drawing.fibfan=function(){var K9P;K9P="f";K9P+="ibfan";L6EE.t8L();this.name=K9P;;};c4S.inheritsFrom(c4S.Drawing.fibfan,c4S.Drawing.fibonacci);c4S.Drawing.fibfan.prototype.recommendedLevels=[0,+"0.382",0.5,0.618,1];c4S.Drawing.fibfan.prototype.setOuter=function(){};c4S.Drawing.fibfan.prototype.render=function(Q7I){var T2U=L6EE;var Z9P,D7I,d7I,q7I,U7I,k7I,L7I,v7I,X7I,f7I,G7I,n7I,O7I,y7I,P7I,M7I,G9P,W9P,t7I,I7I,C7I,F7I,A7I,e7I,y9P,i9P,x7I,B7I,w7I,h7I,J7I,l7I,s7I;Z9P="s";Z9P+="tx";Z9P+="_";Z9P+="yaxis";D7I=this.stx.panels[this.panelName];if(!D7I){return;}d7I=D7I.yAxis;if(!this.p1){return;}q7I=this.stx.pixelFromTick(this.p0[0],D7I.chart);U7I=this.stx.pixelFromTick(this.p1["0" - 0],D7I.chart);k7I=this.stx.pixelFromValueAdjusted(D7I,this.p0[0],this.p0[1]);L7I=this.stx.pixelFromValueAdjusted(D7I,this.p1[0],this.p1[1]);v7I=Math.min(L7I,k7I);X7I=Math.max(L7I,k7I);T2U.P5H(0);f7I=T2U.f5H(X7I,v7I);T2U.T5H(59);G7I=T2U.F5H(q7I,L7I,0,U7I,k7I);n7I=this.getLineColor(this.parameters.trend.color);Q7I.textBaseline="middle";this.stx.canvasFont(Z9P,Q7I);T2U.T5H(4);T2U.t8L();var Q4E=T2U.F5H(9,1);O7I=Q7I.measureText("161.8%").width + Q4E;y7I=Number.MAX_VALUE;T2U.P5H(0);var E4E=T2U.F5H(0,1);P7I=Number.MAX_VALUE * E4E;M7I=this.color;if(M7I == "auto" || c4S.isTransparent(M7I)){M7I=this.stx.defaultColor;}this.rays=[];for(var N7I=0;N7I < this.parameters.fibs.length;N7I++){G9P="se";G9P+="g";G9P+="ment";W9P="aut";W9P+="o";Q7I.fillStyle=M7I;t7I=this.parameters.fibs[N7I];if(!t7I.display)continue;I7I=this.stx.pixelFromValueAdjusted(D7I,this.p0[0],(this.p0[1] - this.p1[1]) * t7I.level + this.p1[1]);C7I=c4S.xIntersection({x0:U7I,x1:U7I,y0:k7I,y1:L7I},I7I);F7I=D7I.left;if(U7I > q7I){F7I+=D7I.width;}T2U.T5H(74);A7I=T2U.f5H(k7I,C7I,F7I,q7I,k7I,I7I,q7I);if(q7I > F7I - (this.parameters.printLevels?O7I + 5:"0" & 2147483647) && U7I > q7I)continue;else if(q7I < F7I + (this.parameters.printLevels?O7I + 5:0) && U7I < q7I)continue;if(this.parameters.printLevels){T2U.T5H(70);var F4E=T2U.f5H(8,15,250,19,1034);T2U.T5H(6);var o4E=T2U.F5H(7,13,16);e7I=Math.round(t7I.level * F4E) / o4E + ((574.2,+"454.36") >= "977.92" - 0?338.90:"%");if(U7I > q7I){F7I-=O7I;Q7I.textAlign="left";}else {y9P="ri";y9P+="g";y9P+="h";y9P+="t";F7I+=O7I;Q7I.textAlign=y9P;}if(this.parameters.printValues){i9P="stx_";i9P+="ya";i9P+="xi";i9P+="s";Q7I.fillStyle=M7I;this.stx.canvasFont(i9P,Q7I);;}T2U.P5H(74);A7I=T2U.F5H(k7I,C7I,F7I,q7I,k7I,I7I,q7I);Q7I.fillText(e7I,F7I,A7I);if(U7I > q7I){F7I-=5;}else {F7I+=5;}}Q7I.textAlign="left";if(this.parameters.printValues){if(C7I < D7I.width){x7I=this.stx.transformedPriceFromPixel(I7I,D7I);if(d7I.priceFormatter){x7I=d7I.priceFormatter(this.stx,D7I,x7I);}else {x7I=this.stx.formatYAxisPrice(x7I,D7I);}if(Q7I == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D7I,x7I,I7I,M7I,null,Q7I);if(Q7I == this.stx.chart.context){this.stx.startClip(D7I.name);}}}B7I=t7I.color;if(B7I == W9P || c4S.isTransparent(B7I)){B7I=this.color;}if(B7I == "auto" || c4S.isTransparent(B7I)){B7I=this.stx.defaultColor;}w7I=t7I.color;if(w7I == "auto" || c4S.isTransparent(w7I)){w7I=this.fillColor;}if(w7I == "auto" || c4S.isTransparent(w7I)){w7I=this.stx.defaultColor;}Q7I.fillStyle=w7I;if(this.parameters.printLevels){T2U.P5H(74);A7I=T2U.F5H(k7I,C7I,F7I,q7I,k7I,I7I,q7I);}h7I=c4S.clone(t7I.parameters);if(this.highlighted){h7I.opacity=1;}this.stx.plotLine(q7I,F7I,k7I,A7I,this.highlighted?n7I:B7I,G9P,Q7I,D7I,h7I);this.rays.push([[q7I,k7I],[F7I,A7I]]);Q7I.globalAlpha=0.05;Q7I.beginPath();Q7I.moveTo(F7I,A7I);Q7I.lineTo(q7I,k7I);Q7I.lineTo(F7I,k7I);Q7I.fill();Q7I.globalAlpha=1;if(I7I < y7I){y7I=I7I;}if(I7I > P7I){P7I=I7I;}}for(var Y7I=0;Y7I <= "1" >> 95347872;Y7I++){J7I=G7I?X7I - f7I * Y7I:v7I + f7I * Y7I;J7I=Math.round(J7I);if(J7I < y7I){y7I=J7I;}if(J7I > P7I){P7I=J7I;}}if(this.highlighted){l7I=this.highlighted == "p0"?! !{}:![];s7I=this.highlighted == "p1"?!0:! !"";this.littleCircle(Q7I,q7I,k7I,l7I);this.littleCircle(Q7I,U7I,L7I,s7I);}};c4S.Drawing.fibtimezone=function(){L6EE.t8L();this.name="fibtimezone";;};c4S.inheritsFrom(c4S.Drawing.fibtimezone,c4S.Drawing.fibonacci);c4S.Drawing.fibtimezone.prototype.render=function(j7I){var P2U=L6EE;var V9P,P9P,B9P,g7I,z7I,Z7I,o4I,r4I,H4I,S4I,K4I,W4I,c4I,p7I,b4I,R7I,i4I,a7I,m7I,E4I,T4I,V4I,u4I;V9P="se";V9P+="gme";V9P+="nt";P9P="a";P9P+="u";P9P+="t";P9P+="o";B9P="st";P2U.t8L();B9P+="x_yaxis";g7I=this.stx.panels[this.panelName];if(!g7I){return;}if(!this.p1){return;}z7I=this.stx.pixelFromTick(this.p0[0],g7I.chart);Z7I=this.stx.pixelFromTick(this.p1[+"0"],g7I.chart);o4I=this.stx.pixelFromValueAdjusted(g7I,this.p0[0],this.p0[1]);r4I=this.stx.pixelFromValueAdjusted(g7I,this.p1[0],this.p1[1]);H4I=[1,0];S4I=this.getLineColor(this.parameters.trend.color);j7I.textBaseline="middle";this.stx.canvasFont(B9P,j7I);K4I=+"20";W4I=this.p1[0] - this.p0[0];c4I=this.color;if(c4I == P9P || c4S.isTransparent(c4I)){c4I=this.stx.defaultColor;}j7I.textAlign="center";p7I=z7I;b4I=g7I.yAxis.top;R7I=g7I.yAxis.bottom;i4I=0;a7I=this.parameters.timezone.color;if(a7I == "auto" || c4S.isTransparent(a7I)){a7I=this.color;}if(a7I == "auto" || c4S.isTransparent(a7I)){a7I=this.stx.defaultColor;}m7I=this.parameters.timezone.color;if(m7I == "auto" || c4S.isTransparent(m7I)){m7I=this.fillColor;}if(m7I == "auto" || c4S.isTransparent(m7I)){m7I=this.stx.defaultColor;}if(this.parameters.printLevels){P2U.T5H(0);R7I-=P2U.F5H(K4I,7);}E4I=c4S.clone(this.parameters.timezone.parameters);if(this.highlighted){E4I.opacity=1;}do {p7I=this.stx.pixelFromTick(this.p0[0] + i4I * W4I,g7I.chart);if(z7I < Z7I && p7I > g7I.left + g7I.width)break;else if(z7I > Z7I && p7I < g7I.left)break;if(this.parameters.printLevels){j7I.fillStyle=c4I;j7I.fillText(Z7I > z7I?i4I:i4I * -1,p7I,R7I + 7);}j7I.fillStyle=m7I;this.stx.plotLine(p7I,p7I,0,R7I,this.highlighted?S4I:a7I,"segment",j7I,g7I,E4I);j7I.globalAlpha=+"0.05";j7I.beginPath();j7I.moveTo(z7I,b4I);j7I.lineTo(p7I,b4I);j7I.lineTo(p7I,R7I);j7I.lineTo(z7I,R7I);j7I.fill();P2U.T5H(45);j7I.globalAlpha=P2U.f5H(430108160,"1");P2U.T5H(10);var f4E=P2U.f5H(0,8,7);i4I=H4I[0] + H4I[f4E];H4I.unshift(i4I);}while(W4I);j7I.textAlign="left";this.stx.plotLine(z7I,Z7I,o4I,r4I,S4I,V9P,j7I,g7I,E4I);if(this.highlighted){T4I=this.highlighted == "p0"?! !{}:!{};V4I=this.highlighted == "p1"?! !"1":![];this.littleCircle(j7I,z7I,o4I,T4I);this.littleCircle(j7I,Z7I,r4I,V4I);}else {u4I=this.stx.valueFromPixel(g7I.height / 2,g7I);this.setPoint(0,this.p0[0],u4I,g7I.chart);this.setPoint(+"1",this.p1[0],u4I,g7I.chart);}};c4S.Drawing.fibtimezone.prototype.intersected=function(I4I,U4I,D4I){var Q4I,k4I,B4I,F4I,U9P,w4I,a9P;Q4I=this.p0;k4I=this.p1;B4I=this.stx.panels[this.panelName];if(!Q4I || !k4I || !B4I){return null;}F4I={0:Q4I,1:k4I};for(var q4I in F4I){if(this.pointIntersection(F4I[q4I][0],F4I[q4I][1],D4I)){U9P="d";U9P+="r";U9P+="ag";L6EE.T5H(4);this.highlighted=L6EE.F5H(q4I,(+"8170",7043) < 4440?"V":(6990,5590) === ("2720" ^ 0)?(0x200b,"f"):"p");return {action:U9P,point:"p" + q4I};}}w4I=this.lineIntersection(I4I,U4I,D4I,"segment");if(w4I || D4I.x0 <= this.p0[0] && D4I.x1 >= Q4I[0]){a9P="m";a9P+="o";a9P+="v";a9P+="e";this.highlighted=! ![];return {action:a9P,p0:c4S.clone(Q4I),p1:c4S.clone(k4I),tick:I4I,value:U4I};}return null;};c4S.Drawing.arrow_v0=function(){var h2U=L6EE;var L9P;L9P="arro";L9P+="w";this.name=L9P;this.dimension=[+"11",11];h2U.T5H(23);this.points=[[774.09 < (147.9,9566)?2298 !== 781.94?("3617" - 0,+"73.01") != 9044?"M":(+"0x1828",!{}):564:3.38e+3,3,0,"L",7,+"0","L",7,5,"L",10,5,(1790,869.49) != (5400,6570)?"L":(8992,8720) != +"411.87"?! !{}:(533.61,9.01e+3),h2U.f5H(4,"5"),10,"4810" << 1337927328 != +"785.04"?(567.91,6130) !== (+"5917",5760)?"L":2530 === (4620,462.46)?(0x2f3,137.55):460.71:"X",0,5,774.28 <= (87.23,465.22)?(5423,7150) <= (2890,+"5640")?(0x24fc,! !"1"):"l":"L",h2U.F5H("3",0,h2U.T5H(0)),5,"L",h2U.F5H(1903368384,"3",h2U.P5H(45)),h2U.f5H("0",2133252224,h2U.P5H(15))]];};c4S.inheritsFrom(c4S.Drawing.arrow_v0,c4S.Drawing.shape);c4S.Drawing.xcross=function(){var B2U=L6EE;this.name="xcross";this.dimension=[7,7];B2U.P5H(30);this.points=[[551.55 !== +"4490"?5540 === (+"325.51",6790)?(+"3064",459.21) <= 6711?(0x1670,+"321.14"):(! !{},411.35):"M":992.56,1,0,+"3505" !== (5210,+"5140")?(+"2080",5004) === (186.18,+"375.43")?(498.31,5.84e+3):118 == (208.86,8109)?!"":"L":("V",0x20bc),3,2,(550.77,2880) == ("5040" << 1874352960,7979)?(3430,7340) > (8895,"6475" * 1)?0x55c:(! !0,389.46):"L",5,0,"L",6,1,1550 >= 37.62?(7883,8113) >= +"7840"?"L":(7790,4297) === (357.24,648)?"S":(!"1","U"):(! !{},140.89),4,B2U.F5H(0,"3"),"L",B2U.F5H(1230416800,"6",B2U.T5H(45)),5,"L",+"5",B2U.F5H("6",0,B2U.T5H(0)),(4407,531.98) !== (+"254.46","820.72" * 1)?(7310,"7591" & 2147483647) <= 7920?"L":717.5 > 9161?! !0:161.17:![],3,4,9175 !== (+"773.84",446.07)?"L":(+"5.81e+3","j"),1,6,(755.75,6090) > "6929" - 0?"H":"L",+"0",5,740.78 >= 3104?9.59e+3:(7376,"1770" ^ 0) != (9930,"480.99" - 0)?"L":! ![],2,3,8313 < ("3530" << 1805568672,2040)?!{}:"L",+"0",1,458.7 <= +"4180"?"L":+"5753" <= (0.42,3333)?"V":(978,916.42) <= +"148.13"?(! ![],132.73):(! !{},"X"),1,0]];;};c4S.inheritsFrom(c4S.Drawing.xcross,c4S.Drawing.shape);c4S.Drawing.check=function(){this.name="check";L6EE.T5H(29);L6EE.l8L();this.dimension=[8,L6EE.F5H("9",2147483647)];this.points=[[9350 !== (7812,22)?"306.49" - 0 == 3087?0x269d:"M":2.04e+3,1,5,+"189" <= (8650,100.69)?0x1b62:(631,948) > (488.52,752.43)?"L":"8.82e+3" | 80,0,6,("3780" ^ 0,"636" & 2147483647) == 3720?(0x2530,282):"L",2,8,(6830,9650) != (7950,5510)?"L":("3123" - 0,+"2980") === (5948,828.6)?"m":875 === (+"158.35","950.02" - 0)?(+"0x1f15",!1):![],7,1,7382 >= "5524" >> 994826880?"L":"404.94" * 1,6,+"0",(7059,3635) != (8670,"9003" * 1)?(3920,398.79) >= 4031?(4123,"9935" - 0) < (7784,339)?("C",! !0):6.98e+3:"L":(!1,9.66e+3),2,6,"L",1,5]];;};c4S.inheritsFrom(c4S.Drawing.check,c4S.Drawing.shape);c4S.Drawing.star=function(){var S2U=L6EE;this.name="star";this.dimension=[12,12];S2U.T5H(29);this.points=[["M",0,4,384.42 <= "810.6" - 0?(6980,5700) == 860.08?0xdc6:"L":("V","H"),4,4,5100 < (9560,3768)?9.61e+2:(1726,448) === 7120?(4340,6240) !== (372.43,740.85)?! ![]:"L":"L",5.5,0,"L",+"7",S2U.F5H("4",2147483647),7910 >= 9438?(! ![],! !"1"):919.75 < (8947,873.51)?(+"702.45",538.64) !== 280.19?(165.53,+"3.72e+3"):(261.09,7.87e+3):"L",11,4,106.06 !== (3590,+"189.54")?(778.4,4340) !== 9350?"L":474.79 < 2450?("f",0x186b):0x2339:(0xe14,"V"),8,7,(8450,+"567.61") >= (1950,7510)?! ![]:5120 != 4850?"L":6100 === (+"4406",1700)?"k":(!1,"x"),9,S2U.F5H(8,"11",S2U.T5H(23)),"L",5.5,9,(4725,+"2157") !== 7900?(283,8080) < (7302,183.13)?4450 >= "2850" - 0?(!0,!"1"):(!0,"A"):"L":(3.61e+2,"M"),2,11,"L",+"3",S2U.f5H("7",389359328,S2U.P5H(15)),"L",0,4]];;};c4S.inheritsFrom(c4S.Drawing.star,c4S.Drawing.shape);c4S.Drawing.heart=function(){var J4U=L6EE;this.name="heart";this.dimension=[23,20];J4U.l8L();J4U.T5H(1);this.points=[[687.78 !== (5800,247)?"M":"4.73e+3" * 1,11,3,(8708,1227) > ("9450" & 2147483647,7190)?446.82 == 6371?! !"":(2370,6940) == (74,159)?(!0,6.84e+3):+"449.40":"B",11,2.4,10,0,6,0,"B",0,0,0,7.5,0,7.5,(2580,4910) > 8777?6260 >= 312.88?(9.37e+3,5.64e+3):(+"0x16f9",2.63e+3):"B",0,11,4,J4U.F5H("15.4",1),11,19,(5300,912.98) > ("7790" << 97234784,412)?"B":867.65 > (9690,5870)?(947.18,+"1.17e+3"):+"6.41" >= (9850,4841)?2.39e+3:0x11ad,J4U.f5H("18",1),15.4,22,11,22,7.5,(2840,7066) !== (+"9250",2114)?"1098" >> 1660172224 !== (2560,781.13)?"B":748.02 > (695,1700)?(1.40e+3,0x500):"d":(![],"L"),22,7.5,22,+"0",16,0,"B",13,+"0",+"11",2.4,11,3]];;};c4S.inheritsFrom(c4S.Drawing.heart,c4S.Drawing.shape);c4S.Drawing.focusarrow=function(){var z4U=L6EE;z4U.l8L();this.name="focusarrow";this.dimension=[7,5];z4U.P5H(30);this.points=[[(534.91,342.98) < 1090?("604" & 2147483647) !== 3290?"M":("S",569.45):"F",0,0,8720 >= 174.86?"L":(4600,9130) < (5870,468)?"165.63" * 1:(874.62,700.23) != 769.8?(289.83,"l"):"i",2,2,"L",0,4,(675.12,5110) == 2280?(+"466",9.01e+2):"L",0,0],[("255" >> 1658693664,+"972.68") != 2676?"M":5.26e+3,6,z4U.F5H(0,"0"),"L",4,2,(518.23,+"862.31") === 5876?(4440,"899.29" - 0) < 852.42?(![],"l"):808.59:"L",6,z4U.F5H(87316928,"4",z4U.P5H(45)),+"8970" < 628.67?290.49:"L",6,0]];;};c4S.inheritsFrom(c4S.Drawing.focusarrow,c4S.Drawing.shape);c4S.Drawing.crossline=function(){this.name="crossline";};c4S.inheritsFrom(c4S.Drawing.crossline,c4S.Drawing.horizontal);c4S.extend(c4S.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(M4I,t4I){return !1;},adjust:function(){var A4I;A4I=this.stx.panels[this.panelName];if(!A4I){return;}this.setPoint(+"0",this.d0,this.v0,A4I.chart);this.p1=c4S.clone(this.p0);},intersected:function(L4I,x4I,O4I){var R9P,J4I,r9P;R9P="lin";R9P+="e";if(!this.p0 || !this.p1){return null;}this.p1[+"0"]+=1;J4I=this.lineIntersection(L4I,x4I,O4I,R9P);this.p1=c4S.clone(this.p0);if(!J4I){r9P="li";r9P+="n";r9P+="e";this.p1[1]+=1;J4I=this.lineIntersection(L4I,x4I,O4I,r9P);this.p1=c4S.clone(this.p0);if(!J4I){return null;}}this.highlighted=!"";if(this.pointIntersection(this.p0[0],this.p0[1],O4I)){this.highlighted="p0";}return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:L4I,value:x4I};},render:function(h4I){var G4U=L6EE;var y4I,Y4I,N4I,v4I,G4I,C4I,P4I,d4I,n4I,H6P,n6P,C6P,X4I,f4I,H9P,e4I;y4I=this.stx.panels[this.panelName];if(!y4I){return;}Y4I=this.stx.pixelFromTick(this.p0[0],y4I.chart);N4I=this.stx.pixelFromValueAdjusted(y4I,this.p0[0],this.p0[1]);v4I=this.getLineColor();G4I={pattern:this.pattern,lineWidth:this.lineWidth};G4U.T5H(4);this.stx.plotLine(Y4I,G4U.f5H(100,Y4I),N4I,N4I,v4I,"horizontal",h4I,y4I,G4I);G4U.P5H(4);this.stx.plotLine(Y4I,Y4I,N4I,G4U.f5H(100,N4I),v4I,"vertical",h4I,y4I,G4I);if(this.axisLabel && !this.repositioner){this.stx.endClip();C4I=this.p0[+"1"];if(y4I.chart.transformFunc){C4I=y4I.chart.transformFunc(this.stx,y4I.chart,C4I);}if(y4I.yAxis.priceFormatter){C4I=y4I.yAxis.priceFormatter(this.stx,y4I,C4I);}else {C4I=this.stx.formatYAxisPrice(C4I,y4I);}this.stx.createYAxisLabel(y4I,C4I,N4I,v4I);this.stx.startClip(y4I.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){P4I=this.stx.dateFromTick(this.p0[0],y4I.chart,! !{});if(!c4S.ChartEngine.isDailyInterval(this.stx.layout.interval)){G4U.P5H(75);var I4E=G4U.F5H(3,707,4,167,7);n4I=P4I.getSeconds() * I4E + P4I.getMilliseconds();if(H4S.Date && this.stx.displayZone){d4I=new H4S.Date(P4I.getTime(),this.stx.displayZone);P4I=new Date(d4I.getFullYear(),d4I.getMonth(),d4I.getDate(),d4I.getHours(),d4I.getMinutes());H6P=-1619105367;G4U.P5H(15);n6P=-G4U.f5H("802527428",919870496);C6P=2;for(var q6P=1;G4U.v4P(q6P.toString(),q6P.toString().length,53402) !== H6P;q6P++){P4I=new Date(P4I.getTime() + n4I);C6P+=2;}if(G4U.v4P(C6P.toString(),C6P.toString().length,57260) !== n6P){P4I=new Date(P4I.getTime() * n4I);}}}else {P4I.setHours(0,0,0,0);}X4I=c4S.mmddhhmm(c4S.yyyymmddhhmm(P4I));if(y4I.chart.xAxis.formatter){X4I=y4I.chart.xAxis.formatter(P4I,this.name,null,null,X4I);}else if(this.stx.internationalizer){if(P4I.getHours() !== 0 || P4I.getMinutes() !== 0){f4I=this.stx.internationalizer.monthDay.format(P4I);f4I+=" " + this.stx.internationalizer.hourMinute.format(P4I);}else {f4I=this.stx.internationalizer.yearMonthDay.format(P4I);}X4I=f4I;}this.stx.endClip();this.stx.createXAxisLabel({panel:y4I,txt:X4I,x:Y4I,backgroundColor:v4I,color:null,pointed:!0,padding:2});this.stx.startClip(y4I.name);}}if(this.highlighted){H9P="p";H9P+="0";e4I=this.highlighted == H9P?! !1:!"1";this.littleCircle(h4I,Y4I,N4I,e4I);}}},!0);c4S.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=! !{};};c4S.inheritsFrom(c4S.Drawing.speedarc,c4S.Drawing.segment);c4S.extend(c4S.Drawing.speedarc.prototype,{defaultOpacity:"0.25" - 0,configs:[n9P,"fillColor",C9P,j9P],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;L6EE.l8L();this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(l4I,s4I,Z4I){var g4I,R4I,z4I,p4I,a4I,m4I;if(!this.p0 || !this.p1){return null;}g4I={0:this.p0,1:this.p1};for(var j4I in g4I){if(this.pointIntersection(g4I[j4I][0],g4I[j4I][1],Z4I)){L6EE.T5H(4);this.highlighted=L6EE.F5H(j4I,"p");return {action:"drag",point:"p" + j4I};}}R4I=this.lineIntersection(l4I,s4I,Z4I,this.name);if(R4I){this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:l4I,value:s4I};}z4I=this.p1["0" ^ 0] - (this.p0[0] - this.p1[0]);p4I=this.p0[0];a4I=this.p1[1];m4I=this.p0[1];L6EE.t8L();if(l4I > Math.max(z4I,p4I) || l4I < Math.min(z4I,p4I)){return null;}if(s4I > Math.max(m4I,a4I) || s4I < Math.min(m4I,a4I)){return null;}this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:l4I,value:s4I};},render:function(i3I){var F4U=L6EE;var q9P,c3I,W3I,E3I,r3I,H3I,u3I,K3I,b3I,o3I,V3I,Q3I,T3I,J9P,q3I,D3I,k3I,F3I;q9P="au";q9P+="to";c3I=this.stx.panels[this.panelName];if(!c3I){return;}if(!this.p1){return;}W3I=this.stx.pixelFromTick(this.p0[0],c3I.chart);E3I=this.stx.pixelFromTick(this.p1[0],c3I.chart);r3I=this.stx.pixelFromValueAdjusted(c3I,this.p0[0],this.p0[1]);H3I=this.stx.pixelFromValueAdjusted(c3I,this.p1[0],this.p1[1]);F4U.T5H(65);u3I=F4U.f5H(r3I,H3I);F4U.t8L();F4U.P5H(66);K3I=Math.abs(F4U.f5H(H3I,r3I,E3I,W3I));b3I=this.getLineColor();i3I.strokeStyle=b3I;o3I=this.fillColor;if(o3I == q9P || c4S.isTransparent(o3I)){o3I=this.stx.defaultColor;}i3I.fillStyle=o3I;if(i3I.setLineDash){i3I.setLineDash(c4S.borderPatternToArray(this.lineWidth,this.pattern));i3I.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",i3I);for(var S3I=1;S3I < 3;S3I++){F4U.T5H(76);var k4E=F4U.f5H(2,2,267,14,19);F4U.T5H(22);var d4E=F4U.F5H(8,1,8);F4U.T5H(77);var D4E=F4U.F5H(1,6,5,19,21);V3I=Math.abs(this.p1[+"1"] - this.p0[k4E]) * Math.sqrt(d4E) * S3I / D4E;F4U.T5H(44);var N4E=F4U.F5H(393,6,20,20);F4U.T5H(78);var S4E=F4U.f5H(15,83,3,7);F4U.P5H(6);var l4E=F4U.f5H(4,5,2);F4U.P5H(79);var x4E=F4U.f5H(20,2,9,3,4);Q3I=this.p1[N4E] + V3I * (u3I?S4E:l4E) * (c3I.yAxis.flipped?- +"1":x4E);T3I=this.stx.pixelFromValueAdjusted(c3I,this.p0[0],Q3I);i3I.save();i3I.beginPath();F4U.P5H(80);i3I.scale(F4U.F5H(K3I,"1"),1);F4U.P5H(1);i3I.arc(F4U.F5H(E3I,K3I),H3I,Math.abs(T3I - H3I),0,Math.PI,!u3I);i3I.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){i3I.stroke();}i3I.globalAlpha=0.1;i3I.fill();i3I.restore();i3I.globalAlpha=1;if(this.printLevels){J9P="/";J9P+="3";i3I.fillStyle=b3I;i3I.textAlign="center";F4U.P5H(4);q3I=F4U.F5H(J9P,S3I);i3I.fillText(q3I,E3I,Math.round(T3I - 5));i3I.fillStyle=o3I;}}i3I.textAlign="left";D3I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(W3I,E3I,r3I,H3I,b3I,"segment",i3I,c3I,D3I);if(i3I.setLineDash){i3I.setLineDash([]);}if(this.highlighted){k3I=this.highlighted == "p0"?! ![]:![];F3I=this.highlighted == "p1"?! ![]:!{};this.littleCircle(i3I,W3I,r3I,k3I);this.littleCircle(i3I,E3I,H3I,F3I);}},reconstruct:function(U3I,I3I){var V4U=L6EE;var y3P,i3P,W3P;this.stx=U3I;this.color=I3I.col;this.fillColor=I3I.fc;this.panelName=I3I.pnl;this.pattern=I3I.ptrn;this.lineWidth=I3I.lw;this.d0=I3I.d0;this.d1=I3I.d1;this.tzo0=I3I.tzo0;this.tzo1=I3I.tzo1;this.v0=I3I.v0;y3P=1843998172;V4U.T5H(45);i3P=-V4U.f5H(1433431008,"371795278");W3P=2;for(var B3P=1;V4U.v4P(B3P.toString(),B3P.toString().length,"49642" * 1) !== y3P;B3P++){this.v1=I3I.v1;W3P+=2;}if(V4U.v4P(W3P.toString(),W3P.toString().length,40358) !== i3P){this.v1=I3I.v1;}this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});c4S.Drawing.speedline=function(){var D4U=L6EE;var q0P,J0P,e0P;q0P=1090232402;J0P=1301084957;e0P=2;for(var c0P=+"1";D4U.v4P(c0P.toString(),c0P.toString().length,66015) !== q0P;c0P++){this.name="";D4U.P5H(29);e0P+=D4U.F5H("2",2147483647);}if(D4U.c2P(e0P.toString(),e0P.toString().length,77952) !== J0P){this.name="";}this.name="speedline";this.printLevels=! ![];};c4S.inheritsFrom(c4S.Drawing.speedline,c4S.Drawing.speedarc);c4S.extend(c4S.Drawing.speedline.prototype,{intersected:function(L3I,x3I,O3I){var M3I,t3I,A3I,J3I;M3I=this.p0;t3I=this.p1;if(!M3I || !t3I){return null;}A3I={0:M3I,1:t3I};for(var B3I in A3I){if(this.pointIntersection(A3I[B3I][0],A3I[B3I][1],O3I)){L6EE.P5H(4);this.highlighted=L6EE.F5H(B3I,"p");return {action:"drag",point:(+"175.26" < 2870?"p":("u",3.36e+3)) + B3I};}}J3I=this.rays;for(var w3I=0;w3I < J3I.length;w3I++){if(this.lineIntersection(L3I,x3I,O3I,"ray",J3I[w3I][0],J3I[w3I][1],! !"1")){this.highlighted=! ![];return {action:"move",p0:c4S.clone(M3I),p1:c4S.clone(t3I),tick:L3I,value:x3I};}}return null;},render:function(y3I){var X4U=L6EE;var c9P,e9P,d3I,P3I,Y3I,C3I,v3I,a3I,h3I,n3I,m3I,Z3I,R3I,z3I,p3I,N3I,X3I,G3I,s3I,f3I,l3I,j3I,g3I,b9P,i5I,c5I;c9P="m";c9P+="iddle";e9P="2/";e9P+="3";d3I=this.stx.panels[this.panelName];if(!d3I){return;}if(!this.p1){return;}P3I=this.stx.pixelFromTick(this.p0[0],d3I.chart);Y3I=this.stx.pixelFromTick(this.p1[+"0"],d3I.chart);C3I=this.stx.pixelFromValueAdjusted(d3I,this.p0[0],this.p0[1]);v3I=this.stx.pixelFromValueAdjusted(d3I,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",y3I);a3I=this.getLineColor();h3I=this.color;if(h3I == "auto" || c4S.isTransparent(h3I)){h3I=this.stx.defaultColor;}y3I.strokeStyle=h3I;n3I=this.fillColor;if(n3I == "auto" || c4S.isTransparent(n3I)){n3I=this.stx.defaultColor;}y3I.fillStyle=n3I;m3I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};z3I=[5620 > 6008?4.30e+3:(855.26,2512) > (9570,7070)?(6226,+"1307") >= 8959?(843.64,+"466.65"):(0x26be,"0x2251" >> 1886304384):"1",e9P,"1/3","3/2","3"];X4U.P5H(81);p3I=[1,X4U.f5H(2147483647,2,"3"),X4U.f5H(1,3,X4U.T5H(13)),X4U.f5H(3,2,X4U.T5H(13)),3];N3I=[];this.rays=[];for(var e3I=+"0";e3I < p3I.length;e3I++){X3I=p3I[e3I];if(X3I > 1 && !this.extension)continue;G3I=this.stx.pixelFromValueAdjusted(d3I,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * X3I);if(X3I > 1){s3I=c4S.xIntersection({x0:P3I,x1:Y3I,y0:C3I,y1:G3I},v3I);N3I.push(s3I);}else {s3I=c4S.xIntersection({x0:Y3I,x1:Y3I,y0:C3I,y1:v3I},G3I);N3I.push(G3I);}f3I=X3I > +"1"?s3I:Y3I;l3I=X3I > 1?v3I:G3I;if(!this.confineToGrid){f3I=d3I.left;if(Y3I > P3I){f3I+=d3I.width;}X4U.P5H(74);l3I=X4U.F5H(C3I,Y3I,f3I,P3I,C3I,G3I,P3I);}if(this.printLevels){if(X3I != "1" << 1644948928 || this.extension){y3I.fillStyle=h3I;j3I=0;g3I=0;if(C3I > v3I){b9P="bott";b9P+="om";g3I=-5;y3I.textBaseline=b9P;}else {g3I=5;y3I.textBaseline="top";}if(P3I > Y3I){j3I=5;y3I.textAlign="right";}else {j3I=- +"5";y3I.textAlign="left";}if(X3I > ("1" | 1)){y3I.fillText(z3I[e3I],s3I + (this.confineToGrid?0:j3I),v3I);}else {y3I.fillText(z3I[e3I],Y3I,G3I + (this.confineToGrid?0:g3I));}y3I.fillStyle=n3I;}}this.stx.plotLine(P3I,f3I,C3I,l3I,this.highlighted?a3I:h3I,"segment",y3I,d3I,m3I);if(X3I == 1){Z3I=f3I;R3I=l3I;}this.rays.push([[P3I,C3I],[f3I,l3I]]);y3I.globalAlpha=0.1;y3I.beginPath();y3I.moveTo(f3I,l3I);y3I.lineTo(P3I,C3I);y3I.lineTo(Z3I,R3I);y3I.fill();y3I.globalAlpha=1;}y3I.textAlign="left";y3I.textBaseline=c9P;if(this.confineToGrid){y3I.globalAlpha=+"0.3";y3I.beginPath();X4U.T5H(0);y3I.strokeRect(P3I,C3I,X4U.F5H(Y3I,P3I),X4U.F5H(v3I,C3I));y3I.moveTo(P3I,N3I[+"1"]);y3I.lineTo(Y3I,N3I[+"1"]);y3I.moveTo(P3I,N3I["2" | 2]);y3I.lineTo(Y3I,N3I[2]);if(this.extension){y3I.moveTo(N3I[3],C3I);y3I.lineTo(N3I[3],v3I);y3I.moveTo(N3I[4],C3I);y3I.lineTo(N3I["4" * 1],v3I);}y3I.stroke();y3I.globalAlpha=1;}if(this.highlighted){i5I=this.highlighted == "p0"?!"":![];c5I=this.highlighted == "p1"?! !{}:!"1";this.littleCircle(y3I,P3I,C3I,i5I);this.littleCircle(y3I,Y3I,v3I,c5I);}}},!0);c4S.Drawing.gannfan=function(){this.name="gannfan";L6EE.l8L();this.printLevels=!0;};c4S.inheritsFrom(c4S.Drawing.gannfan,c4S.Drawing.speedline);c4S.extend(c4S.Drawing.gannfan.prototype,{render:function(H5I){var k4U=L6EE;var M7P,r5I,E5I,S5I,o5I,T5I,I5I,W5I,K5I,U5I,B5I,w5I,k5I,b5I,M5I,F5I,u5I,V5I,q5I,D5I,v7P,Y7P,h7P,t5I,A5I,R3P,r3P,H3P;M7P="mi";M7P+="d";M7P+="dle";r5I=this.stx.panels[this.panelName];if(!r5I){return;}if(!this.p1){return;}E5I=this.stx.pixelFromTick(this.p0[0],r5I.chart);S5I=this.stx.pixelFromTick(this.p1[0],r5I.chart);o5I=this.stx.pixelFromValueAdjusted(r5I,this.p0["0" - 0],this.p0[1]);T5I=this.stx.pixelFromValueAdjusted(r5I,this.p1[0],this.p1[+"1"]);this.stx.canvasFont("stx_yaxis",H5I);I5I=this.getLineColor();W5I=this.color;k4U.l8L();if(W5I == "auto" || c4S.isTransparent(W5I)){W5I=this.stx.defaultColor;}H5I.strokeStyle=W5I;K5I=this.fillColor;if(K5I == "auto" || c4S.isTransparent(K5I)){K5I=this.stx.defaultColor;}H5I.fillStyle=K5I;U5I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};k4U.T5H(13);k5I=[1,2,3,4,8,k4U.F5H(1,2),k4U.F5H(1,3,k4U.P5H(13)),k4U.f5H(4,"1",2147483647,k4U.T5H(82)),k4U.F5H(1,8,k4U.P5H(13))];this.rays=[];for(var Q5I=0;Q5I < k5I.length;Q5I++){b5I=k5I[Q5I];k4U.T5H(83);M5I=k4U.F5H(b5I,E5I,E5I,S5I);k4U.T5H(84);F5I=k4U.F5H(o5I,b5I,T5I,o5I);u5I=r5I.left;if(S5I > E5I){u5I+=r5I.width;}k4U.P5H(74);V5I=k4U.F5H(o5I,S5I,u5I,E5I,o5I,F5I,E5I);if(this.printLevels){H5I.fillStyle=W5I;q5I=+"0";D5I=0;if(o5I > T5I){D5I=5;H5I.textBaseline="top";}else {D5I=- +"5";H5I.textBaseline="bottom";}if(E5I > S5I){q5I=5;H5I.textAlign="left";}else {q5I=-5;H5I.textAlign="right";}if(b5I > 1){k4U.T5H(4);H5I.fillText(k4U.f5H("x1",b5I),k4U.f5H(q5I,M5I),T5I);}else {v7P="1";v7P+="x";k4U.P5H(51);H5I.fillText(k4U.F5H(b5I,1,v7P),S5I,k4U.f5H(D5I,F5I,k4U.T5H(4)));}H5I.fillStyle=K5I;}this.stx.plotLine(E5I,u5I,o5I,V5I,this.highlighted?I5I:W5I,"segment",H5I,r5I,U5I);this.rays.push([[E5I,o5I],[u5I,V5I]]);if(b5I == 1){B5I=u5I;w5I=V5I;}H5I.globalAlpha=0.1;H5I.beginPath();H5I.moveTo(u5I,V5I);H5I.lineTo(E5I,o5I);H5I.lineTo(B5I,w5I);H5I.fill();H5I.globalAlpha=1;}H5I.textAlign="left";H5I.textBaseline=M7P;if(this.highlighted){Y7P="p";Y7P+="1";h7P="p";h7P+="0";t5I=this.highlighted == h7P?! !{}:!1;A5I=this.highlighted == Y7P?! !{}:! !"";this.littleCircle(H5I,E5I,o5I,t5I);R3P=+"920884140";r3P=1157901666;H3P=2;for(var C3P="1" & 2147483647;k4U.c2P(C3P.toString(),C3P.toString().length,29040) !== R3P;C3P++){this.littleCircle(H5I,S5I,T5I,A5I);H3P+=2;}if(k4U.v4P(H3P.toString(),H3P.toString().length,95764) !== r3P){this.littleCircle(H5I,S5I,T5I,A5I);}this.littleCircle(H5I,S5I,T5I,A5I);}}},! !1);c4S.Drawing.timecycle=function(){var s7P;s7P="t";s7P+="i";s7P+="m";s7P+="ecycle";this.name=s7P;this.printLevels=! !1;};c4S.inheritsFrom(c4S.Drawing.timecycle,c4S.Drawing.speedarc);c4S.extend(c4S.Drawing.timecycle.prototype,{intersected:function(P5I,C5I,x5I){var J5I,O5I,Y5I,y5I,N5I;J5I=this.p0;O5I=this.p1;Y5I=this.stx.panels[this.panelName];L6EE.t8L();if(!J5I || !O5I || !Y5I){return null;}y5I={0:J5I,1:O5I};for(var L5I in y5I){if(this.pointIntersection(y5I[L5I][0],y5I[L5I][1],x5I)){L6EE.T5H(4);this.highlighted=L6EE.f5H(L5I,706.7 < (7830,175.41)?359.66:896.78 <= +"423"?!"1":"p");return {action:"drag",point:"p" + L5I};}}N5I=this.lineIntersection(P5I,C5I,x5I,"segment");if(N5I || x5I.x0 <= this.p0[0] && x5I.x1 >= J5I[0]){this.highlighted=! !{};return {action:"move",p0:c4S.clone(J5I),p1:c4S.clone(O5I),tick:P5I,value:C5I};}return null;},render:function(d5I){var l4U=L6EE;var p7P,v5I,f5I,l5I,z5I,p5I,j5I,a5I,c8I,m5I,X5I,Z5I,n5I,e5I,s5I,R5I,h5I,g5I,H8I,E8I,o8I,i8I;p7P="le";p7P+="ft";v5I=this.stx.panels[this.panelName];if(!v5I){return;}if(!this.p1){return;}f5I=this.stx.pixelFromTick(this.p0["0" >> 120346656],v5I.chart);l5I=this.stx.pixelFromTick(this.p1[0],v5I.chart);z5I=this.stx.pixelFromValueAdjusted(v5I,this.p0[0],this.p0[1]);p5I=this.stx.pixelFromValueAdjusted(v5I,this.p1[0],this.p1[1]);j5I=0;a5I=this.getLineColor();d5I.textBaseline="middle";this.stx.canvasFont("stx_yaxis",d5I);c8I=20;m5I=this.p1[0] - this.p0[0];d5I.textAlign="center";X5I=f5I;Z5I=v5I.yAxis.top;n5I=v5I.yAxis.bottom;e5I=this.color;if(e5I == "auto" || c4S.isTransparent(e5I)){e5I=this.stx.defaultColor;}s5I=this.fillColor;if(s5I == "auto" || c4S.isTransparent(s5I)){s5I=this.stx.defaultColor;}if(this.printLevels){l4U.P5H(0);n5I-=l4U.f5H(c8I,7);}R5I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};h5I=[];d5I.save();d5I.fillStyle=s5I;d5I.globalAlpha=0.05;do {X5I=this.stx.pixelFromTick(this.p0[0] + j5I * m5I,v5I.chart);j5I++;if(f5I < l5I && X5I > v5I.left + v5I.width)break;else if(f5I > l5I && X5I < v5I.left)break;else if(X5I < v5I.left || X5I > v5I.left + v5I.width)continue;d5I.beginPath();d5I.moveTo(f5I,Z5I);d5I.lineTo(X5I,Z5I);d5I.lineTo(X5I,n5I);d5I.lineTo(f5I,n5I);d5I.fill();h5I.push({c:j5I,x:X5I});}while(m5I);d5I.globalAlpha=1;g5I=0;for(var G5I="0" | 0;G5I < h5I.length;G5I++){this.stx.plotLine(h5I[G5I].x,h5I[G5I].x,0,n5I,this.highlighted?a5I:e5I,"segment",d5I,v5I,R5I);if(this.printLevels){d5I.fillStyle=e5I;l4U.P5H(85);var t4E=l4U.F5H(20,17,10,10,30);H8I=this.stx.chart.context.measureText(h5I[G5I].c).width + t4E;if(H8I < this.stx.layout.candleWidth + g5I){d5I.fillText(h5I[G5I].c,h5I[G5I].x,n5I + 7);l4U.T5H(30);g5I=l4U.F5H(0,"0");}else {g5I+=this.stx.layout.candleWidth;}}}d5I.restore();d5I.textAlign=p7P;this.stx.plotLine(f5I,l5I,z5I,p5I,a5I,"segment",d5I,v5I,R5I);if(this.highlighted){E8I=this.highlighted == "p0"?!"":! !"";o8I=this.highlighted == "p1"?! !"1":![];this.littleCircle(d5I,f5I,z5I,E8I);this.littleCircle(d5I,l5I,p5I,o8I);}else {i8I=this.stx.valueFromPixel(v5I.height / 2,v5I);this.setPoint(0,this.p0[0],i8I,v5I.chart);this.setPoint(1,this.p1[+"0"],i8I,v5I.chart);}}},! !{});c4S.Drawing.regression=function(){this.name="regression";};c4S.inheritsFrom(c4S.Drawing.regression,c4S.Drawing.segment);c4S.extend(c4S.Drawing.regression.prototype,{configs:[O7P,"lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2",z7P,w7P,"pattern2","active3",Q7P,"lineWidth3","pattern3"],copyConfig:function(S8I){var r8I;c4S.Drawing.copyConfig(this,S8I);r8I=this.stx.currentVectorParameters;this.active1=! !r8I.active1;this.active2=! !r8I.active2;this.active3=! !r8I.active3;this.color1=r8I.color1 || "auto";this.color2=r8I.color2 || "auto";L6EE.t8L();this.color3=r8I.color3 || "auto";this.lineWidth1=r8I.lineWidth1;this.lineWidth2=r8I.lineWidth2;this.lineWidth3=r8I.lineWidth3;this.pattern1=r8I.pattern1;this.pattern2=r8I.pattern2;this.pattern3=r8I.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]',E7P],click:function(D8I,u8I,K8I){var b8I,W8I,T8I,V8I;if(u8I < +"0"){return;}this.copyConfig();b8I=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,u8I,K8I,b8I.chart);this.penDown=!"";W8I=this.stx;this.field=W8I.highlightedDataSetField;if(!this.field && b8I != W8I.chart.panel){for(var Q8I in W8I.chart.seriesRenderers){T8I=W8I.chart.seriesRenderers[Q8I];if(T8I.params.panel == b8I.name){this.field=T8I.seriesParams[0].field;break;}}for(var q8I in W8I.layout.studies){V8I=W8I.layout.studies[q8I];if(V8I.panel == b8I.name){this.field=Object.keys(V8I.outputMap)[0];break;}}}return ! !"";}L6EE.t8L();if(this.accidentalClick(u8I,K8I)){return this.dragToDraw;}this.setPoint(1,u8I,K8I,b8I.chart);this.penDown=! !0;return !"";;},getYValue:function(M8I){var I8I,U8I,B8I,t8I,F8I,k8I,w8I,F7P;I8I=this.stx.chart.dataSet[M8I];U8I=this.stx.chart.dataSet[M8I];if(!I8I){return null;}B8I=this.stx.panels[this.panelName];t8I=this.stx.getYAxisByField(B8I,this.field) || B8I.yAxis;if(this.stx.charts[B8I.name] && B8I.chart.transformFunc && t8I == B8I.yAxis){U8I=I8I.transform;}if(!U8I){return null;}F8I=null;k8I=null;w8I=this.stx.defaultPlotField || "Close";if(this.field){F7P="o";F7P+="b";F7P+="ject";k8I=c4S.existsInObjectChain(U8I,this.field);if(!k8I){return null;}F8I=k8I=k8I.obj[k8I.member];if(I8I != U8I){F8I=c4S.existsInObjectChain(I8I,this.field);F8I=F8I.obj[F8I.member];}if(typeof k8I == F7P){k8I=k8I[w8I];F8I=F8I[w8I];}}else {k8I=U8I[w8I];F8I=I8I[w8I];}return {transformed:k8I,untransformed:F8I};},render:function(C8I){var O4U=L6EE;var J8I,x8I,O8I,e8I,Y8I,l8I,N8I,X8I,a8I,m8I,Z8I,R8I,f8I,s8I,A8I,y8I,i0V,c0V,h8I,G8I,H0V,n8I,j8I,g8I,d8I,v8I,z8I,p8I,o0V,E0V,r0V,P8I,o7P,S0V,W0V;J8I=this.stx.panels[this.panelName];if(!J8I){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}x8I=this.stx.pixelFromTick(this.p0["0" << 123076832],J8I.chart);O8I=this.stx.pixelFromTick(this.p1[0],J8I.chart);if(x8I < J8I.left && O8I < J8I.left){return;}if(x8I > J8I.right && O8I > J8I.right){return;}e8I=this.stx.getYAxisByField(J8I,this.field);Y8I=[];l8I=[];N8I=0;O4U.T5H(1);X8I=O4U.f5H("0",1);a8I=0;m8I=0;Z8I=Math.min(this.p1[0],this.p0[0]);O4U.T5H(86);var g4E=O4U.F5H(3,1,8,2);R8I=Math.max(this.p1[0],this.p0[0]) + g4E;O4U.T5H(0);f8I=O4U.f5H(R8I,Z8I);for(var L8I=Z8I;L8I < R8I;L8I++){s8I=this.getYValue(L8I);if(s8I){Y8I.push(s8I.transformed);l8I.push(s8I.untransformed);}}A8I=Y8I.length;O4U.T5H(87);y8I=O4U.f5H(2,A8I,1,A8I);i0V=Math.pow(y8I,2);O4U.P5H(88);c0V=O4U.F5H(A8I,2,3,1,y8I);for(L8I=0;L8I < A8I;L8I++){a8I+=A8I * Y8I[L8I] - N8I;N8I+=Y8I[L8I];m8I+=A8I * l8I[L8I] - X8I;X8I+=l8I[L8I];}O4U.P5H(89);h8I=O4U.F5H(N8I,c0V,y8I,A8I,a8I,A8I,i0V);O4U.P5H(90);G8I=O4U.F5H(y8I,A8I,h8I,N8I);O4U.T5H(89);H0V=O4U.f5H(X8I,c0V,y8I,A8I,m8I,A8I,i0V);O4U.T5H(90);n8I=O4U.f5H(y8I,A8I,h8I,X8I);if(this.p0[0] < this.p1["0" - 0]){j8I=G8I;O4U.T5H(61);g8I=O4U.f5H(G8I,f8I,h8I);this.p0[+"1"]=n8I;O4U.P5H(61);this.p1[1]=O4U.f5H(n8I,f8I,H0V);}else {O4U.P5H(61);j8I=O4U.f5H(G8I,f8I,h8I);g8I=G8I;O4U.P5H(45);this.p0[O4U.f5H(1441836640,"1")]=O4U.f5H(n8I,f8I,H0V,O4U.P5H(61));this.p1[1]=n8I;}d8I=this.stx.pixelFromTransformedValue(j8I,J8I,e8I);v8I=this.stx.pixelFromTransformedValue(g8I,J8I,e8I);z8I=this.getLineColor();p8I={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(x8I,O8I,d8I,v8I,z8I,"segment",C8I,J8I,p8I);O4U.T5H(0);this.stx.plotLine(x8I,x8I,O4U.F5H(d8I,20),O4U.f5H(20,d8I,O4U.T5H(4)),z8I,"segment",C8I,J8I,p8I);O4U.P5H(0);this.stx.plotLine(O8I,O8I,O4U.F5H(v8I,20),O4U.F5H(20,v8I,O4U.P5H(4)),z8I,"segment",C8I,J8I,p8I);if(this.active1 || this.active2 || this.active3){O4U.T5H(13);o0V=O4U.F5H(N8I,A8I);E0V=0;for(L8I=0;L8I < A8I;L8I++){E0V+=Math.pow(Y8I[L8I] - o0V,"2" ^ 0);}O4U.P5H(13);r0V=Math.sqrt(O4U.F5H(E0V,A8I));P8I={context:C8I,panel:J8I,points:{0:{x:x8I,v:j8I},1:{x:O8I,v:g8I}},stddev:r0V,yAxis:e8I};this.lines={};if(this.active1){this.renderStddev((393.16,242) >= (8467,+"1500")?! !1:172.02 === 7690?(! !{},491.24):"1",("8430" & 2147483647,4443) != 1364?"p":0x258f,P8I);this.renderStddev(9020 <= (4750,352)?(+"440.18",+"9885") > 1670?(+"0x100b",1.52e+3):680.61:"1",(8480,6620) >= ("1511" | 1315)?"n":(4.09e+3,"S"),P8I);}if(this.active2){this.renderStddev(("7760" << 98956544,8600) != (790.44,9323)?"2":(612.28,0x1f84),384 == (4511,+"8870")?4089 > 535.79?!1:(! !"1",0x2129):"p",P8I);this.renderStddev("2","n",P8I);}if(this.active3){this.renderStddev(6570 != (786.19,+"6972")?"3":0xc9a,+"804" >= (6711,8687)?334.7 !== 653.1?("94.8" - 0,2390) > 9427?!0:"l":794.58:"p",P8I);this.renderStddev(+"5939" != 3520?"3":(+"8.95e+3",! !{}),(2215,996.46) != 628.33?(155,4560) != 2278?3580 === 1550?"r":"n":! !0:(! !{},0x128a),P8I);}}if(!this.highlighted){this.pixelX=[x8I,O8I];this.pixelY=[d8I,v8I];}else {o7P="p";o7P+="0";S0V=this.highlighted == o7P?!"":!"1";W0V=this.highlighted == "p1"?! ![]:![];this.littleCircle(C8I,x8I,d8I,S0V);this.littleCircle(C8I,O8I,v8I,W0V);}},renderStddev:function(M0V,d0V,t0V){var M4U=L6EE;var f7P,P0V,v0V,X0V,f0V,A0V,C0V,Y0V,x0V,y0V,Q0V,T0V,L0V,u0V,V0V,I0V,B0V,h0V,G0V,N0V,n0V;f7P="c";f7P+="olo";f7P+="r";M4U.P5H(91);P0V=M4U.f5H(M0V,d0V,"stddev");M4U.P5H(4);v0V=M4U.f5H(M0V,f7P);M4U.P5H(4);X0V=M4U.F5H(M0V,"pattern");M4U.P5H(4);f0V=M4U.F5H(M0V,"lineWidth");A0V=t0V.points;C0V=A0V["0" * 1].v;Y0V=A0V[1].v;x0V=t0V.stddev;y0V=d0V === "n"?M0V * -1:M0V * +"1";Q0V=this.stx;T0V=t0V.panel;L0V=t0V.yAxis;u0V={name:P0V,color:this.getLineColor(this[v0V]),type:"segment",y0:Q0V.pixelFromTransformedValue(C0V + x0V * y0V,T0V,L0V),y1:Q0V.pixelFromTransformedValue(Y0V + x0V * y0V,T0V,L0V),params:{pattern:this[X0V],lineWidth:this[f0V]}};if(this.lines){this.lines[P0V]=u0V;}V0V=t0V.context;I0V=A0V[0].x;M4U.t8L();B0V=A0V[1].x;Q0V.plotLine(I0V,B0V,u0V.y0,u0V.y1,u0V.color,u0V.type,V0V,T0V,u0V.params);Q0V.plotLine(I0V,I0V,u0V.y0 - ("10" | 10),u0V.y0 + 10,u0V.color,u0V.type,V0V,T0V,u0V.params);Q0V.plotLine(B0V,B0V,u0V.y1 - +"10",u0V.y1 + 10,u0V.color,u0V.type,V0V,T0V,u0V.params);M4U.T5H(4);h0V=M4U.F5H(9373 > (380.5,64)?(+"1250",4820) === 2407?(! !{},9.01e+3):2872 === (461.07,3770)?"l":"\u03c3":444.37,M0V);M4U.P5H(92);var X4E=M4U.F5H(13,75,801,13);G0V=Math.max(I0V,B0V) + X4E;N0V=I0V < B0V?u0V.y1:u0V.y0;V0V.fillStyle=u0V.color;V0V.save();V0V.textBaseline="middle";V0V.fillText(h0V,G0V,N0V);V0V.restore();if(t0V.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(I0V >= T0V.chart.left && I0V <= T0V.chart.right || B0V >= T0V.chart.left && B0V <= T0V.chart.right){M4U.T5H(93);n0V=M4U.f5H(x0V,I0V < B0V?Y0V:C0V,y0V);Q0V.endClip();Q0V.createYAxisLabel(T0V,t0V.formatPrice(n0V,L0V),N0V,u0V.color,null,V0V,L0V);Q0V.startClip(T0V.name);}}},intersected:function(s0V,j0V,m0V){var g0V,z0V,p0V,Z0V,i9V,a0V,l0V;if(!this.pixelX || !this.pixelY){return null;}g0V=this.repositionIntersection(s0V,j0V);L6EE.l8L();if(g0V){return g0V;}z0V={0:this.pixelX,1:this.pixelY};for(var e0V=0;e0V < 2;e0V++){if(this.pointIntersection(z0V["0" ^ 0][e0V],z0V[1][e0V],m0V,! ![])){L6EE.T5H(4);this.highlighted=L6EE.F5H(e0V,2230 > (+"564.03",1390)?"p":(+"280",73.78) >= 892.74?! ![]:(2920,3149) !== (658.5,3743)?("n",! ![]):3.64e+3);return {action:"drag",point:"p" + e0V};}}p0V=this;Z0V=this.pixelX[0];i9V=this.pixelX[1];a0V=function(H9V){var E9V,o9V;E9V=[Z0V,H9V.y0];o9V=[i9V,H9V.y1];L6EE.t8L();return p0V.lineIntersection(s0V,j0V,m0V,p0V.name,E9V,o9V,! !1);};l0V=a0V({y0:this.pixelY[0],y1:this.pixelY[1]});if(!l0V && this.lines){for(var c9V in this.lines){if(a0V(this.lines[c9V])){l0V=! ![];break;}}}if(l0V){this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:s0V,value:j0V};}return null;},repositionIntersection:function(r9V,S9V){var I7P;if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){I7P="d";I7P+="ra";I7P+="g";if(this.highlighted === !0){return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:r9V,value:S9V};}return {action:I7P,point:this.highlighted};}return ! !"";},lineIntersection:function(D9V,k9V,V9V,Q9V,b9V,u9V,q9V){var U4U=L6EE;var F4P,o4P,f4P,T9V,W9V,K9V;if(!q9V){U4U.T5H(4);console.log(U4U.F5H(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",Q9V));F4P=690234279;o4P=-267825272;f4P=2;for(var k4P=1;U4U.v4P(k4P.toString(),k4P.toString().length,+"48848") !== F4P;k4P++){return ! !"1";}if(U4U.v4P(f4P.toString(),f4P.toString().length,51128) !== o4P){return !"1";}}if(!b9V){b9V=this.p0;}if(!u9V){u9V=this.p1;}if(!(b9V && u9V)){return ! !"";}T9V=this.stx;W9V=c4S.convertBoxToPixels(T9V,this.panelName,V9V);if(W9V.x0 === undefined){return !"1";}K9V={x0:b9V[0],x1:u9V[+"0"],y0:b9V[1],y1:u9V[1]};return c4S.boxIntersects(W9V.x0,W9V.y0,W9V.x1,W9V.y1,K9V.x0,K9V.y0,K9V.x1,K9V.y1);},boxIntersection:function(I9V,U9V,F9V){if(F9V.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || F9V.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return !1;}L6EE.l8L();if(!this.stx.repositioningDrawing && (F9V.cy1 < this.pixelY[0] || F9V.cy0 > this.pixelY[1])){return ! !"";}return ! !{};},reconstruct:function(w9V,B9V){this.stx=w9V;this.color=B9V.col;this.color1=B9V.col1;this.color2=B9V.col2;this.color3=B9V.col3;this.active1=B9V.dev1;this.active2=B9V.dev2;this.active3=B9V.dev3;this.panelName=B9V.pnl;this.pattern=B9V.ptrn;this.pattern1=B9V.ptrn1;this.pattern2=B9V.ptrn2;this.pattern3=B9V.ptrn3;this.lineWidth=B9V.lw;this.lineWidth1=B9V.lw1;this.lineWidth2=B9V.lw2;this.lineWidth3=B9V.lw3;this.d0=B9V.d0;this.d1=B9V.d1;this.tzo0=B9V.tzo0;this.tzo1=B9V.tzo1;this.field=B9V.fld;L6EE.l8L();this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);c4S.Drawing.trendline=function(){var k7P;L6EE.l8L();k7P="trendlin";k7P+="e";this.name=k7P;};c4S.inheritsFrom(c4S.Drawing.trendline,c4S.Drawing.segment);c4S.Drawing.trendline.prototype.configs=["color","fillColor",d7P,D7P,"font"];c4S.Drawing.trendline.prototype.measure=function(){L6EE.t8L();;};c4S.Drawing.trendline.prototype.reconstruct=function(M9V,t9V){c4S.Drawing.segment.prototype.reconstruct.call(this,M9V,t9V);this.callout=new c4S.Drawing.callout();this.callout.reconstruct(M9V,t9V.callout);};c4S.Drawing.trendline.prototype.serialize=function(){var A9V;A9V=c4S.Drawing.segment.prototype.serialize.call(this);A9V.callout=this.callout.serialize();return A9V;};c4S.Drawing.trendline.prototype.render=function(C9V){var L4U=L6EE;var N7P,J9V,h9V,O9V,y9V,L9V,x9V,Y9V,P9V,N9V,G9V,d9V,n9V,e9V,v9V,X9V,f9V,l9V,s9V,y0P,i0P,W0P,S7P,j9V,g9V;N7P=" ";N7P+="(";J9V=this.stx.panels[this.panelName];if(!J9V){return;}c4S.Drawing.segment.prototype.render.call(this,C9V);if(!this.callout){this.callout=new c4S.Drawing.callout();h9V=c4S.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,h9V);}this.callout.p0=c4S.clone(this.p0);O9V=this.stx.pixelFromTick(this.p0[0],J9V.chart);y9V=this.stx.pixelFromTick(this.p1[+"0"],J9V.chart);L9V=this.stx.pixelFromValueAdjusted(J9V,this.p0[0],this.p0[1]);x9V=this.stx.pixelFromValueAdjusted(J9V,this.p1[0],this.p1["1" - 0]);if(!isFinite(L9V) || !isFinite(x9V)){return;}L4U.P5H(9);Y9V=L4U.F5H(y9V,"2",O9V);L4U.P5H(8);P9V=L4U.F5H(2,L9V,x9V);this.fontSize=c4S.stripPX(this.font && this.font.size || 13);L4U.P5H(22);var u4E=L4U.F5H(7,44,42);N9V=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?0:u4E);G9V=Math.sqrt(Math.pow(y9V - O9V,+"2") + Math.pow(x9V - L9V,2));L4U.T5H(17);L4U.t8L();var m4E=L4U.F5H(20,5,14);L4U.P5H(41);var T4E=L4U.F5H(5,18,15,29,8);L4U.P5H(94);var A4E=L4U.F5H(20,1441,9,8,0);d9V=N9V / (G9V || N9V) * (this.p1[m4E] < this.p0[+"1"]?T4E:A4E);L4U.T5H(95);n9V=L4U.f5H(x9V,d9V,P9V,Y9V);L4U.P5H(96);e9V=L4U.F5H(Y9V,P9V,d9V,y9V);this.callout.p0[0]=this.stx.tickFromPixel(n9V,J9V.chart);this.callout.p0[+"1"]=this.stx.priceFromPixel(e9V,J9V);this.callout.v0=this.callout.p0[1];this.callout.p1=c4S.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !"1";v9V=this.p1[1] - this.p0["1" | 0];L4U.P5H(0);var K4E=L4U.f5H(8,6);L4U.T5H(97);var Z4E=L4U.F5H(2,2,2,2);L4U.P5H(78);var y4E=L4U.F5H(12,17,9,5);this.callout.text="" + Number(v9V).toFixed(K4E) + (this.p0[Z4E] === 0?"":N7P + Number(100 * v9V / this.p0[1]).toFixed(y4E) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[+"0"]) + " Bars";X9V=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > "1" << 530728512 && Math.abs(this.p0[0] - this.p1[0]) < 20){l9V=this.stx.pixelFromTick(X9V,J9V.chart);L4U.T5H(98);s9V=L4U.F5H(y9V,l9V,O9V,L9V,L9V,x9V,O9V);f9V=this.stx.priceFromPixel(s9V,J9V) || P9V;}else {y0P=-503694684;L4U.P5H(0);i0P=L4U.F5H("2100856454",0);W0P=2;for(var P0P="1" ^ 0;L4U.c2P(P0P.toString(),P0P.toString().length,+"5886") !== y0P;P0P++){f9V=this.stx.priceFromPixel(P9V,J9V);W0P+=+"2";}if(L4U.v4P(W0P.toString(),W0P.toString().length,+"3669") !== i0P){f9V=this.stx.priceFromPixel(P9V,J9V);}f9V=this.stx.priceFromPixel(P9V,J9V);}this.callout.stem={t:X9V,v:f9V};this.callout.renderText();this.callout.render(C9V);if(this.highlighted){S7P="p";S7P+="0";j9V=this.highlighted == S7P?! !{}:!{};g9V=this.highlighted == "p1"?! ![]:![];this.littleCircle(C9V,O9V,L9V,j9V);this.littleCircle(C9V,y9V,x9V,g9V);}};c4S.Drawing.trendline.prototype.lineIntersection=function(z9V,p9V,a9V,m9V){return c4S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,z9V,p9V,a9V,"segment");};c4S.Drawing.trendline.prototype.intersected=function(R9V,i1V,H1V){L6EE.t8L();var c1V,Z9V,l7P;if(!this.p0 || !this.p1){return null;}c1V=this.callout.intersected(R9V,i1V,H1V);Z9V=c4S.Drawing.segment.prototype.intersected.call(this,R9V,i1V,H1V);this.callout.highlighted=! !(c1V || Z9V);if(Z9V){return Z9V;}else if(c1V){l7P="m";l7P+="o";l7P+="v";l7P+="e";return {action:l7P,p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:R9V,value:i1V};}return null;};c4S.Drawing.average=function(){var x7P;x7P="av";x7P+="erage";this.name=x7P;};c4S.inheritsFrom(c4S.Drawing.average,c4S.Drawing.regression);c4S.extend(c4S.Drawing.average.prototype,{configs:c4S.Drawing.regression.prototype.configs.concat(t7P),measure:function(){var E1V,r1V,W1V,b1V,S1V,o1V;L6EE.l8L();if(this.p0 && this.p1){this.stx.setMeasure(0,!1,this.p0[0],this.p1[0],! !{},this.name);E1V=[];r1V="";if(this.active1){E1V.push((5220,4890) <= (816.03,+"408.84")?(! ![],"V"):"1");}if(this.active2){E1V.push("2");}if(this.active3){E1V.push(864.55 !== ("4310" & 2147483647,2930)?"3":(9390,6259) >= 57?(! !{},"s"):("n","r"));}if(E1V.length){r1V="&ensp;" + E1V.join(", ") + " &sigma;";}W1V=(this.stx.drawingContainer || document).querySelector(".mMeasure");b1V=this.stx.controls.mSticky;S1V=b1V && b1V.querySelector(".mStickyInterior");if(W1V){W1V.innerHTML+=r1V;}if(S1V){o1V=[];o1V.push(c4S.capitalize(this.name));o1V.push(this.field || this.stx.defaultPlotField || "Close");o1V.push(S1V.innerHTML + r1V);S1V.innerHTML=o1V.join("<br>");}}},render:function(D1V){var I4U=L6EE;var X7P,g7P,u1V,T1V,V1V,U1V,Q1V,A1V,J1V,Y1V,L1V,M1V,q1V,F1V,B1V,I1V,K1V,w1V,t1V,x1V,y1V,k1V,u7P,P1V,C1V;X7P="se";X7P+="gme";X7P+="n";X7P+="t";g7P="segmen";g7P+="t";u1V=this.stx.panels[this.panelName];I4U.t8L();if(!u1V){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}T1V=this.stx.pixelFromTick(this.p0[0],u1V.chart);V1V=this.stx.pixelFromTick(this.p1[0],u1V.chart);if(T1V < u1V.left && V1V < u1V.left){return;}if(T1V > u1V.right && V1V > u1V.right){return;}U1V=this.stx.getYAxisByField(u1V,this.field);Q1V=this.stx;A1V=Math.min(this.p1[0],this.p0[0]);I4U.T5H(49);var i4E=I4U.f5H(1,3,4);J1V=Math.max(this.p1[0],this.p0[0]) + i4E;I4U.T5H(0);Y1V=I4U.f5H(J1V,A1V);L1V=0;M1V=[];for(q1V=A1V;q1V < J1V;q1V++){F1V=this.getYValue(q1V);if(F1V !== null){L1V+=F1V.transformed;M1V.push(F1V);}}B1V=M1V.length;if(!B1V){return;}I4U.P5H(13);I1V=I4U.F5H(L1V,B1V);K1V=Q1V.pixelFromTransformedValue(I1V,u1V,U1V);w1V=this.getLineColor();t1V={pattern:this.pattern,lineWidth:this.lineWidth};Q1V.plotLine(T1V,V1V,K1V,K1V,w1V,"segment",D1V,u1V,t1V);I4U.P5H(0);Q1V.plotLine(T1V,T1V,I4U.F5H(K1V,20),I4U.f5H(20,K1V,I4U.T5H(4)),w1V,g7P,D1V,u1V,t1V);I4U.P5H(0);Q1V.plotLine(V1V,V1V,I4U.f5H(K1V,20),I4U.F5H(K1V,"20",334475328,I4U.P5H(99)),w1V,X7P,D1V,u1V,t1V);if(this.axisLabel && !this.highlighted && !this.penDown){if(T1V >= u1V.chart.left && T1V <= u1V.chart.right || V1V >= u1V.chart.left && V1V <= u1V.chart.right){Q1V.endClip();Q1V.createYAxisLabel(u1V,O1V(I1V,U1V),K1V,w1V,null,D1V,U1V);Q1V.startClip(u1V.name);}}if(this.active1 || this.active2 || this.active3){x1V=0;for(q1V=0;q1V < B1V;q1V++){F1V=M1V[q1V];x1V+=Math.pow(F1V.transformed - I1V,+"2");}I4U.T5H(13);y1V=Math.sqrt(I4U.F5H(x1V,B1V));k1V={context:D1V,formatPrice:O1V,panel:u1V,points:{0:{x:T1V,v:I1V},1:{x:V1V,v:I1V}},stddev:y1V,yAxis:U1V};this.lines={};if(this.active1){this.renderStddev("1","p",k1V);this.renderStddev("1",(9933,4120) < (875,52.63)?"K":"n",k1V);}if(this.active2){this.renderStddev("2",(577,551) < 2759?(5798,9871) < 4289?(407.86,5630) >= (+"3981",6420)?"190.72" * 1:0xad7:"p":"u",k1V);this.renderStddev((6850,9680) !== 997?"2":1150 >= (+"8850",+"3164")?(8.05e+3,569):(2.91e+3,5.41e+3),"n",k1V);}if(this.active3){this.renderStddev((602.29,22.5) >= (+"9690","9640" << 1994966688)?6630 >= ("3168" * 1,595.39)?(5180,6043) >= ("593.82" * 1,9660)?"0x5b5" ^ 0:(0x2ad,+"4.58e+3"):"P":"3","2780" >> 701726912 >= 835.91?(1080,8213) !== (63.18,4445)?"p":("5.70e+2" | 560,!{}):+"2.03e+3",k1V);this.renderStddev("3","n",k1V);}}function O1V(N1V,d1V){if(d1V && d1V.priceFormatter){N1V=d1V.priceFormatter(Q1V,u1V,N1V);}else {N1V=Q1V.formatYAxisPrice(N1V,u1V,null,d1V);}return N1V;}if(!this.highlighted){this.pixelX=[T1V,V1V];this.pixelY=[K1V,K1V];}else {u7P="p";u7P+="1";P1V=this.highlighted == "p0"?! !{}:!{};C1V=this.highlighted == u7P?! !1:!{};this.littleCircle(D1V,T1V,K1V,P1V);this.littleCircle(D1V,V1V,K1V,C1V);}},reconstruct:function(X1V,v1V){this.axisLabel=v1V.al;c4S.Drawing.regression.prototype.reconstruct.call(this,X1V,v1V);},serialize:function(){L6EE.t8L();var f1V,r0P,H0P,n0P;f1V=c4S.Drawing.regression.prototype.serialize.call(this);r0P=1204190627;H0P=-778458531;n0P=2;for(var j0P=1;L6EE.c2P(j0P.toString(),j0P.toString().length,97940) !== r0P;j0P++){f1V.al=this.axisLabel;n0P+=2;}if(L6EE.v4P(n0P.toString(),n0P.toString().length,50641) !== H0P){f1V.al=this.axisLabel;}return f1V;}},! !"1");c4S.Drawing.quadrant=function(){var m7P;m7P="qu";m7P+="a";L6EE.t8L();m7P+="dra";m7P+="nt";this.name=m7P;};c4S.inheritsFrom(c4S.Drawing.quadrant,c4S.Drawing.regression);c4S.extend(c4S.Drawing.quadrant.prototype,{configs:["color",T7P,"lineWidth",A7P],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(e1V){var n4U=L6EE;var G1V,h1V,n1V,l1V,p1V,s1V,j1V,Z1V,a1V,R1V,i7V,c7V,H7V,E7V,m1V,g1V,o7V,z1V,K7P,Z7P,y7P,S7V,W7V,g6P,X6P,u6P;G1V=this.stx;h1V=G1V.panels[this.panelName];if(!h1V){return;}if(!this.p1){return;}n1V=G1V.pixelFromTick(this.p0[0],h1V.chart);l1V=G1V.pixelFromTick(this.p1[0],h1V.chart);if(n1V < h1V.left && l1V < h1V.left){return;}if(n1V > h1V.right && l1V > h1V.right){return;}p1V=this.stx.getYAxisByField(h1V,this.field);s1V=null;j1V=null;for(var r7V=Math.min(this.p1[0],this.p0[0]);r7V <= Math.max(this.p1[0],this.p0[0]);r7V++){Z1V=this.getYValue(r7V);if(Z1V !== null){if(s1V === null || Z1V.transformed > s1V){s1V=Z1V.transformed;}if(j1V === null || Z1V.transformed < j1V){j1V=Z1V.transformed;}}}a1V=G1V.pixelFromTransformedValue(s1V,h1V,p1V);n4U.P5H(100);R1V=G1V.pixelFromTransformedValue(n4U.F5H(s1V,4,j1V,3),h1V,p1V);n4U.P5H(101);i7V=G1V.pixelFromTransformedValue(n4U.F5H("2",j1V,3,s1V),h1V,p1V);n4U.P5H(8);c7V=G1V.pixelFromTransformedValue(n4U.f5H(2,s1V,j1V),h1V,p1V);n4U.T5H(102);n4U.l8L();H7V=G1V.pixelFromTransformedValue(n4U.F5H(3,s1V,j1V,2),h1V,p1V);n4U.P5H(103);E7V=G1V.pixelFromTransformedValue(n4U.f5H("4",3,0,s1V,j1V),h1V,p1V);m1V=G1V.pixelFromTransformedValue(j1V,h1V,p1V);this.p0[1]=0;this.p1[1]=![];g1V=this.getLineColor();o7V=this.fillColor;if(o7V == "auto" || c4S.isTransparent(o7V)){o7V=G1V.defaultColor;}e1V.fillStyle=o7V;z1V={pattern:this.pattern,lineWidth:this.lineWidth};G1V.plotLine(n1V,l1V,a1V,a1V,g1V,"segment",e1V,h1V,z1V);G1V.plotLine(n1V,l1V,m1V,m1V,g1V,"segment",e1V,h1V,z1V);if(this.name == "quadrant"){K7P="segmen";K7P+="t";G1V.plotLine(n1V,l1V,R1V,R1V,g1V,K7P,e1V,h1V,z1V);G1V.plotLine(n1V,l1V,E7V,E7V,g1V,"segment",e1V,h1V,z1V);}else if(this.name == "tirone"){Z7P="segm";Z7P+="ent";G1V.plotLine(n1V,l1V,i7V,i7V,g1V,"segment",e1V,h1V,z1V);G1V.plotLine(n1V,l1V,H7V,H7V,g1V,Z7P,e1V,h1V,z1V);}G1V.plotLine(n1V,n1V,a1V,m1V,g1V,"segment",e1V,h1V,z1V);G1V.plotLine(l1V,l1V,a1V,m1V,g1V,"segment",e1V,h1V,z1V);G1V.plotLine(n1V,l1V,c7V,c7V,g1V,"segment",e1V,h1V,c4S.extend(z1V,{opacity:this.name == "tirone"?0.2:1}));e1V.globalAlpha=0.1;e1V.beginPath();n4U.T5H(0);e1V.fillRect(n1V,a1V,n4U.f5H(l1V,n1V),n4U.f5H(m1V,a1V));if(this.name == "quadrant"){n4U.P5H(0);e1V.fillRect(n1V,R1V,n4U.F5H(l1V,n1V),n4U.f5H(E7V,R1V));}else if(this.name == "tirone"){n4U.T5H(0);e1V.fillRect(n1V,i7V,n4U.f5H(l1V,n1V),n4U.F5H(H7V,i7V));}e1V.globalAlpha=1;if(!this.highlighted){this.pixelX=[n1V,l1V];this.pixelY=[a1V,m1V,c7V];if(this.name === "quadrant"){this.pixelY.push(R1V,E7V);}if(this.name === "tirone"){this.pixelY.push(i7V,H7V);}}else {y7P="p";y7P+="0";S7V=this.highlighted == y7P?! !"1":!{};W7V=this.highlighted == "p1"?! !{}:!{};g6P=1568306045;X6P=-494450543;u6P=2;for(var T6P=1;n4U.c2P(T6P.toString(),T6P.toString().length,+"69649") !== g6P;T6P++){this.littleCircle(e1V,n1V,c7V,S7V);this.littleCircle(e1V,l1V,c7V,W7V);u6P+=2;}if(n4U.v4P(u6P.toString(),u6P.toString().length,19911) !== X6P){this.littleCircle(e1V,n1V,c7V,S7V);this.littleCircle(e1V,l1V,c7V,W7V);}}},intersected:function(V7V,Q7V,D7V){var q7V,T7V,k7V;var {pixelX:b7V, pixelY:u7V}=this;if(!b7V || !u7V){return null;}q7V=this.repositionIntersection(V7V,Q7V);if(q7V){return q7V;}for(var K7V=0;K7V < 2;K7V++){if(this.pointIntersection(b7V[K7V],u7V[2],D7V,!0)){L6EE.P5H(4);this.highlighted=L6EE.F5H(K7V,"p");return {action:"drag",point:"p" + K7V};}}T7V=[];b7V.forEach(F7V=>{T7V.push({p0:[F7V,u7V[0]],p1:[F7V,u7V[1]]});});u7V.forEach(I7V=>{T7V.push({p0:[b7V["0" - 0],I7V],p1:[b7V[+"1"],I7V]});});k7V=T7V.some(({p0:U7V, p1:B7V})=>{return this.lineIntersection(V7V,Q7V,D7V,this.name,U7V,B7V,! !"1");});L6EE.l8L();if(k7V){this.highlighted=! ![];return {action:"move",p0:c4S.clone(this.p0),p1:c4S.clone(this.p1),tick:V7V,value:Q7V};}return null;},reconstruct:function(M7V,w7V){this.stx=M7V;this.color=w7V.col;this.fillColor=w7V.fc;this.panelName=w7V.pnl;this.pattern=w7V.ptrn;this.lineWidth=w7V.lw;this.d0=w7V.d0;this.d1=w7V.d1;this.tzo0=w7V.tzo0;this.tzo1=w7V.tzo1;this.field=w7V.fld;this.adjust();},serialize:function(){L6EE.t8L();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);c4S.Drawing.tirone=function(){this.name="tirone";};c4S.inheritsFrom(c4S.Drawing.tirone,c4S.Drawing.quadrant);c4S.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;L6EE.P5H(45);this.dy=-L6EE.f5H(769849184,"20");this.dragToDraw=! !0;this.annotationPoints=[];this.edit=null;};c4S.inheritsFrom(c4S.Drawing.elliottwave,c4S.Drawing.annotation);c4S.Drawing.elliottwave.defaultTemplate={impulse:[(+"4868",1940) > 3980?2120 >= (6490,310)?"B":(5.97e+3,+"0xb37"):"I","II","III",i7P,922.12 != ("88.68" - 0,9410)?(276.3,828) !== 2020?"V":(+"8760",+"9603") > "945.32" * 1?"J":(!{},396):"z"],corrective:["A",(3710,374.17) > 735.58?3651 >= 792.55?("8980" << 582695808,1530) === 777.32?(0x2512,! !1):0x536:("0x2007" ^ 0,"D"):"B",(+"9827",5916) < 799.69?"7.67e+3" ^ 0:"C"],decoration:"enclosed",showLines:! !{}};c4S.Drawing.elliottwave.prototype.initializeSettings=function(t7V){t7V.currentVectorParameters.waveParameters=c4S.clone(c4S.Drawing.elliottwave.defaultTemplate);};c4S.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font","waveParameters"];c4S.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",W7P];c4S.Drawing.elliottwave.prototype.construct=function(A7V,L7V){var J7V;this.stx=A7V;this.panelName=L7V.name;J7V=A7V.currentVectorParameters;Object.assign(this,J7V.waveParameters);};c4S.Drawing.elliottwave.prototype.serialize=function(){var e4U=L6EE;var B7P,O7V,G7P;B7P="w";B7P+="t";O7V={};e4U.t8L();for(var x7V=0;x7V < this.points.length;x7V++){G7P="t";G7P+="z";G7P+="o";e4U.P5H(4);O7V[e4U.F5H(x7V,(638.75,"6562" << 2138012896) <= (291.54,6430)?3931 !== +"3120"?2009 != (688.54,7240)?740.35:("s",35.54):("V",+"788.25"):"d")]=this[e4U.f5H(x7V,"d")];e4U.P5H(4);O7V[e4U.F5H(x7V,G7P)]=this[e4U.F5H(x7V,"tzo")];e4U.P5H(4);O7V[e4U.f5H(x7V,817.04 < 669.39?+"113.08":"v")]=this[e4U.F5H(x7V,(3980,6644) == +"9220"?257.82:"v")];}O7V.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:c4S.removeNullValues(c4S.replaceFields(this.font,{style:"st",size:"sz",weight:B7P,family:"fl"}))},O7V);};c4S.Drawing.elliottwave.prototype.reconstruct=function(P7V,y7V){var U7P,V7P,P7P;U7P="en";U7P+="c";U7P+="lose";U7P+="d";V7P="we";V7P+="ig";V7P+="h";V7P+="t";P7P="st";P7P+="yle";this.stx=P7V;this.color=y7V.col;this.panelName=y7V.pnl;L6EE.t8L();this.pattern=y7V.ptrn;this.lineWidth=y7V.lw;this.font=c4S.replaceFields(y7V.fnt,{st:P7P,sz:"size",wt:V7P,fl:"family"});this.decoration=y7V.decor;this.showLines=y7V.show;this.dx=y7V.dx;this.dy=y7V.dy;this.trend=y7V.trend;this.annotationPoints=y7V.annotations.split(377 == +"698.33"?748.82 <= (475.1,+"5580")?3.92e+3:8.58e+3:",");if(y7V.decor === U7P){this.calculateRadius(P7V.chart.tempCanvas.context);}this.maxSegments=y7V.mxSeg;this.reconstructPoints(y7V);this.adjust();};c4S.Drawing.elliottwave.prototype.reconstructPoints=function(Y7V){var R4U=L6EE;var N7V,d7V,v7V;N7V=this.stx.panels[this.panelName];if(!N7V){return;}for(var C7V=0;C7V < this.annotationPoints.length;C7V++){R4U.P5H(4);this[R4U.F5H(C7V,(348.79,3170) <= 494.25?6.33e+3:(1990,+"4360") != 9820?"d":("d",! !"1"))]=Y7V[R4U.f5H(C7V,("9005" | 772,803.37) == 2610?(4100,3694) >= 1530?434.18 < 888.84?"o":497.60:6.84e+2:"d")];R4U.T5H(4);this[R4U.F5H(C7V,"v")]=Y7V[R4U.f5H(C7V,"v")];R4U.P5H(4);this[R4U.f5H(C7V,"tzo")]=Y7V[R4U.f5H(C7V,"tzo")];d7V=c4S.strToDateTime(Y7V[((5640,9770) != (5330,"380" | 44)?1560 != 385?"d":9.20e+3:+"5.95e+3") + C7V]);v7V=this.stx.tickFromDate(d7V,N7V.chart);this.points.push([v7V,Y7V[(567.02 == 4080?(6201,+"4670") < (9956,1340)?(340.08,5.27e+3):(961,+"3342") >= ("7642" - 0,547.34)?8.56e+3:529.75:"v") + C7V]]);}};c4S.Drawing.elliottwave.prototype.calculateRadius=function(G7V){var X7V,h7V;this.getFontString();G7V.font=this.fontString;X7V=0;L6EE.t8L();for(var f7V=+"0";f7V < this.annotationPoints.length;f7V++){h7V=G7V.measureText(this.annotationPoints[f7V]).width;if(X7V < h7V){X7V=h7V;}}this.enclosedRadius=X7V;};c4S.Drawing.elliottwave.prototype.check=function(s7V,g7V,n7V){var K4U=L6EE;var e7V,l7V;if(n7V === 1 && this.points.length === +"2"){return ! ![];}function j7V(p7V){for(var z7V=2;z7V < p7V.length;z7V++){if(Math.sign(p7V[z7V][1] - p7V[z7V - 1][1]) == Math.sign(p7V[z7V - 1][+"1"] - p7V[z7V - 2][1])){return !"1";}}return ! !1;}K4U.T5H(0);e7V=this.points[K4U.F5H(n7V,1)];if(e7V && s7V <= e7V[0]){return ! !0;}K4U.T5H(4);l7V=this.points[K4U.f5H(1,n7V)];K4U.l8L();if(l7V && s7V >= l7V["0" - 0]){return ![];}if(!j7V(this.points)){return !{};}return ! !"1";};c4S.Drawing.elliottwave.prototype.move=function(a7V,m7V,Z7V){this.copyConfig();L6EE.T5H(40);var W4E=L6EE.f5H(15,14);this.points[this.lastPoint + W4E]=[m7V,Z7V];this.render(a7V);};c4S.Drawing.elliottwave.prototype.adjust=function(){var m4U=L6EE;var i4V,c4V;i4V=this.stx.panels[this.panelName];m4U.l8L();if(!i4V){return;}for(var R7V=0;this.maxSegments + ("1" & 2147483647) > R7V;R7V++){m4U.T5H(4);c4V=this[m4U.f5H(R7V,(704.74,294.46) != ("189.97" - 0,1382)?"d":(830,2530) != (2150,972.82)?225.37:(0x1ad3,1.53e+3))];this.setPoint(R7V,c4V,this["v" + R7V],i4V.chart);this.points[R7V][0]=this.stx.tickFromDate(c4S.strToDateTime(c4V),i4V.chart);m4U.P5H(4);this.points[R7V][1]=this[m4U.f5H(R7V,"v")];}};c4S.Drawing.elliottwave.prototype.click=function(r4V,H4V,E4V){var H4U=L6EE;var o4V,Z8P,y8P,i8P,a7P,M4P,h4P,Y4P;o4V=this.stx.panels[this.panelName];if(!o4V){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,H4V,E4V,o4V.chart);this.points.push(this.p0);this.penDown=! !"1";H4U.T5H(15);this.segment=H4U.F5H("0",926932448);this.lastPoint=0;Z8P=1368321578;y8P=+"1985410360";i8P=2;for(var G8P=1;H4U.c2P(G8P.toString(),G8P.toString().length,98665) !== Z8P;G8P++){a7P="e";a7P+="n";a7P+="close";a7P+="d";if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(190 != (2528,1155)?"enclosed":9005 >= (128,496)?+"7360760":0xee6e);if(this.decoration == a7P){this.calculateRadius(r4V);}this.maxSegments=this.annotationPoints.length + 9;i8P+=2;}if(H4U.c2P(i8P.toString(),i8P.toString().length,77807) !== y8P){if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(569 !== (9920,5340)?"0":5010 < (854,+"104")?7.34e+3:0x1266);if(this.decoration === "enclosed"){this.calculateRadius(r4V);}H4U.T5H(104);var G4E=H4U.F5H(3,14,1,13);this.maxSegments=this.annotationPoints.length - G4E;}this.trend=1;return !"1";}if(this.accidentalClick(H4V,E4V)){this.penDown=! !{};return ![];}if(this.check(H4V,E4V,this.lastPoint + ("1" >> 1468687840))){this.lastPoint++;this.setPoint(this.lastPoint,H4V,E4V,o4V.chart);if(this.lastPoint === 1){M4P=650889057;h4P=730448651;Y4P=2;for(var p4P=1;H4U.v4P(p4P.toString(),p4P.toString().length,1891) !== M4P;p4P++){this.trend=Math.sign(this.v1 * this.v0);Y4P+=2;}if(H4U.c2P(Y4P.toString(),Y4P.toString().length,32844) !== h4P){this.trend=Math.sign(this.v1 - this.v0);}}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! ![];}}return ! !"";};c4S.Drawing.elliottwave.prototype.render=function(S4V){var y4U=L6EE;var R7P,L7P,b4V,M4V,O4V,y4V,P4V,t4V,A4V,K4V,T4V,J4V,V4V,u4V,n7P,H7P,r7P,q4V,k4V,Q4V,F4V,I4V,C4V,Y4V,U4V,B4V,D4V,L4V,x4V,N4V,w4V;R7P="mi";R7P+="d";R7P+="d";R7P+="le";L7P="cen";L7P+="ter";b4V=this.stx.panels[this.panelName];if(!b4V){return;}M4V=this.stx;O4V=this.annotationPoints;y4V=this.pattern?c4S.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();S4V.font=this.fontString;S4V.textAlign=L7P;S4V.textBaseline=R7P;S4V.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(S4V);}this.lastFontString=this.fontString;P4V=this.getLineColor();S4V.fillStyle=S4V.strokeStyle=P4V;S4V.save();S4V.setLineDash(y4V);t4V=this.dx;A4V=this.dy;K4V=this.points;T4V=this.pts;J4V=!this.showLines && this.highlighted;V4V=K4V.length;if(this.penDown && this.segment){y4U.P5H(48);var B4E=y4U.f5H(15,36,11,12);u4V=this.trend * (V4V % B4E - 0.5) < 0;if(b4V.yAxis.flipped){u4V=!u4V;}this.drawDropZone(S4V,K4V[V4V - 2][1],this.stx.priceFromPixel(b4V.yAxis[u4V?"top":"bottom"]),K4V[V4V - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){n7P="t";n7P+="o";n7P+="p";H7P="m";H7P+="i";H7P+="n";r7P="m";r7P+="a";r7P+="x";q4V=parseInt(this.highlighted.substring(1,this.highlighted.length),10);y4U.P5H(105);var P4E=y4U.f5H(817475572,10,817475572,817475574);u4V=this.trend * (q4V % +"2" - 0.5) > "0" << P4E;y4U.P5H(0);k4V=K4V[y4U.F5H(q4V,1)];y4U.T5H(4);Q4V=K4V[y4U.f5H(1,q4V)];F4V=q4V > 0?k4V[1]:Q4V[1];if(Q4V){F4V=Math[u4V?r7P:H7P](F4V,Q4V["1" << 1073234432]);}if(b4V.yAxis.flipped){u4V=!u4V;}this.drawDropZone(S4V,F4V,this.stx.priceFromPixel(b4V.yAxis[u4V?n7P:"bottom"]),k4V?k4V[0]:null,Q4V?Q4V[0]:null);}for(var W4V=0;W4V < V4V;W4V++){I4V=K4V[W4V];C4V=M4V.pixelFromTick(I4V[0],b4V.chart);Y4V=M4V.pixelFromValueAdjusted(b4V,I4V[0],I4V[1]);T4V[W4V]=[C4V,Y4V];}W4V=0;if(this.showLines || J4V){S4V.beginPath();if(J4V){S4V.globalAlpha=0.3;}for(;W4V < T4V.length;W4V++){S4V.lineTo(T4V[W4V][0],T4V[W4V][1]);}S4V.stroke();W4V=0;}S4V.restore();for(;W4V < V4V;W4V++){U4V=W4V % 2?t4V:-t4V;B4V=W4V % 2?A4V:-A4V;U4V*=this.trend;B4V*=this.trend;if(b4V.yAxis.flipped){y4U.T5H(30);U4V*=-y4U.F5H(0,"1");B4V*=-1;}D4V=T4V[W4V];y4U.T5H(106);var V4E=y4U.f5H(2,7,1679032094,5,2);L4V=D4V[2]=D4V["0" << V4E] + U4V;y4U.T5H(107);var U4E=y4U.F5H(7,6,32,15,17);x4V=D4V[3]=D4V[U4E] + B4V;N4V=this.enclosedRadius || 8;w4V=O4V[W4V];if(this.decoration === "parentheses"){y4U.T5H(91);w4V=y4U.f5H(w4V,")","(");}S4V.fillText(w4V,L4V,x4V);if(this.decoration === "enclosed"){S4V.beginPath();S4V.arc(L4V,x4V,N4V,0,2 * Math.PI,! !"");S4V.stroke();}if(this.highlighted){S4V.save();this.littleCircle(S4V,this.pts[W4V]["0" - 0],this.pts[W4V]["1" & 2147483647],this.highlighted === (8560 !== (8020,6984)?"p":(9830,7273) < (160.47,5920)?(325,7.78e+2):("0x1073" >> 512058656,0x180e)) + W4V);S4V.restore();}}};c4S.Drawing.elliottwave.prototype.reposition=function(j4V,d4V,f4V,h4V){var C7P,n4V,e4V,l4V,X4V,G4V,s4V;C7P="dra";C7P+="g";L6EE.t8L();if(!d4V){return;}n4V=this.stx.panels[this.panelName];e4V=d4V.tick - f4V;l4V=d4V.value - h4V;if(d4V.action === "move"){for(var v4V=0;d4V.points.length > v4V;v4V++){X4V=d4V.points[v4V];this.setPoint(v4V,X4V["0" & 2147483647] - e4V,X4V[1] - l4V,n4V.chart);L6EE.P5H(0);var a4E=L6EE.F5H(2057134656,1371423104);this.points[v4V]=[X4V[0] - e4V,X4V["1" << a4E] - l4V];}}if(d4V.action === C7P){G4V=d4V.point;s4V=this.points;s4V[G4V]=[f4V,h4V];if(this.check(f4V,h4V,G4V)){this.setPoint(G4V,f4V,h4V,n4V.chart);;};}this.render(j4V);};c4S.Drawing.elliottwave.prototype.intersected=function(p4V,a4V,m4V){var T4U=L6EE;var m4P,T4P,A4P,Z4V,z4V,j7P,q7P;if(!this.p0 || !this.p1){return null;}m4P=-1934143928;T4P=1751483056;T4U.T5H(1);A4P=T4U.f5H("2",1);for(var Z4P=1;T4U.v4P(Z4P.toString(),Z4P.toString().length,84953) !== m4P;Z4P++){A4P+=2;}if(T4U.c2P(A4P.toString(),A4P.toString().length,89000) !== T4P){}for(var g4V=0;this.points.length > g4V;g4V++){z4V=this.points[g4V];if(this.pointIntersection(z4V[0],z4V["1" & 2147483647],m4V)){j7P="d";j7P+="r";j7P+="a";j7P+="g";T4U.P5H(4);this.highlighted=T4U.f5H(g4V,"p");return {action:j7P,point:g4V,tick:p4V,value:a4V};}if(this.points[g4V + 1] && this.lineIntersection(p4V,a4V,m4V,"segment",z4V,this.points[g4V + 1])){q7P="m";q7P+="o";q7P+="v";q7P+="e";this.highlighted=! ![];Z4V={action:q7P,points:c4S.clone(this.points),tick:p4V,value:a4V};}}return Z4V;};c4S.Drawing.elliottwave.prototype.measure=function(){var R4V,H3V,c3V,J7P,i3V;if(this.points.length >= 2){R4V=this.points;this.stx.setMeasure(R4V[0][1],R4V[R4V.length - 1]["1" ^ 0],R4V[+"0"][0],R4V[R4V.length - 1][0],! ![]);H3V=this.stx.controls.mSticky;c3V=H3V && H3V.querySelector(".mStickyInterior");if(c3V){J7P="Cl";J7P+="o";J7P+="se";i3V=[];i3V.push(c4S.capitalize("Elliott Wave"));if(this.getYValue){i3V.push(this.field || this.stx.defaultPlotField || J7P);}i3V.push(c3V.innerHTML);c3V.innerHTML=i3V.join("<br>");}}};c4S.Drawing.printProjection=function(K3V,t3V,E3V){var p4U=L6EE;p4U.t8L();var r3V,S3V,I3V,T3V,U3V,V3V,B3V,Q3V,u3V,k3V,b3V,w3V,F3V,D3V,o3V,M3V;r3V=t3V.arr;if(r3V.length > 1){S3V=r3V[+"0"][+"0"];I3V=Math.round(K3V.chart.maxTicks * 0.75);for(var W3V=1;W3V < r3V.length;W3V++){p4U.P5H(19);T3V=r3V[p4U.f5H("1",W3V)][+"0"];U3V=r3V[W3V][0];V3V=c4S.strToDateTime(T3V);B3V=c4S.strToDateTime(U3V).getTime();Q3V=K3V.standardMarketIterator(V3V);u3V=0;while(V3V.getTime() < B3V){V3V=Q3V.next();u3V+=1;}k3V=c4S.strToDateTime(T3V).getTime();if(k3V > c4S.strToDateTime(E3V[E3V.length - +"1"].Date).getTime()){b3V=E3V.length - ("1" & 2147483647);u3V+=1;}else {for(b3V=E3V.length - 1;b3V >= 0;b3V--){if(k3V <= c4S.strToDateTime(E3V[b3V].Date).getTime())break;}}w3V={x0:0,x1:u3V,y0:E3V[b3V].Close,y1:r3V[W3V][1]};S3V=c4S.strToDateTime(T3V);Q3V=K3V.standardMarketIterator(S3V);F3V=!{};for(var q3V=0;q3V <= u3V;q3V++){if(!F3V){F3V=! ![];}else {S3V=Q3V.next();}if(S3V.getTime() <= E3V[E3V.length - 1].DT.getTime())continue;D3V=c4S.yIntersection(w3V,q3V);if(!D3V){D3V=0;}p4U.P5H(10);var L4E=p4U.F5H(10008,11,19);p4U.P5H(91);var R4E=p4U.f5H(3,13,9984);o3V=Math.round(D3V * L4E) / R4E;if(o3V === 0){o3V=r3V[W3V][+"1"];}M3V={Date:c4S.yyyymmddhhmmssmmm(S3V),DT:S3V,Open:o3V,Close:o3V,High:o3V,Low:o3V,Volume:0,Adj_Close:o3V,Split_Close:o3V,projection:!""};if(K3V.layout.interval == "minute")if(I3V-- < 0)break;E3V[E3V.length]=M3V;}}}};}};E2S=J3V=>{var C76=L6EE;var P3P,V3P,U3P,A3V;C76.T5H(45);P3P=C76.F5H(719543936,"1240602692");V3P=-486509728;U3P=2;for(var L3P=1;C76.v4P(L3P.toString(),L3P.toString().length,64854) !== P3P;L3P++){A3V=typeof _CIQ !== "undefined"?_CIQ:J3V.CIQ;U3P+=2;}if(C76.c2P(U3P.toString(),U3P.toString().length,99762) !== V3P){A3V=-_CIQ == ""?_CIQ:J3V.CIQ;}if(!A3V.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {A3V.formatEquation=function(Y3V){var O3V,P3V,L3V,y3V,x3V;O3V="";P3V=[];L3V="";y3V=! !"";for(var C3V=+"1";C3V < Y3V.length;C3V++){x3V=Y3V[C3V].toUpperCase();if(x3V == "[" && !y3V){y3V=!"";}else if(x3V == "]" && y3V){y3V=!1;if(L3V !== ""){P3V.push(L3V);C76.T5H(91);O3V+=C76.f5H(L3V,55.37 === (9758,3055)?0x2376:"]",(+"9970",178.39) >= 8519?"239.56" * 1 <= (1889,359.13)?(! !{},6.27e+3):9.14e+2:"[");}L3V="";}else if(y3V){L3V+=x3V;}else if(x3V == (("40" ^ 0,593.56) !== +"2840"?"+":(84.09,!0)) || x3V == (3880 <= (7162,9490)?"-":(830.37,"5.90e+3" - 0)) || x3V == (4051 !== (608.47,5148)?9488 === 921.06?(0x91e,3.25e+3):789.79 === 807.76?"e":"*":(0x1dd9,!1)) || x3V == ((8732,8868) !== 4265?(3462,12.24) > (766.13,716.6)?7.89e+3:"/":4.18e+3) || x3V == ":" || x3V == ((+"55.1",8080) > (8150,1280)?"%":(8614,"6450" - 0) <= (+"103.49",6830)?"695.9" - 0 > "958.48" - 0?469.39:(3.19e+3,"O"):+"0x1134") || x3V == ("5331" >> 1431434208 === ("6060" ^ 0,823.4)?4826 != (+"9350","5840" ^ 0)?("v",0x25e5):! !0:"(") || x3V == ")"){if(L3V !== "" && isNaN(L3V)){P3V.push(L3V);C76.T5H(91);O3V+=C76.F5H(L3V,"]",(8663,+"7736") >= 9452?158.08:"[");}else {O3V+=L3V;}if(x3V == (7400 > (4165,769.96)?":":1110 < (500.52,+"3900")?+"7730" === (3349,101)?615.52:("f",0x392):0x1564)){x3V="/";}O3V+=x3V;L3V="";}else if(x3V != ("163.52" * 1 == 7320?"G":" ")){L3V+=x3V;}}if(L3V !== "" && isNaN(L3V)){P3V.push(L3V);C76.P5H(91);O3V+=C76.f5H(L3V,1750 > (+"4357",9280)?7.96e+3:"]",(9780,+"2350") != "628" >> 918962336?"[":(7343,+"674.64") == (+"3974",855.29)?(4.80e+3,294):0x11f7);}else {O3V+=L3V;}return {equation:O3V,symbols:P3V};};A3V.fetchEquationChart=function(N3V,n3V){var X3V,f3V,h3V,G3V,v3V;X3V=A3V.formatEquation(N3V.symbol);f3V=X3V.symbols;h3V=[];G3V=N3V.stx;N3V.stx=null;for(var d3V=0;d3V < f3V.length;d3V++){v3V=A3V.shallowClone(N3V);v3V.stx=G3V;v3V.symbol=f3V[d3V];v3V.symbolObject={symbol:f3V[d3V]};h3V.push(v3V);}N3V.stx=G3V;G3V.quoteDriver.multiFetch(h3V,function(p3V){var g3V,e3V,l3V,s3V,a3V;g3V={};N3V.loadMoreReplace=! ![];e3V={charge:"0" - 0};C76.t8L();for(var j3V=0;j3V < p3V.length;j3V++){l3V=p3V[j3V];if(l3V.dataCallback.error){n3V({error:l3V.dataCallback.error});return;}g3V[l3V.params.symbol]=l3V.dataCallback.quotes;N3V.loadMoreReplace=N3V.loadMoreReplace && l3V.params.loadMoreReplace;N3V.moreToLoad=N3V.moreToLoad || l3V.dataCallback.moreAvailable;s3V=l3V.dataCallback.attribution;if(s3V){if(s3V.charge){e3V.charge+=s3V.charge;}e3V.source=s3V.source;if(e3V.exchange === undefined){e3V.exchange=s3V.exchange;}else if(e3V.exchange != s3V.exchange){e3V.exchange="";};}}if(h3V.length || !(N3V.loadMore || N3V.update)){try{a3V=A3V.computeEquationChart(X3V.equation,g3V);n3V({quotes:a3V,moreAvailable:N3V.moreToLoad,attribution:e3V});}catch(m3V){var e7P,z3V;e7P="NoExcepti";e7P+="on";z3V={error:"Invalid equation: " + X3V.equation};if(m3V.name && m3V.name == e7P){z3V.suppressAlert=! !{};}n3V(z3V);}}});};}};o2S=R3V=>{var b7P,Z3V;b7P="u";b7P+="ndef";b7P+="i";b7P+="ned";Z3V=typeof _CIQ !== b7P?_CIQ:R3V.CIQ;if(!Z3V.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!Z3V.Marker.Performance){Z3V.ChartEngine.prototype.removeDOMMarker=function(i5V){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");Z3V.Marker.Performance.prototype.removeDOMMarker.call(i5V.params.node,i5V);};Z3V.ChartEngine.prototype.drawMarkers=function(){var c7P;c7P="CIQ.ChartEngine#drawMarke";c7P+="rs is scheduled for deprecatio";L6EE.t8L();c7P+="n in a future release\n Please use CIQ.Marker.Performanc";c7P+="e.drawMarkers instead.";console.warn(c7P);Z3V.Marker.Performance.drawMarkers(this);};Z3V.ChartEngine.prototype.calculateMarkerStyles=function(c5V,H5V){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");L6EE.t8L();Z3V.Marker.Performance.calculateMarkerStyles(this,c5V,H5V);};Z3V.ChartEngine.prototype.drawCircleMarker=function(E5V,o5V,r5V){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");Z3V.Marker.Performance.drawCircleMarker(E5V,o5V,r5V);};Z3V.ChartEngine.prototype.drawSquareMarker=function(S5V,W5V,b5V){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");Z3V.Marker.Performance.drawSquareMarker(S5V,W5V,b5V);};Z3V.ChartEngine.prototype.drawCalloutMarker=function(u5V,K5V,T5V){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");L6EE.l8L();Z3V.Marker.Performance.drawCalloutMarker(u5V,K5V,T5V);};Z3V.ChartEngine.prototype.drawMarkerStem=function(V5V,Q5V,q5V){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");Z3V.Marker.Performance.drawMarkerStem(V5V,Q5V,q5V);};Z3V.ChartEngine.prototype.positionDOMMarkers=function(){var v5P;v5P="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation";L6EE.t8L();v5P+=" in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(v5P);Z3V.Marker.Performance.drawMarkers(this);};Z3V.Marker.Performance=function(F5V){var z5P,O5P,p5P,s5P,Y5P,h5P,M5P,k5V,D5V,U5V,w5V,I5V,B5V,M5V,t5V;z5P="ca";z5P+="ll";z5P+="out";O5P=".stx-";O5P+="ma";O5P+="rker";p5P="<div class=";p5P+="\"stx-stem";p5P+="\">";p5P+="</div>";s5P="</";s5P+="d";s5P+="i";s5P+="v>";Y5P="<";Y5P+="/di";Y5P+="v";Y5P+=">";h5P="<div class=\"stx-marker stx-performance-marker st";h5P+="x-marker-expand\"><h4></h4><p></p></div>";M5P="<div clas";M5P+="s=\"stx-marker highlight\">";this.params={displayCategory:!0,displayStem:! !{},invert:!{},story:"",headline:""};Z3V.extend(this.params,F5V);k5V=this.template=document.createElement("TEMPLATE");L6EE.T5H(108);k5V.innerHTML=L6EE.f5H(s5P,'<div class="stx-visual">',p5P,"</div>",M5P,'<div class="stx-marker-content">',h5P,Y5P);D5V=this.template.content.cloneNode(! ![]);U5V=D5V.querySelector(O5P,k5V);U5V.classList.add(F5V.type);U5V.classList.add(F5V.category);w5V=D5V.querySelector(".stx-visual",k5V);I5V=D5V.querySelector(".stx-marker-expand");B5V=D5V.querySelector("h4",k5V);M5V=D5V.querySelector("p",k5V);B5V.innerText=this.params.headline;M5V.innerText=this.params.story;this.hasText=! !F5V.headline || ! !F5V.story;L6EE.l8L();this.deferAttach=! !"1";this.node=D5V.firstChild;this.node.params=this.params;this.visual=w5V;this.expand=I5V;if(F5V.type === z5P){t5V=I5V.removeChild(B5V);D5V.querySelector(".stx-marker-content",k5V).insertBefore(t5V,I5V);}};Z3V.inheritsFrom(Z3V.Marker.Performance,Z3V.Marker.NodeCreator,!{});Z3V.Marker.Performance.consolidateExpanded=function(P5V){var S4U=L6EE;var A5V,J5V,O5V,x5V,y5V;A5V=P5V.markerHelper.highlighted;if(!A5V.length){return;}S4U.T5H(0);var r4E=S4U.F5H(18,17);J5V=A5V[A5V.length - r4E];O5V=J5V.params.node;function C5V(v5V){var N5V,Y5V,d5V;N5V=v5V.params.node;Y5V=N5V.expand;if(!Y5V){return "";}d5V=Y5V.style.display !== "none"?Y5V.innerHTML:"";return d5V;}if(!J5V.consolidated){J5V.consolidated=[];}for(var L5V=A5V.length - ("2" | 0);L5V >= 0;L5V--){x5V=C5V(A5V[L5V]);S4U.P5H(91);y5V=S4U.F5H(x5V,"</consolidated>","<consolidated>");if(x5V.length){O5V.expand.innerHTML+=y5V;}}J5V.stxNodeCreator.quickCache(J5V);};Z3V.Marker.Performance.reconstituteExpanded=function(G5V){var X5V,n5V,e5V,h5V;X5V=G5V.markerHelper.highlighted;L6EE.t8L();if(!X5V.length || !G5V.activeMarker){return;}X5V=[G5V.activeMarker];for(var f5V=X5V.length - 1;f5V >= 0;f5V--){n5V=X5V[f5V];e5V=n5V.params.node;h5V=e5V.expand;while(h5V.lastElementChild.nodeName === "CONSOLIDATED"){h5V.removeChild(h5V.lastElementChild);}}};Z3V.Marker.Performance.drawMarkers=function(p5V){var w5P,z5V,l5V,j5V,g5V,a5V,m5V;w5P="a";L6EE.t8L();w5P+="l";w5P+="l";z5V=p5V.getMarkerArray(w5P);l5V=p5V.chart;for(var s5V="0" & 2147483647;s5V < z5V.length;s5V++){j5V=z5V[s5V];g5V=j5V.stxNodeCreator;a5V=l5V.dataSegment[+"0"].tick;m5V=l5V.dataSegment[l5V.dataSegment.length - 1].tick;if(a5V <= j5V.tick <= m5V){if(g5V && g5V.drawMarker){g5V.drawMarker(j5V);}}}};Z3V.Marker.Performance.calculateMarkerStyles=function(R5V,i8V,o8V){var Q5P,Z5V,F5P,E5P,c8V,H8V;Q5P=".stx-ma";Q5P+="rker-";Q5P+="templates";L6EE.l8L();Z5V=document.querySelector(Q5P);if(!Z5V){F5P="-1000";F5P+="px";E5P="D";E5P+="I";E5P+="V";Z5V=document.createElement(E5P);Z5V.style.visibility="hidden";Z5V.style.left=F5P;document.body.append(Z5V);}Z5V.appendChild(i8V.node);c8V=getComputedStyle(i8V.stxNodeCreator.visual);if(!R5V.styles.stx_marker_stem){H8V=getComputedStyle(document.querySelector(".stx-stem",i8V.node));R5V.styles.stx_marker_stem=R5V.cloneStyle(H8V);}R5V.styles[o8V]=R5V.cloneStyle(c8V);Z5V.removeChild(i8V.node);};Z3V.Marker.Performance.drawCircleMarker=function(K8V,F8V,W8V){var o5P,D8V,k8V,r8V,b8V,u8V,T8V,Q8V,q8V;o5P="normal bold 12px Roboto, Helvetica, sans-se";o5P+="rif";D8V=K8V.params.stx;k8V=D8V.chart;r8V=k8V.context;b8V=W8V.x;u8V=W8V.y;T8V=W8V.radius;Q8V=W8V.label;q8V=W8V.color?W8V.color:F8V.backgroundColor;r8V.beginPath();r8V.setLineDash([]);r8V.lineWidth=1;r8V.fillStyle=q8V;r8V.strokeStyle=q8V;r8V.font=o5P;r8V.arc(b8V,u8V,T8V,0,2 * Math.PI,! !"");r8V.fill();r8V.stroke();r8V.closePath();if(Q8V){r8V.fillStyle=Z3V.colorsEqual("white",r8V.fillStyle)?"black":"white";r8V.fillText(Q8V.charAt(0).toUpperCase(),b8V - 4,u8V + 1);}if(K8V.highlight || K8V.active){r8V.beginPath();L6EE.P5H(4);r8V.arc(b8V,u8V,L6EE.F5H(4,T8V),0,2 * Math.PI,! !0);r8V.stroke();r8V.closePath();}};Z3V.Marker.Performance.drawSquareMarker=function(x8V,X8V,B8V){var Z0U=L6EE;var Y8V,N8V,U8V,J8V,L8V,w8V,O8V,P8V,A8V,k8P,d8P,D8P,f5P;Y8V=x8V.params.stx;N8V=Y8V.chart;U8V=N8V.context;J8V=B8V.x;L8V=B8V.y;w8V=B8V.half;O8V=B8V.label;P8V=B8V.color?B8V.color:X8V.backgroundColor;Z0U.T5H(1);A8V=Z0U.F5H(w8V,2);U8V.beginPath();U8V.setLineDash([]);U8V.lineWidth=1;U8V.fillStyle=P8V;k8P=+"2090820127";d8P=1066548120;D8P=2;for(var S8P=+"1";Z0U.v4P(S8P.toString(),S8P.toString().length,1831) !== k8P;S8P++){U8V.strokeStyle=P8V;U8V.font="normal bold 12px Roboto, Helvetica, sans-serif";Z0U.T5H(0);U8V.rect(Z0U.f5H(J8V,w8V),Z0U.f5H(L8V,w8V),A8V,A8V);U8V.fill();if(x8V.highlight || x8V.active){Z0U.P5H(17);U8V.rect(Z0U.F5H(J8V,w8V,4),Z0U.f5H(L8V,w8V,4,Z0U.P5H(17)),Z0U.f5H(A8V,0,"8",Z0U.P5H(109)),Z0U.f5H(8,A8V,Z0U.T5H(4)));}U8V.stroke();U8V.closePath();D8P+=+"2";}Z0U.t8L();if(Z0U.c2P(D8P.toString(),D8P.toString().length,37527) !== d8P){U8V.strokeStyle=P8V;U8V.font="";Z0U.P5H(1);U8V.rect(Z0U.f5H(J8V,w8V),Z0U.F5H(L8V,w8V),A8V,A8V);U8V.fill();if(x8V.highlight && x8V.active){Z0U.P5H(110);U8V.rect(Z0U.F5H(J8V,5,w8V),Z0U.F5H(w8V,0,L8V,Z0U.T5H(111)),Z0U.F5H(A8V,3,Z0U.T5H(1)),Z0U.f5H(A8V,7,Z0U.P5H(1)));}U8V.stroke();U8V.closePath();}if(O8V){f5P="bla";f5P+="ck";U8V.fillStyle=Z3V.colorsEqual("white",U8V.fillStyle)?f5P:"white";U8V.fillText(O8V.charAt(0).toUpperCase(),J8V - 4,L8V + 1);}};Z3V.Marker.Performance.drawCalloutMarker=function(e8V,o27,G8V){var d5P,k5P,I5P,c27,H27,h8V,n8V,r27,j8V,g8V,p8V,a8V,m8V,E27,l8V,R8V,i27;d5P="b";d5P+="l";d5P+="ack";k5P="rgb";k5P+="a";k5P+="(255,255,25";k5P+="5,0.65)";I5P="rgba(255";I5P+=",255,255,0.8)";c27=e8V.params.stx;H27=c27.chart;h8V=H27.context;n8V=e8V.params;r27=G8V.x;j8V=G8V.y;g8V=G8V.half;p8V=G8V.midWidth;a8V=G8V.headline;m8V=G8V.color?G8V.color:o27.backgroundColor;E27=g8V * 2 || 25;l8V=Math.round(h8V.measureText(a8V).width);R8V=p8V?p8V * 2:l8V + ("8" & 2147483647);h8V.beginPath();h8V.setLineDash([]);h8V.lineWidth=1;h8V.fillStyle=m8V;h8V.strokeStyle=m8V;h8V.font="normal bold 12px Roboto, Helvetica, sans-serif";h8V.rect(n8V.box.x0,n8V.box.y0,R8V,E27);h8V.fill();h8V.stroke();h8V.closePath();h8V.beginPath();h8V.fillStyle=e8V.highlight || e8V.active?I5P:k5P;L6EE.P5H(112);i27=L6EE.f5H("2",l8V,"20",R8V,984694944);h8V.rect(n8V.box.x0 + i27,j8V - g8V,l8V + 40,22);h8V.fill();h8V.stroke();h8V.closePath();h8V.fillStyle=d5P;h8V.fillText(a8V,n8V.box.x0 + i27 + 10,j8V);};Z3V.Marker.Performance.drawMarkerStem=function(W27,T27,b27){var V27,Q27,S27,u27,k27,K27,q27,D27;V27=W27.params.stx;Q27=V27.chart;S27=Q27.context;u27=b27.x;k27=b27.y;S27.beginPath();S27.strokeStyle=T27.borderLeftColor;L6EE.T5H(1);S27.setLineDash([L6EE.F5H("1",1),1]);K27=Z3V.stripPX(T27.height);q27=b27.invert?W27.params.box.y0:W27.params.box.y1;D27=b27.invert?W27.params.box.y0 - K27:W27.params.box.y1 + K27;S27.moveTo(u27,q27);S27.lineTo(u27,D27);S27.stroke();S27.closePath();};Z3V.Marker.Performance.prototype.drawMarker=function(F27){var D0U=L6EE;var D5P,O27,U27,v27,X27,Y27,B27,A27,J27,f27,N27,y27,d27,P27,w27,C27,I27,L27,x27,h27,G27,M27,t27;D5P="st";D5P+="x_ma";D5P+="rker";D5P+="_";O27=F27.params;U27=F27.params.stx;if(!U27){return;}v27=U27.chart;X27=v27.dataSegment;if(!X27.length){return;}Y27=U27.panels[F27.params.panelName];B27=F27.stxNodeCreator.params;A27=B27.type;J27=B27.category;f27=B27.headline;D0U.l8L();N27=B27.displayCategory;y27=B27.color;d27=B27.invert;D0U.P5H(113);P27=D0U.f5H("_",D5P,A27,J27);if(!U27.styles[P27]){Z3V.Marker.Performance.calculateMarkerStyles(U27,F27,P27);}w27=F27.style=U27.styles[P27];C27=U27.styles.stx_marker_stem;D0U.P5H(0);var H4E=D0U.F5H(22,12);D0U.T5H(114);var n4E=D0U.F5H(12,2,38,6);I27=parseInt(w27.height,H4E) / n4E;D0U.T5H(40);var C4E=D0U.F5H(15,5);D0U.P5H(96);var j4E=D0U.F5H(12,217,18,0);L27=parseInt(w27.width,C4E) / ("2" * j4E);x27=B27.displayStem?parseInt(C27.height,10) + parseInt(C27.marginBottom,10):0;D0U.T5H(0);var q4E=D0U.f5H(120,110);h27=x27 + parseInt(w27.height,q4E);G27=x27?x27 + I27:0;M27=U27.pixelFromDate(O27.x);t27=O27.node.calculateYPosition({marker:F27,panel:Y27,height:h27,half:I27,offset:G27,inverted:d27});if(!F27.tick && F27.tick !== 0){return;}O27.box={x0:M27 - (L27 || I27),y0:t27 - I27,x1:M27 + (L27 || I27),y1:t27 + I27,midY:I27,midX:L27 || I27,stemHeight:x27};if(!N27){J27=N27;}U27.startClip(Y27.name);if(A27 === "circle"){Z3V.Marker.Performance.drawCircleMarker(F27,w27,{x:M27,y:t27,radius:I27,label:J27,color:y27});}else if(A27 === "square"){Z3V.Marker.Performance.drawSquareMarker(F27,w27,{x:M27,y:t27,half:I27,label:J27,color:y27});}else if(A27 === "callout"){Z3V.Marker.Performance.drawCalloutMarker(F27,w27,{x:M27,y:t27,half:I27,midWidth:L27,headline:f27,color:y27});}else {D0U.T5H(91);console.warn(D0U.F5H(A27," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: "));}if(B27.displayStem){Z3V.Marker.Performance.drawMarkerStem(F27,C27,{x:M27,y:t27,invert:d27});}U27.endClip();if(F27.attached){this.positionPopUpNode(F27);}};Z3V.Marker.Performance.prototype.positionPopUpNode=function(e27){var v0U=L6EE;var p27,s27,n27,a27,g27,l27,m27,H67,E67,o67,r67,Z27,j27,c67,R27,z27,i67,S67;if(!e27.attached || !e27.params.box){return;}p27=e27.params;s27=p27.stx;n27=p27.box;a27=e27.params.node.expand;v0U.l8L();g27=s27.chart.dataSet;l27=s27.chart.dataSegment;if(e27.tick){H67=[g27[l27[0] && l27[+"0"].tick - 1],g27[l27[0] && l27[0].tick - 2]];E67=s27.getFirstLastDataRecord(H67.concat(l27),"Date");v0U.P5H(11);var J4E=v0U.f5H(20,7,14,0);v0U.P5H(40);var e4E=v0U.f5H(18,17);v0U.T5H(115);var b4E=v0U.f5H(0,13,246,19);o67=[g27[l27[l27.length - J4E].tick + e4E],g27[l27[l27.length - b4E].tick + +"2"]];r67=s27.getFirstLastDataRecord(l27.concat(o67),"Date",! !{});m27=E67.DT <= g27[e27.tick].DT && g27[e27.tick].DT <= r67.DT;}else {m27=![];}if(!e27.highlight && !e27.active){m27=! !"";}a27.style.visibility=m27?"":"hidden";if(!m27){return;}Z27=s27.panels[p27.panelName];j27=a27.rects;v0U.T5H(58);var c4E=v0U.F5H(10,138,14);c67=j27.height / c4E;z27=e27.node.params.infoOffset || 0;if(e27.node.params.infoOnLeft){R27=n27.x0 - j27.width - z27 < Z27.left?n27.x1 + z27:n27.x0 - j27.width - z27;}else {R27=n27.x0 + j27.width > Z27.right?n27.x0 - j27.width - z27:n27.x1 + z27;}R27-=s27.chart.left;i67=n27.y0 - c67 >= Z27.top?n27.y0 + n27.midY - c67:n27.y0;if(!p27.avoidFlush && n27.y1 + n27.stemHeight === Z27.yAxis.bottom && j27.height > n27.y1 - n27.y0 + n27.stemHeight){i67=n27.y1 - j27.height + n27.stemHeight;}i67-=s27.chart.panel.top;S67="translateX(" + Math.floor(R27) + "px) translateY(" + Math.floor(i67) + "px) translateZ(0)";a27.style.transform=S67;a27.transform={translateX:R27,translateY:i67};};Z3V.Marker.Performance.prototype.quickCache=function(u67){var K67,W67,b67,T67;K67=u67.params.node;W67=K67.expand;b67=u67.style;T67=Z3V.stripPX(b67.marginLeft) + Z3V.stripPX(b67.marginRight) + Z3V.stripPX(b67.borderRight) + Z3V.stripPX(b67.borderLeft);L6EE.l8L();W67.rects=W67.getBoundingClientRect();W67.scrollBarWidth=W67.rects.width - W67.clientWidth - T67;};Z3V.Marker.Performance.prototype.calculateYPosition=function(I67){var S5P,N5P,F67,Q67,w67,U67,k67,M67,q67,t67,A67,D67,B67,J67,V67,L67,x67;S5P="o";S5P+="n_c";S5P+="andl";S5P+="e";N5P="below_";N5P+="candle";F67=I67.marker;Q67=I67.panel;w67=I67.height;U67=I67.half;k67=I67.offset;M67=I67.inverted;q67=F67.params.stx;t67=q67.chart;A67=q67.chart.highLowBars;D67=t67.dataSet[F67.tick];L6EE.l8L();if(!D67){return;}B67=A67?D67.High:D67.Close;J67=F67.params.yPositioner;switch(J67){case "value":if(F67.params.y || F67.params.y === 0){V67=q67.pixelFromPrice(F67.params.y,Q67) - w67 * 0.5 + U67;}else {V67=q67.pixelFromPrice(B67,Q67) - k67;}break;case "above_candle":V67=q67.pixelFromPrice(B67,Q67) - k67;break;case N5P:V67=q67.pixelFromPrice(D67.Low || B67,Q67);if(M67 && k67){V67+=k67;}else {V67+=U67;}break;case S5P:(L67=D67.High || D67.Close,x67=D67.Low || D67.Low === 0 || D67.Close);V67=q67.pixelFromPrice((L67 + x67) / ("2" - 0),Q67) - w67 * 0.5 + U67;break;case "top":V67=q67.pixelFromPrice(Q67.yAxis.high,Q67);if(M67 && k67){V67+=k67;}else {V67+=U67;}break;case "bottom":V67=q67.pixelFromPrice(Q67.yAxis.low,Q67) - (k67 || U67);break;default:break;}return V67;};Z3V.Marker.Performance.prototype.prepareForHolder=function(y67){var O67,P67;O67=this.expand;P67=y67.params.stx;O67.classList.add(this.params.type);P67.markerHelper.domMarkers.push(y67);return O67;};Z3V.Marker.Performance.prototype.addToHolder=function(N67){var Y67,C67;Y67=this.expand;C67=N67.params.stx;Z3V.Marker.Performance.reconstituteExpanded(C67);Z3V.Marker.Performance.consolidateExpanded(C67);this.quickCache(N67);function d67(v67){C67.activeMarker=N67;C67.activeMarker.click({cx:v67.clientX,cy:v67.clientY,panel:C67.currentPanel});v67.stopPropagation();}if(Y67.clickClosure){return;}Y67.addEventListener("mousedown",d67);Y67.addEventListener("touchstart",d67);Y67.clickClosure=d67;};Z3V.Marker.Performance.prototype.remove=function(f67){var X67,G67,l5P,n67,h67;X67=f67.params.stx;if(!X67){return;}if(!X67.markerHelper.domMarkers){return;}G67=X67.markerHelper.domMarkers.indexOf(f67);if(G67 != - +"1"){X67.markerHelper.domMarkers.splice(G67,1);}if(f67.attached){l5P="c";l5P+="l";l5P+="i";l5P+="ck";n67=X67.panels[f67.params.panelName];h67=f67.params.node.expand;if(h67.parentNode === n67.subholder){n67.subholder.removeChild(h67);}h67.removeEventListener(l5P,h67.clickClosure);}};Z3V.Marker.Performance.prototype.click=function(g67){var x5P,s67,z67,l67;x5P="n";x5P+="u";x5P+="mbe";x5P+="r";if(!this.hasText){return;}if(typeof arguments[0] === x5P){g67={cx:arguments[+"0"],cy:arguments["1" ^ 0],marker:arguments[2],panel:arguments[3]};}var {cx:j67, cy:p67, marker:e67, panel:a67}=g67;s67=e67.params.stx;if(e67.attached){l67=this.expand;if(l67.rects.width - l67.scrollBarWidth + l67.transform.translateX < s67.backOutX(j67) && s67.backOutX(j67) < l67.rects.width + l67.transform.translateX){return;}this.remove(e67);}else {s67.addToHolder(e67);z67=! !{};}e67.attached=!e67.attached;e67.active=!e67.active;if(z67){e67.stxNodeCreator.positionPopUpNode(e67);}};}};r2S=Z67=>{var m67;m67=typeof _CIQ !== "undefined"?_CIQ:Z67.CIQ;m67.Renderer.OHLC.requestNew=function(b07,R67){var i07,H07,E07,o07,r07,S07,t5P,W07,g5P;i07=null;H07=R67.hlc;E07=R67.colored;o07=R67.hollow;L6EE.t8L();r07=R67.volume;S07=R67.histogram;for(var c07=+"0";c07 < b07.length;c07++){t5P="co";t5P+="lored";W07=b07[c07];switch(W07){case "bar":case "candle":i07=W07;break;case "volume":r07=! !{};break;case "hollow":o07=! !{};break;case t5P:E07=! !1;break;case "histogram":g5P="can";g5P+="dle";S07=! ![];i07=g5P;break;case "hlc":H07=! !"1";i07="bar";break;default:return null;}}if(i07 === null){return null;}return new m67.Renderer.OHLC({params:m67.extend(R67,{type:i07,hlc:H07,colored:E07,hollow:o07,volume:r07,histogram:S07})});};m67.Renderer.OHLC.getChartParts=function(k07,D07){var h2f,M2f,v2f,c5P,b5P,e5P,J5P,q5P,j5P,C5P,n5P,H5P,r5P,R5P,L5P,a5P,U5P,V5P,P5P,B5P,G5P,W5P,i5P,y5P,Z5P,K5P,A5P,T5P,m5P,u5P,X5P,T07,V07,Q07,u07,K07,q07;h2f="bo";h2f+="rder_color_even";M2f="fill_col";M2f+="or_even";v2f="hol";v2f+="lo";v2f+="w";c5P="fill_c";c5P+="olor";c5P+="_u";c5P+="p";b5P="stx_ho";b5P+="ll";b5P+="ow_";b5P+="candle_up";e5P="stx_hollow_can";e5P+="dle_";e5P+="even";J5P="c";J5P+="a";J5P+="ndl";J5P+="e";q5P="fill_c";q5P+="olor_down";j5P="stx_hollow";j5P+="_candle_dow";j5P+="n";C5P="ca";C5P+="ndl";C5P+="e";n5P="h";n5P+="ol";n5P+="lo";n5P+="w";H5P="stx_hollow_";H5P+="candle_up";r5P="c";r5P+="andl";r5P+="e";R5P="bor";R5P+="der_color_even";L5P="bord";L5P+="er_color_down";a5P="stx_candl";a5P+="e_down";U5P="border_";U5P+="col";U5P+="or";U5P+="_up";V5P="stx_candl";V5P+="e_u";V5P+="p";P5P="c";P5P+="an";P5P+="d";P5P+="le";B5P="border_color_u";B5P+="p";G5P="shado";L6EE.l8L();G5P+="w";W5P="b";W5P+="a";W5P+="r";i5P="bo";i5P+="rder_c";i5P+="olor_down";y5P="b";y5P+="a";y5P+="r";Z5P="stx_";Z5P+="ba";Z5P+="r_up";K5P="b";K5P+="a";K5P+="r";A5P="borde";A5P+="r";A5P+="_colo";A5P+="r";T5P="b";T5P+="order_co";T5P+="lor_down";m5P="his";m5P+="togra";m5P+="m";u5P="h";u5P+="i";u5P+="st";u5P+="ogram";X5P="histog";X5P+="ram";T07=1;V07=2;Q07=4;u07=8;L6EE.T5H(29);K07=L6EE.F5H("16",2147483647);q07=32;return [{type:X5P,drawType:u5P,style:"stx_histogram_up",condition:u07,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! !{}},{type:"histogram",drawType:m5P,style:"stx_histogram_down",condition:K07,fill:"fill_color_down",border:T5P,useColorInMap:! !1,useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:q07,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:! !{},useBorderStyleProp:! !1},{type:"bar",drawType:"bar",style:k07 || "stx_bar_chart",border:A5P,useColorInMap:! !{}},{type:"bar",drawType:K5P,style:Z5P,condition:D07?u07:T07,border:"border_color_up",useColorInMap:! !"1"},{type:"bar",drawType:y5P,style:"stx_bar_down",condition:D07?K07:V07,border:i5P,useColorInMap:! !1},{type:W5P,drawType:"bar",style:"stx_bar_even",condition:D07?q07:Q07,border:"border_color_even",skipIfPass:! !1,useColorInMap:! !"1"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:G5P,style:"stx_candle_shadow_up",condition:u07,border:B5P},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:K07,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:q07,border:"border_color_even",skipIfPass:! !{}},{type:"candle",drawType:P5P,style:V5P,condition:u07,fill:"fill_color_up",border:U5P,useColorInMap:! !{},useBorderStyleProp:! !{}},{type:"candle",drawType:"candle",style:a5P,condition:K07,fill:"fill_color_down",border:L5P,useColorInMap:! ![],useBorderStyleProp:! ![]},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:T07,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:V07,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:Q07,border:R5P,skipIfPass:! !{}},{type:"hollow",drawType:r5P,style:H5P,condition:T07 | K07,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{}},{type:n5P,drawType:C5P,style:j5P,condition:V07 | K07,fill:q5P,border:"border_color_down",useColorInMap:! !"1"},{type:"hollow",drawType:J5P,style:e5P,condition:Q07 | K07,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !{},useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:b5P,condition:T07 | u07,fill:c5P,border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:V07 | u07,fill:"fill_color_down",border:"border_color_down"},{type:v2f,drawType:"candle",style:"stx_hollow_candle_even",condition:Q07 | u07,fill:M2f,border:h2f}];;};m67.Renderer.Bars=function(I07){var F07;this.construct(I07);F07=this.params;F07.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];F07.hlc=F07.volume=F07.hollow=F07.histogram=!1;};m67.inheritsFrom(m67.Renderer.Bars,m67.Renderer.OHLC,![]);m67.Renderer.HLC=function(B07){var U07;this.construct(B07);U07=this.params;L6EE.t8L();U07.type="bar";U07.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};U07.volume=U07.hollow=U07.histogram=! !"";};m67.inheritsFrom(m67.Renderer.HLC,m67.Renderer.Bars,!"1");m67.Renderer.Shading=function(w07){this.construct(w07);this.beenSetup=!{};this.errTimeout=null;this.params.useChartLegend=!"1";this.shading=[];L6EE.t8L();if(this.params.type == "rangechannel"){this.highLowBars=! !1;}};m67.inheritsFrom(m67.Renderer.Shading,m67.Renderer.Lines,![]);m67.Renderer.Shading.requestNew=function(L07,x07){var M07,A07,Y2f,J07;L6EE.t8L();M07=null;A07=null;for(var t07=0;t07 < L07.length;t07++){Y2f="s";Y2f+="t";Y2f+="ep";J07=L07[t07];if(J07 == "rangechannel"){M07="rangechannel";}else if(J07 == Y2f){A07=! ![];}}if(M07 === null){return null;}return new m67.Renderer.Shading({params:m67.extend(x07,{type:M07,step:A07})});};m67.Renderer.Shading.prototype.setShading=function(O07){if(O07.constructor != Array){O07=[O07];}this.shading=O07;};m67.Renderer.Shading.prototype.draw=function(){var Y07,y07,N07,s2f,s07,v07,j07,h07,g07,d07,C07,G07,n07,z07,O2f,p2f,P07,f07,e07,l07,X07;Y07=this.stx;y07=this.params;N07=Y07.panels[y07.panel].chart;if(y07.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > +"2"){this.removeSeries(this.seriesParams[2].id);}}else {s2f="stx_l";s2f+="ine_";s2f+="dow";s2f+="n";this.beenSetup=! !"1";y07.display=this.seriesParams[0].display;y07.yAxis=this.seriesParams[0].yAxis;s07=this.seriesParams[0].color || "auto";v07=this.seriesParams[0].symbol;j07="";if(v07){L6EE.P5H(4);j07=L6EE.f5H(464 < 3680?(8.98,8270) != (2603,307.11)?".":("2644" >> 937462848,1634) === (+"1995",166.03)?8.77e+3:(473.11,901.49):(370.56,0x15ca),v07);}this.removeAllSeries(! !{});h07=y07.name;Y07.addSeries(null,{symbol:v07,loadData:! !v07,field:"High",renderer:"Shading",name:h07,style:"stx_line_up",display:y07.display,shareYAxis:! ![]});Y07.addSeries(null,{symbol:v07,loadData:! !v07,field:"Low",renderer:"Shading",name:h07,style:s2f,display:y07.display,shareYAxis:!0});this.setShading({primary:this.seriesParams[+"0"].id,secondary:this.seriesParams[1].id,color:s07});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");g07=this;this.errTimeout=setTimeout(function(){L6EE.l8L();g07.errTimeout=null;},10000);}}d07={};for(C07="0" >> 1889948992;C07 < this.seriesParams.length;C07++){G07={};if(N07.series[this.seriesParams[C07].id]){G07=m67.clone(N07.series[this.seriesParams[C07].id].parameters);}d07[this.seriesParams[C07].id]={parameters:m67.extend(m67.extend(G07,y07),this.seriesParams[C07]),yValueCache:this.caches[this.seriesParams[C07].id]};}Y07.drawSeries(N07,d07,y07.yAxis,this);if(N07.legend && y07.type == "rangechannel"){if(!N07.legend.colorMap){N07.legend.colorMap={};}n07=y07.display;z07=[Y07.getCanvasColor("stx_line_up"),Y07.getCanvasColor("stx_line_down")];N07.legend.colorMap[n07]={color:z07,display:n07,isBase:this == Y07.mainSeriesRenderer};;}for(C07 in d07){this.caches[C07]=d07[C07].yValueCache;}for(C07=0;C07 < this.shading.length;C07++){O2f="Cl";O2f+="o";O2f+="s";O2f+="e";p2f="C";p2f+="los";p2f+="e";P07=this.shading[C07];f07=P07.color;if(P07.color == "auto"){f07=Y07.defaultColor;}if(!P07.primary){P07.primary="Close";}if(!P07.secondary && this.seriesParams[0]){P07.secondary=this.seriesParams[0].field;}if(!P07.secondary)continue;else if(!d07[P07.primary] && P07.primary != "Close")continue;else if(!d07[P07.secondary])continue;else if(P07.primary == p2f && y07.yAxis && y07.yAxis != N07.yAxis)continue;e07=p07(P07.primary).split(("6301" ^ 0,4177) < (8469,+"4433")?9.38 == (400.91,460.99)?"h":".":+"938.03");l07=p07(P07.secondary).split(".");X07={topBand:e07[0],topSubBand:e07[1],topColor:P07.greater || f07 || Y07.containerColor,topAxis:y07.yAxis,bottomBand:l07["0" - 0],bottomSubBand:l07[+"1"],bottomColor:P07.lesser || f07 || Y07.containerColor,bottomAxis:P07.primary == O2f?null:y07.yAxis,tension:y07.tension || N07.tension,opacity:0.1,step:y07.step};if(!X07.topColor && !X07.bottomColor)continue;if(!y07.highlight && Y07.highlightedDraggable){X07.opacity*=0.3;}m67.fillIntersecting(Y07,y07.panel,X07);}function p07(Z07){var a07,R07,m07;L6EE.l8L();a07=d07[Z07];if(a07){R07=a07.parameters.field;m07=a07.parameters.subField;L6EE.P5H(4);return L6EE.F5H(m07?((8999,764.73) == (5359,529.25)?8.01e+3:("971.89" - 0,9010) != +"4117"?".":! !"") + m07:"",R07);}return Z07;}};m67.Renderer.Histogram=function(i97){var z2f;L6EE.l8L();this.construct(i97);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!"";if(this.params.yAxis){z2f="n";z2f+="um";z2f+="be";z2f+="r";this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == z2f){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};m67.inheritsFrom(m67.Renderer.Histogram,m67.Renderer,!{});m67.Renderer.Histogram.prototype.adjustYAxis=function(){var c97;c97=this.params.yAxis;if(!c97 || c97.baseline){return;}c97.min=+"0";c97.highValue/=this.params.heightPercentage || 1;};m67.Renderer.Histogram.prototype.draw=function(){var H97,E97,w2f,o97,r97;H97=m67.clone(this.params);H97.type=H97.subtype;this.useSum=H97.subtype == "stacked";if(!H97.yAxis || H97.yAxis == this.stx.chart.yAxis){H97.bindToYAxis=!"";}this.stx.drawHistogram(H97,this.seriesParams);E97=H97.yAxis && H97.yAxis.baseline;if(E97 && E97.color){w2f="des";w2f+="tination-over";o97=this.stx.panels[this.params.panel];r97=this.stx.pixelFromPrice(E97.value,o97,this.params.yAxis) - 0.5;this.stx.plotLine({x0:o97.left,x1:o97.right,y0:r97,y1:r97,color:E97.color,type:"line",context:o97.chart.context,confineToPanel:o97,pattern:E97.pattern || "solid",lineWidth:E97.lineWidth || "1" * 1,opacity:E97.opacity || 0.8,globalCompositeOperation:w2f});}};m67.Renderer.Histogram.prototype.getBasis=function(K97,T97,V97){var b97,Q2f,u97,S97;b97=0;if(K97 && this.useSum){for(var W97=0;W97 < this.seriesParams.length;W97++){Q2f="C";Q2f+="l";Q2f+="o";Q2f+="se";u97=this.seriesParams[W97].field;if(u97 === T97)break;S97=K97[u97];if(S97 && typeof S97 === "object"){S97=S97[V97 || this.seriesParams[W97].subField || this.stx.chart.defaultPlotField || Q2f];}if(S97){b97+=S97;}}}return b97;};m67.Renderer.Heatmap=function(Q97){this.construct(Q97);this.params.type="heatmap";this.params.highlightable=!{};this.barsHaveWidth=this.standaloneBars=! !"1";};m67.inheritsFrom(m67.Renderer.Heatmap,m67.Renderer,![]);m67.Renderer.Heatmap.requestNew=function(k97,I97){var q97,F97;q97=null;for(var D97=0;D97 < k97.length;D97++){F97=k97[D97];if(F97 == "heatmap"){q97="heatmap";}}if(q97 === null){return null;}return new m67.Renderer.Heatmap({params:m67.extend(I97,{type:q97})});};m67.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(m67.clone(this.params),this.seriesParams);};m67.Renderer.Scatter=function(U97){this.construct(U97);L6EE.t8L();this.standaloneBars=this.barsHaveWidth=!0;this.bounded=! !{};};m67.inheritsFrom(m67.Renderer.Scatter,m67.Renderer.Lines,!1);m67.Renderer.Scatter.requestNew=function(M97,A97){var B97,t97;B97=null;for(var w97="0" | 0;w97 < M97.length;w97++){t97=M97[w97];if(t97 == "scatterplot"){B97="scatter";}}if(B97 === null){return null;}return new m67.Renderer.Scatter({params:m67.extend(A97,{type:B97})});};m67.Renderer.Scatter.prototype.drawIndividualSeries=function(O97,L97){L6EE.l8L();var x97,J97;x97=this.stx.panels[L97.panel] || O97.panel;J97={colors:[]};if(this.stx.scatter){J97=this.stx.scatter(x97,L97);}else {console.warn("Error, Scatter renderer requires customChart.js");}return J97;};};S2S=P97=>{L6EE.l8L();var y97,R4P,r4P,H4P;y97=typeof _CIQ !== "undefined"?_CIQ:P97.CIQ;if(!y97.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {y97.Studies.calculateAccumulationDistribution=function(h97,d97){var f97,E2f,C97,N97,v97,X97;f97=d97.chart.scrubbed;L6EE.t8L();for(var Y97=d97.startFrom;Y97 < f97.length;Y97++){E2f="R";E2f+="esult ";if(!Y97)continue;C97=f97[Y97];if(C97.futureTick)break;L6EE.P5H(0);N97=f97[L6EE.F5H(Y97,1)];v97=0;if(C97.Close > N97.Close){v97=C97.Close - Math.min(C97.Low,N97.Close);}else if(C97.Close < N97.Close){v97=C97.Close - Math.max(C97.High,N97.Close);}if(d97.inputs["Use Volume"]){v97*=C97.Volume;}X97=N97[E2f + d97.name];if(!X97){X97=0;}X97+=v97;if(!isNaN(C97.Close)){C97["Result " + d97.name]=X97;}}};R4P=-500083880;r4P=1684912274;H4P=2;for(var C4P=1;L6EE.c2P(C4P.toString(),C4P.toString().length,52399) !== R4P;C4P++){y97.Studies.studyLibrary=y97.extend(y97.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:y97.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !{}}}});H4P+=2;}if(L6EE.c2P(H4P.toString(),H4P.toString().length,13756) !== r4P){y97.Studies.studyLibrary=y97.extend(y97.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:y97.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":![]}}});}}};W2S=n97=>{var G97;L6EE.t8L();G97=typeof _CIQ !== "undefined"?_CIQ:n97.CIQ;if(!G97.Studies){console.error("adx feature requires first activating studies feature.");}else {G97.Studies.calculateADX=function(S17,e97){var l0U=L6EE;var j97,g97,z97,Z97,R97,i17,c17,l97,I2f,f2f,p97,a97,o2f,F2f,H17,E17,o17,k2f,d2f,D2f,r17,N2f;G97.Studies.calculateStudyATR(S17,e97);j97=e97.chart.scrubbed;g97=e97.days;z97=parseInt(e97.inputs["Smoothing Period"],10);if(!z97 && z97 !== 0){z97=g97;}if(j97.length < e97.days + 1){e97.error=! !{};return;}Z97=0;R97=0;i17=0;c17=0;for(var s97=Math.max(1,e97.startFrom);s97 < j97.length;s97++){I2f="-";I2f+="D";I2f+="I ";f2f="+";f2f+="D";f2f+="I";f2f+=" ";l97=j97[s97];p97=Math.max(+"0",l97.High - j97[s97 - 1].High);l0U.T5H(1);a97=Math.max(l0U.F5H("0",1),j97[s97 - 1].Low - l97.Low);if(p97 > a97){a97=0;}else if(a97 > p97){p97=0;}else {p97=a97=0;}if(s97 <= g97){R97+=p97;i17+=a97;Z97+=l97["True Range " + e97.name];}else {o2f="T";o2f+="ru";o2f+="e R";o2f+="ange ";F2f="_";F2f+="smTR ";l0U.T5H(0);var v0E=l0U.F5H(21,20);l0U.P5H(44);var M0E=l0U.f5H(13,10,4,6);R97=j97[s97 - v0E]["_sm+DM " + e97.name] * (g97 - M0E) / g97 + p97;l0U.P5H(36);var h0E=l0U.f5H(10,1,0,20);l0U.P5H(116);var Y0E=l0U.F5H(27301,13,10,14,15);i17=j97[s97 - h0E]["_sm-DM " + e97.name] * (g97 - Y0E) / g97 + a97;l0U.T5H(17);var s0E=l0U.F5H(4,3,0);l0U.T5H(17);var p0E=l0U.f5H(20,3,16);Z97=j97[s97 - "1" * s0E][F2f + e97.name] * (g97 - p0E) / g97 + l97[o2f + e97.name];}l97["_sm+DM " + e97.name]=R97;l97["_sm-DM " + e97.name]=i17;l97["_smTR " + e97.name]=Z97;if(s97 < g97)continue;l0U.T5H(117);H17=l0U.F5H(100,Z97,R97);l0U.P5H(117);E17=l0U.F5H(100,Z97,i17);l0U.T5H(17);var O0E=l0U.f5H(1300,4,1196);o17=O0E * Math.abs(H17 - E17) / (H17 + E17);l97[f2f + e97.name]=H17;l97[I2f + e97.name]=E17;if(e97.inputs.Series !== ! !"" && z97){if(s97 < g97 + z97 - 1){if(s97 == e97.startFrom){for(var m97=g97;m97 < e97.startFrom;m97++){k2f="-";k2f+="D";k2f+="I";k2f+=" ";l0U.P5H(17);var z0E=l0U.f5H(1600,19,1481);c17+=z0E * Math.abs(j97[m97]["+DI " + e97.name] - j97[m97]["-DI " + e97.name]) / (j97[m97]["+DI " + e97.name] + j97[m97][k2f + e97.name]);}}c17+=o17;}else if(s97 == g97 + z97 - 1){l0U.T5H(13);l97["ADX " + e97.name]=l0U.f5H(c17,z97);}else {d2f="A";d2f+="D";d2f+="X";d2f+=" ";l0U.P5H(17);var w0E=l0U.F5H(14,8,5);l97["ADX " + e97.name]=(j97[s97 - w0E][d2f + e97.name] * (z97 - +"1") + o17) / z97;}}if(e97.inputs.Histogram){D2f="+D";D2f+="I";D2f+=" ";r17=e97.name + "_hist";if(!l97["+DI " + e97.name] && l97[D2f + e97.name] !== 0)continue;if(!l97["-DI " + e97.name] && l97["-DI " + e97.name] !== 0)continue;l97[r17]=l97["+DI " + e97.name] - l97["-DI " + e97.name];if(e97.inputs.Series === ! !0){N2f="-D";N2f+="I ";l97["+DI " + e97.name]=null;l97[N2f + e97.name]=null;}e97.outputMap[r17]="";}}};G97.Studies.displayADX=function(b17,W17,Q17){var q17,u17,K17,D17,k17,T17,V17;q17=W17.underlay?0.3:W17.inputs.Series?0.4:1;if(W17.inputs.Series && W17.inputs.Shading){u17="+DI " + W17.name;K17="-DI " + W17.name;D17=G97.Studies.determineColor(W17.outputs[W17.outputMap[u17]]);k17=G97.Studies.determineColor(W17.outputs[W17.outputMap[K17]]);T17=W17.getYAxis(b17);V17={topBand:u17,bottomBand:K17,topColor:D17,bottomColor:k17,skipTransform:b17.panels[W17.panel].name != W17.chart.name,topAxis:T17,bottomAxis:T17,opacity:0.3};if(!W17.highlight && b17.highlightedDraggable){V17.opacity*=+"0.3";}G97.fillIntersecting(b17,W17.panel,V17);}if(W17.inputs.Histogram){G97.Studies.createHistogram(b17,W17,Q17,! !"",q17);}if(W17.inputs.Series !== !"1"){G97.Studies.displaySeriesAsLine(b17,W17,Q17);}else if(!W17.inputs.Series && !W17.inputs.Histogram){b17.displayErrorAsWatermark(W17.panel,b17.translateIf(W17.name) + ": " + b17.translateIf("Nothing to display"));}};G97.Studies.studyLibrary=G97.extend(G97.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:G97.Studies.calculateADX,seriesFN:G97.Studies.displayADX,inputs:{Period:+"14","Smoothing Period":14,Series:! ![],Shading:![],Histogram:! !0},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};b2S=I17=>{var F17,U2f,V2f,P2f;F17=typeof _CIQ !== "undefined"?_CIQ:I17.CIQ;if(!F17.Studies){console.error("alligator feature requires first activating studies feature.");}else {U2f="#";U2f+="FF";U2f+="000";U2f+="0";V2f="#0";V2f+="0D";V2f+="D0";V2f+="0";P2f="#";P2f+="FF0000";F17.Studies.calculateAlligator=function(L17,w17){var E0U=L6EE;E0U.t8L();var S2f,M17,U17,t2f,x2f,l2f,g2f,A2f,T2f,X2f,A17,J17,t17,m2f,u2f;S2f="Show Li";S2f+="ne";S2f+="s";M17={J:Number(w17.inputs["Jaw Period"]),T:Number(w17.inputs["Teeth Period"]),L:Number(w17.inputs["Lips Period"])};U17=w17.chart.scrubbed;if(U17.length < Math.max(M17.J,M17.T,M17.L) + 1){w17.error=!"";return;}if(w17.type === "Gator" || w17.inputs[S2f]){t2f="Lip";t2f+="s ";t2f+="O";t2f+="ffset";x2f="J";x2f+="aw";l2f="well";l2f+="es wilder";F17.Studies.MA(l2f,M17.J,"hl/2",w17.inputs["Jaw Offset"],x2f,L17,w17);F17.Studies.MA("welles wilder",M17.T,"hl/2",w17.inputs["Teeth Offset"],"Teeth",L17,w17);F17.Studies.MA("welles wilder",M17.L,"hl/2",w17.inputs[t2f],"Lips",L17,w17);}for(var B17=w17.startFrom;B17 < U17.length;B17++){g2f="Gato";g2f+="r";if(!U17[B17])continue;if(w17.type == g2f){A2f="_hi";A2f+="st2";T2f="_his";T2f+="t1";X2f="T";X2f+="eet";X2f+="h ";A17=U17[B17]["Jaw " + w17.name];J17=U17[B17]["Lips " + w17.name];t17=U17[B17][X2f + w17.name];if(t17 || t17 === 0){m2f="_";m2f+="hi";m2f+="s";m2f+="t2";u2f="_";u2f+="h";u2f+="ist";u2f+="1";if(A17 || A17 === 0){E0U.T5H(0);U17[B17][w17.name + u2f]=Math.abs(E0U.F5H(A17,t17));}if(J17 || J17 === 0){E0U.T5H(0);U17[B17][w17.name + m2f]=-Math.abs(E0U.f5H(t17,J17));}}w17.outputMap={};w17.outputMap[w17.name + T2f]="";w17.outputMap[w17.name + A2f]="";}if(w17.inputs["Show Fractals"]){if(!U17[B17 - 2] || !U17[B17 - 1] || !U17[B17] || !U17[B17 + +"1"] || !U17[B17 + 2])continue;if(U17[B17 - +"2"].High && U17[B17 - 1].High && U17[B17].High && U17[B17 + 1].High && U17[B17 + 2].High){if(U17[B17].High > U17[B17 - 1].High && U17[B17].High > U17[B17 - 2].High && U17[B17].High > U17[B17 + 1].High && U17[B17].High > U17[B17 + 2].High){U17[B17]["Fractal High " + w17.name]=1;}}if(U17[B17 - 2].Low && U17[B17 - 1].Low && U17[B17].Low && U17[B17 + 1].Low && U17[B17 + 2].Low){if(U17[B17].Low < U17[B17 - 1].Low && U17[B17].Low < U17[B17 - 2].Low && U17[B17].Low < U17[B17 + 1].Low && U17[B17].Low < U17[B17 + 2].Low){U17[B17]["Fractal Low " + w17.name]=1;}}}}};F17.Studies.displayAlligator=function(x17,P17,C17){var O17,y2f,Z2f;O17=P17.getContext(x17);if(P17.inputs["Show Lines"]){F17.Studies.displaySeriesAsLine(x17,P17,C17);}if(P17.inputs["Show Fractals"]){x17.startClip();O17.globalAlpha=P17.underlay?0.3:1;if(!P17.highlight && x17.highlightedDraggable){O17.globalAlpha*=0.3;}for(var y17=+"2";y17 < C17.length - 2;y17++){if(C17[y17]){y2f="l";y2f+="ow";Z2f="Fract";Z2f+="al H";Z2f+="igh ";if(C17[y17][Z2f + P17.name]){Y17("high",y17);}if(C17[y17]["Fractal Low " + P17.name]){Y17(y2f,y17);}}}x17.endClip();}L6EE.t8L();function Y17(v17,X17){var K2f,d17,N17;K2f="h";K2f+="i";K2f+="g";K2f+="h";N17=x17.chart.panel.yAxis.flipped;if(v17 == K2f){O17.fillStyle=x17.defaultColor;O17.textBaseline=N17?"top":"bottom";d17=x17.pixelFromPrice(C17[X17].High);O17.fillText(N17?"\u25BC":(5760,940) != 325.59?"\u25B2":"a",x17.pixelFromBar(y17,x17.chart) - O17.measureText((2682,8590) == (3180,5883)?!{}:(+"504.33",7014) <= 109.24?("576.93" - 0,0x11d2):+"3560" < 8750?"\u25B2":0x109f).width / 2 + 1,N17?d17 + 5:d17 - 5);;}else if(v17 == "low"){O17.fillStyle=x17.defaultColor;O17.textBaseline=N17?"bottom":"top";d17=x17.pixelFromPrice(C17[X17].Low);O17.fillText(N17?(96.19,2906) < (446.37,131.88)?![]:(2808,9740) === 3580?497.35:"\u25B2":"\u25BC",x17.pixelFromBar(y17,x17.chart) - O17.measureText((7800,"9980" >> 369450688) === 950?4143 != 9480?("L",!1):("a",! !{}):"\u25BC").width / 2 + 1,N17?d17 - 5:d17 + 5);;}}};F17.Studies.displayGator=function(h17,f17,z17){var O0U=L6EE;var W2f,i2f,g17,n17,p17,a17,s17,m17,Z17,l17,j17,B2f,G2f;W2f="#C";W2f+="CCCCC";i2f="Increasi";i2f+="ng Bar";g17=h17.panels[f17.panel];n17=f17.getContext(h17);p17=f17.getYAxis(h17);a17=h17.pixelFromPrice(0,g17,p17);O0U.P5H(68);var Q0E=O0U.F5H(12,5,3,16);s17=h17.layout.candleWidth - Q0E;if(s17 < 2){s17=1;}m17=F17.Studies.determineColor(f17.outputs[i2f]);Z17=F17.Studies.determineColor(f17.outputs["Decreasing Bar"]);h17.canvasColor("stx_histogram");if(!f17.underlay){n17.globalAlpha=1;}n17.fillStyle=W2f;h17.startClip(f17.panel);if(!f17.highlight && h17.highlightedDraggable){O0U.T5H(0);n17.globalAlpha*=O0U.F5H("0.3",0);}for(var e17=0;e17 < z17.length;e17++){l17=z17[e17];O0U.P5H(19);j17=z17[O0U.f5H("1",e17)];if(!l17)continue;for(var G17=1;G17 <= 2;G17++){B2f="_";B2f+="h";B2f+="ist";G2f="#CC";G2f+="C";G2f+="CC";G2f+="C";if(!j17){j17=h17.getPreviousBar(h17.chart,f17.name + "_hist" + G17,e17);}if(!j17){n17.fillStyle=G2f;}else if(Math.abs(j17[f17.name + "_hist" + G17]) < Math.abs(l17[f17.name + "_hist" + G17])){n17.fillStyle=m17;}else if(Math.abs(j17[f17.name + "_hist" + G17]) > Math.abs(l17[f17.name + "_hist" + G17])){n17.fillStyle=Z17;}if(l17.candleWidth){s17=Math.floor(Math.max(1,l17.candleWidth - ("2" >> 157520192)));}n17.fillRect(Math.floor(h17.pixelFromBar(e17,g17.chart) - s17 / 2),Math.floor(a17),Math.floor(s17),Math.floor(h17.pixelFromPrice(l17[f17.name + B2f + G17],g17,p17) - a17));}}h17.endClip();};F17.Studies.studyLibrary=F17.extend(F17.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:F17.Studies.displayAlligator,calculateFN:F17.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":! !""},outputs:{Jaw:"#0000FF",Teeth:P2f,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:F17.Studies.displayGator,calculateFN:F17.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":+"8","Teeth Period":8,"Teeth Offset":+"5","Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":V2f,"Decreasing Bar":U2f},centerline:0}});}};u2S=i77=>{var R17,C2f,n2f,H2f;L6EE.l8L();R17=typeof _CIQ !== "undefined"?_CIQ:i77.CIQ;if(!R17.Studies){console.error("aroon feature requires first activating studies feature.");}else {C2f="Aroon Os";C2f+="cillator";n2f="0 t";n2f+="o 100";H2f="A";H2f+="roon";R17.Studies.calculateAroon=function(D77,c77){var M0U=L6EE;var S77,W77,b77,E77,o77,a2f,K77,r77,r2f,R2f,L2f,H77,T77,V77,Q77,q77;S77=c77.chart.scrubbed;if(S77.length < c77.days + ("1" - 0)){c77.error=!"";return;}W77=0;b77=0;E77=null;o77=null;if(c77.startFrom > 0){a2f="_st";a2f+="a";a2f+="te ";K77=S77[c77.startFrom - ("1" - 0)][a2f + c77.name];if(K77){M0U.P5H(45);W77=K77[M0U.f5H(112630816,"0")];b77=K77[1];E77=K77[2];o77=K77[3];}}for(var u77=c77.startFrom;u77 < S77.length;u77++){r2f="Aroon ";r2f+="Down ";R2f="A";R2f+="roon";R2f+=" Up ";L2f="Aro";L2f+="on Oscillator ";H77=S77[u77];if(H77.futureTick)break;if(E77 === null){E77=H77.High;}if(o77 === null){o77=H77.Low;}E77=Math.max(E77,H77.High);if(E77 == H77.High){W77=0;}else {W77++;if(W77 > c77.days){E77=H77.High;W77=0;for(r77=1;r77 <= c77.days;r77++){E77=Math.max(E77,S77[u77 - r77].High);if(E77 == S77[u77 - r77].High){W77=r77;}}}}o77=Math.min(o77,H77.Low);if(o77 == H77.Low){b77=0;}else {b77++;if(b77 > c77.days){o77=H77.Low;b77=0;for(r77=1;r77 <= c77.days;r77++){o77=Math.min(o77,S77[u77 - r77].Low);if(o77 == S77[u77 - r77].Low){b77=r77;}}}}T77=!isNaN(H77.High);V77=!isNaN(H77.Low);M0U.P5H(17);var E0E=M0U.F5H(1500,4,1396);M0U.P5H(55);var F0E=M0U.F5H(16,14,2,45);Q77=E0E * (F0E - W77 / c77.days);if(T77){H77["Aroon Up " + c77.name]=Q77;}M0U.P5H(0);var o0E=M0U.f5H(108,8);M0U.T5H(118);var f0E=M0U.f5H(21,11,10,39,8);q77=o0E * (f0E - b77 / c77.days);if(V77){H77["Aroon Down " + c77.name]=q77;}if(T77 && V77){H77[L2f + c77.name]=H77[R2f + c77.name] - H77[r2f + c77.name];}H77["_state " + c77.name]=[W77,b77,E77,o77];}};R17.Studies.studyLibrary=R17.extend(R17.Studies.studyLibrary,{Aroon:{name:H2f,range:n2f,calculateFN:R17.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:C2f,calculateFN:R17.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};K2S=F77=>{var k77,s4f,Y4f,h4f;L6EE.l8L();k77=typeof _CIQ !== "undefined"?_CIQ:F77.CIQ;if(!k77.Studies){console.error("atr feature requires first activating studies feature.");}else {s4f="ATR";s4f+=" Ban";s4f+="ds";Y4f="au";Y4f+="to";h4f="Aver";h4f+="age Tru";h4f+="e Rang";h4f+="e";k77.Studies.calculateATRBands=function(B77,I77){var q2f,j2f,U77;q2f="A";q2f+="T";q2f+="R";q2f+=" ";j2f="fiel";j2f+="d";k77.Studies.calculateStudyATR(B77,I77);U77=I77.inputs.Field;if(!U77 || U77 == j2f){U77="Close";}L6EE.l8L();k77.Studies.calculateGenericEnvelope(B77,I77,I77.inputs.Shift,U77,q2f + I77.name);};k77.Studies.calculateSTARCBands=function(M77,w77){var b2f,e2f,J2f;b2f="A";b2f+="TR ";e2f="_";e2f+="MA";J2f="C";J2f+="lo";J2f+="s";J2f+="e";k77.Studies.calculateStudyATR(M77,w77);k77.Studies.MA("simple",w77.inputs["MA Period"],J2f,0,e2f,M77,w77);k77.Studies.calculateGenericEnvelope(M77,w77,w77.inputs.Multiplier,"_MA " + w77.name,b2f + w77.name);};k77.Studies.calculateATRStops=function(N77,t77){var U0U=L6EE;var x77,P77,c2f,A77,Y77,J77,L77,y77,C77,v4f,M4f;x77=t77.chart.scrubbed;if(!x77){return;}k77.Studies.calculateStudyATR(N77,t77);P77=t77.inputs.HighLow;for(var O77=Math.max(t77.startFrom - 1,"1" - 0);O77 < x77.length - 1;O77++){c2f="ATR";c2f+=" ";A77=x77[O77];U0U.T5H(0);Y77=x77[U0U.f5H(O77,1)];J77=A77["Buy Stops " + t77.name];if(!J77){J77=A77["Sell Stops " + t77.name];}if(!J77){J77=0;}if(!A77 || !Y77)continue;L77=A77.Close;y77=L77;C77=A77[c2f + t77.name] * t77.inputs.Multiplier;if(A77.Close > J77 && Y77.Close > J77){if(P77){L77=A77.High;}U0U.T5H(0);y77=Math.max(J77,U0U.F5H(L77,C77));}else if(A77.Close <= J77 && Y77.Close <= J77){if(P77){L77=A77.Low;}U0U.P5H(4);y77=Math.min(J77,U0U.F5H(C77,L77));}else if(A77.Close > J77){if(P77){L77=A77.High;}U0U.T5H(0);y77=U0U.f5H(L77,C77);}else if(A77.Close <= J77){if(P77){L77=A77.Low;}U0U.P5H(4);y77=U0U.F5H(C77,L77);}if(L77 <= y77){v4f="Sell";v4f+=" Stop";v4f+="s";v4f+=" ";U0U.P5H(4);x77[U0U.F5H(1,O77)]["Buy Stops " + t77.name]=y77;U0U.P5H(4);delete x77[U0U.f5H(1,O77)][v4f + t77.name];}else if(L77 > y77){M4f="Buy St";M4f+="ops";M4f+=" ";U0U.T5H(4);x77[U0U.F5H(1,O77)]["Sell Stops " + t77.name]=y77;U0U.T5H(99);delete x77[U0U.F5H(O77,"1",350979648)][M4f + t77.name];}U0U.T5H(4);x77[U0U.F5H(1,O77)]["All Stops " + t77.name]=y77;}U0U.t8L();t77.referenceOutput="All Stops";t77.outputMap={};t77.outputMap["All Stops " + t77.name]="";};k77.Studies.studyLibrary=k77.extend(k77.Studies.studyLibrary,{ATR:{name:h4f,calculateFN:k77.Studies.calculateStudyATR,outputs:{ATR:Y4f}},"ATR Bands":{name:s4f,overlay:! ![],seriesFN:k77.Studies.displayChannel,calculateFN:k77.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !"1"},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}},"STARC Bands":{name:"STARC Bands",overlay:! !{},seriesFN:k77.Studies.displayChannel,calculateFN:k77.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:k77.Studies.displayPSAR2,calculateFN:k77.Studies.calculateATRStops,inputs:{Period:21,Multiplier:+"3","Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};T2S=v77=>{var d77,p4f;d77=typeof _CIQ !== "undefined"?_CIQ:v77.CIQ;if(!d77.Studies){p4f="awesomeOscillator feature requires firs";p4f+="t activating studies feature.";console.error(p4f);}else {d77.Studies.calculateAwesomeOscillator=function(G77,X77){var w4f,z4f,O4f,f77,Q4f;w4f="hl";w4f+="/2";z4f="hl";z4f+="/";z4f+="2";O4f="si";O4f+="mple";f77=X77.chart.scrubbed;if(f77.length < 33){X77.error=!"";return;}d77.Studies.MA(O4f,+"5",z4f,0,"_MA5",G77,X77);d77.Studies.MA("simple",34,w4f,0,"_MA34",G77,X77);for(var h77=Math.max(X77.startFrom,33);h77 < f77.length;h77++){Q4f="_h";Q4f+="is";Q4f+="t";if(!f77[h77])continue;f77[h77][X77.name + Q4f]=f77[h77]["_MA5 " + X77.name] - f77[h77]["_MA34 " + X77.name];}X77.outputMap={};X77.outputMap[X77.name + "_hist"]="";};d77.Studies.displayAwesomeOscillator=function(e77,n77,a77){var o0U=L6EE;var E4f,p77,l77,m77,Z77,g77,R77,i47,F4f,j77,z77;E4f="#";E4f+="CCCCCC";p77=e77.panels[n77.panel];l77=n77.getContext(e77);m77=n77.getYAxis(e77);Z77=e77.pixelFromPrice(0,p77,m77);o0U.T5H(119);var I0E=o0U.f5H(3258,6,15,20,36);g77=e77.layout.candleWidth - I0E;if(g77 < 2){g77=+"1";}R77=d77.Studies.determineColor(n77.outputs["Increasing Bar"]);i47=d77.Studies.determineColor(n77.outputs["Decreasing Bar"]);e77.canvasColor("stx_histogram");o0U.l8L();if(!n77.underlay){l77.globalAlpha=1;}l77.fillStyle=E4f;e77.startClip(n77.panel);if(!n77.highlight && e77.highlightedDraggable){l77.globalAlpha*=0.3;}for(var s77=0;s77 < a77.length;s77++){F4f="_";F4f+="h";F4f+="is";F4f+="t";j77=a77[s77];o0U.T5H(0);z77=a77[o0U.f5H(s77,1)];if(!z77){z77=e77.getPreviousBar(e77.chart,n77.name + "_hist",s77);}if(!j77)continue;if(!z77);else if(z77[n77.name + "_hist"] < j77[n77.name + "_hist"]){l77.fillStyle=R77;}else if(z77[n77.name + F4f] > j77[n77.name + "_hist"]){l77.fillStyle=i47;}if(j77.candleWidth){g77=Math.floor(Math.max(1,j77.candleWidth - 2));}l77.fillRect(Math.floor(e77.pixelFromBar(s77,p77.chart) - g77 / 2),Math.floor(Z77),Math.floor(g77),Math.floor(e77.pixelFromPrice(j77[n77.name + "_hist"],p77,m77) - Z77));}e77.endClip();};d77.Studies.studyLibrary=d77.extend(d77.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:d77.Studies.displayAwesomeOscillator,calculateFN:d77.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};V2S=H47=>{L6EE.l8L();var c47;c47=typeof _CIQ !== "undefined"?_CIQ:H47.CIQ;if(!c47.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {c47.Studies.calculateBalanceOfPower=function(W47,E47){var f4f,r47,o4f,o47;f4f="_Ra";f4f+="tio ";r47=E47.chart.scrubbed;if(r47.length < E47.days + 1){E47.error=! ![];return;}for(var S47=E47.startFrom;S47 < r47.length;S47++){o4f="_";o4f+="Ra";o4f+="ti";o4f+="o ";o47=r47[S47];o47["_Ratio " + E47.name]=o47.Close - o47.Open;if(o47.High - o47.Low !== 0){o47[o4f + E47.name]/=o47.High - o47.Low;}}c47.Studies.MA(E47.inputs["Moving Average Type"],E47.days,f4f + E47.name,0,"Result",W47,E47);};c47.Studies.studyLibrary=c47.extend(c47.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:c47.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};Q2S=u47=>{var b47,t4f,x4f,l4f,S4f,N4f,D4f;b47=typeof _CIQ !== "undefined"?_CIQ:u47.CIQ;if(!b47.Studies){console.error("bollinger feature requires first activating studies feature.");}else {t4f="m";t4f+="a";x4f="aut";x4f+="o";l4f="au";l4f+="to";S4f="m";S4f+="a";N4f="Bollinge";N4f+="r";N4f+=" %b";D4f="m";D4f+="a";b47.Studies.calculateBollinger=function(V47,K47){var d4f,k4f,I4f,T47;d4f="Boll ";d4f+="%b";k4f="Moving Average T";k4f+="ype";I4f="f";I4f+="i";I4f+="e";I4f+="ld";T47=K47.inputs.Field;if(!T47 || T47 == I4f){T47="Close";}b47.Studies.MA(K47.inputs[k4f],K47.days,T47,0,"_MA",V47,K47);K47.std=new b47.Studies.StudyDescriptor(K47.name,"STD Dev",K47.panel);K47.std.chart=K47.chart;K47.std.startFrom=K47.startFrom;K47.std.days=K47.days;K47.std.inputs={Field:T47,"Standard Deviations":1,Type:K47.inputs["Moving Average Type"]};K47.std.outputs={"_STD Dev":null};b47.Studies.calculateStandardDeviation(V47,K47.std);b47.Studies.calculateGenericEnvelope(V47,K47,K47.inputs["Standard Deviations"],"_MA " + K47.name,"_STD Dev " + K47.name);if(K47.type == d4f){K47.zoneOutput="%b";}};b47.Studies.studyLibrary=b47.extend(b47.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !{},calculateFN:b47.Studies.calculateBollinger,seriesFN:b47.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":D4f,"Channel Fill":! !1},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}},"Boll %b":{name:N4f,calculateFN:b47.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":S4f},outputs:{"%b":l4f},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:x4f}},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:b47.Studies.calculateBollinger,inputs:{Period:"20" * 1,Field:"field","Standard Deviations":2,"Moving Average Type":t4f},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};q2S=q47=>{L6EE.l8L();var Q47,m4f;Q47=typeof _CIQ !== "undefined"?_CIQ:q47.CIQ;if(!Q47.Studies){console.error("cci feature requires first activating studies feature.");}else {m4f="au";m4f+="to";Q47.Studies.calculateCCI=function(w47,D47){var X4f,g4f,F47,k47,U47,u4f;X4f="M";X4f+="A";g4f="s";g4f+="imp";L6EE.l8L();g4f+="le";F47=D47.chart.scrubbed;if(F47.length < D47.days + 1){D47.error=!"";return;}Q47.Studies.MA(g4f,D47.days,"hlc/3","0" << 1113994752,X4f,w47,D47);for(var I47=Math.max(D47.startFrom,D47.days - 1);I47 < F47.length;I47++){k47=F47[I47];if(!k47)continue;U47=0;for(var B47=0;B47 < D47.days;B47++){u4f="M";u4f+="A";u4f+=" ";U47+=Math.abs(F47[I47 - B47]["hlc/3"] - k47[u4f + D47.name]);}U47/=D47.days;if(Math.abs(U47) < "0.00000001" - 0){k47["Result " + D47.name]=0;}else {k47["Result " + D47.name]=(k47["hlc/3"] - k47["MA " + D47.name]) / (0.015 * U47);}}};Q47.Studies.studyLibrary=Q47.extend(Q47.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:Q47.Studies.calculateCCI,inputs:{Period:"20" * 1},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:m4f,studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};D2S=t47=>{var T4f,M47,A4f;T4f="undefi";T4f+="ned";M47=typeof _CIQ !== T4f?_CIQ:t47.CIQ;if(!M47.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {A4f="Cent";A4f+="er Of ";A4f+="Gravity";M47.Studies.calculateCenterOfGravity=function(Y47,A47){var s0U=L6EE;var J47,L47,P47,y47,C47;J47=A47.chart.scrubbed;if(J47.length < A47.days){A47.error=! !{};return;}L47=A47.inputs.Field;if(!L47 || L47 == "field"){L47="Close";}for(var x47=Math.max(A47.startFrom,A47.days - 1);x47 < J47.length;x47++){P47=0;y47=0;for(var O47=0;O47 < A47.days;O47++){s0U.P5H(0);C47=J47[s0U.F5H(x47,O47)][L47];s0U.T5H(111);P47-=s0U.f5H(1,C47,O47);y47+=C47;}if(y47){s0U.P5H(13);J47[x47]["Result " + A47.name]=s0U.F5H(P47,y47);}}};M47.Studies.studyLibrary=M47.extend(M47.Studies.studyLibrary,{COG:{name:A4f,calculateFN:M47.Studies.calculateCenterOfGravity,inputs:{Period:"10" >> 1952796032,Field:"field"}}});}};k2S=d47=>{var N47,i4f;L6EE.l8L();N47=typeof _CIQ !== "undefined"?_CIQ:d47.CIQ;if(!N47.Studies){console.error("chaikin feature requires first activating studies feature.");}else {i4f="C";i4f+="haikin Money";i4f+=" Fl";i4f+="ow";N47.Studies.calculateChaikinMoneyFlow=function(e47,f47){var q0U=L6EE;var v47,G47,h47,n47,K4f,Z4f;v47=f47.chart.scrubbed;if(v47.length < f47.days){f47.error=! !"1";return;}G47=0;q0U.t8L();h47=0;q0U.T5H(120);var k0E=q0U.F5H(14,0,2,5,20);n47=v47[f47.startFrom - k0E];if(n47){K4f="_su";K4f+="mV ";if(n47["_sumMF " + f47.name]){G47=n47["_sumMF " + f47.name];}if(n47["_sumV " + f47.name]){h47=n47[K4f + f47.name];}}for(var X47=f47.startFrom;X47 < v47.length;X47++){Z4f="_";Z4f+="sumV ";if(v47[X47].High == v47[X47].Low){v47[X47]["_MFV " + f47.name]=0;}else {q0U.T5H(7);var d0E=q0U.F5H(10,9,13,8);v47[X47]["_MFV " + f47.name]=v47[X47].Volume * (d0E * v47[X47].Close - v47[X47].High - v47[X47].Low) / (v47[X47].High - v47[X47].Low);}G47+=v47[X47]["_MFV " + f47.name];h47+=v47[X47].Volume;if(X47 > f47.days - 1){G47-=v47[X47 - f47.days]["_MFV " + f47.name];h47-=v47[X47 - f47.days].Volume;if(h47){q0U.P5H(13);v47[X47]["Result " + f47.name]=q0U.f5H(G47,h47);}}v47[X47]["_sumMF " + f47.name]=G47;v47[X47][Z4f + f47.name]=h47;}};N47.Studies.calculateChaikinVolatility=function(z47,l47){var L0U=L6EE;var y4f,j47,s47,g47,L8P,R8P,r8P;y4f="_";y4f+="M";y4f+="A";j47=l47.chart.scrubbed;if(j47.length < l47.days){l47.error=! ![];return;}for(s47=l47.startFrom;s47 < j47.length;s47++){if(j47[s47].futureTick)break;j47[s47]["_High-Low " + l47.name]=j47[s47].High - j47[s47].Low;}N47.Studies.MA(l47.inputs["Moving Average Type"],l47.days,"_High-Low " + l47.name,0,y4f,z47,l47);g47=l47.inputs["Rate Of Change"];L8P=-659562341;R8P=+"401585597";r8P=2;for(var n8P=1;L0U.v4P(n8P.toString(),n8P.toString().length,89767) !== L8P;n8P++){if(!g47){g47=l47.days;}r8P+=2;}if(L0U.v4P(r8P.toString(),r8P.toString().length,91831) !== R8P){if(-g47){g47=l47.days;}}for(s47=Math.max(l47.startFrom,g47);s47 < j47.length;s47++){if(!j47[s47 - g47]["_MA " + l47.name])continue;if(j47[s47].futureTick)break;L0U.T5H(85);var D0E=L0U.f5H(90,18,1,16,1504);L0U.P5H(121);var N0E=L0U.f5H(2,5,7,10,12);j47[s47]["Result " + l47.name]=D0E * (j47[s47]["_MA " + l47.name] / j47[s47 - g47]["_MA " + l47.name] - N0E);}};N47.Studies.studyLibrary=N47.extend(N47.Studies.studyLibrary,{"Chaikin MF":{name:i4f,calculateFN:N47.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:N47.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};F2S=a47=>{var p47,R4f,L4f,W4f;p47=typeof _CIQ !== "undefined"?_CIQ:a47.CIQ;if(!p47.Studies){console.error("chande feature requires first activating studies feature.");}else {R4f="a";R4f+="u";R4f+="to";L4f="Chande Forecast O";L4f+="s";L4f+="cillato";L4f+="r";W4f="Va";W4f+="riable";p47.Studies.prettify.variable="vma";p47.Studies.movingAverage.conversions.vma="variable";p47.Studies.movingAverage.translations.variable="Variable";p47.Studies.movingAverage.typeMap.vma=W4f;p47.Studies.movingAverage.typeMap.variable="Variable";p47.Studies.calculateChandeForecast=function(H37,m47){var d0U=L6EE;var B4f,G4f,Z47,E8P,F8P,o8P,R47,P4f,c37;B4f="M";B4f+="A";G4f="ti";G4f+="me s";G4f+="e";G4f+="ries";Z47=m47.chart.scrubbed;if(Z47.length < m47.days + +"1"){m47.error=! !{};E8P=-1130959280;F8P=- +"62862702";o8P=2;for(var I8P=1;d0U.v4P(I8P.toString(),I8P.toString().length,"15300" ^ 0) !== E8P;I8P++){return;}if(d0U.c2P(o8P.toString(),o8P.toString().length,90113) !== F8P){return;}}R47=m47.inputs.Field;if(!R47 || R47 == "field"){R47="Close";}p47.Studies.MA(G4f,m47.days,R47,0,B4f,H37,m47);for(var i37=Math.max(1,m47.startFrom);i37 < Z47.length;i37++){P4f="obj";P4f+="ect";c37=Z47[i37][R47];if(c37 && typeof c37 == P4f){c37=c37[m47.subField];}d0U.P5H(10);var S0E=d0U.f5H(20,89,9);d0U.T5H(6);var l0E=d0U.F5H(20,19,0);Z47[i37]["Result " + m47.name]=S0E * (l0E - Z47[i37]["MA " + m47.name] / c37);}};p47.Studies.calculateChandeMomentum=function(k37,E37){var C0U=L6EE;var u37,S37,W37,K37,T37,V37,U4f,V4f,b37,r37,Q37,q37;C0U.l8L();u37=E37.name;for(var D37 in E37.outputs){C0U.T5H(91);u37=C0U.f5H(" ",u37,D37);}S37=E37.chart.scrubbed;if(S37.length < E37.days + +"1"){E37.error=! ![];return;}W37=E37.inputs.Field;if(!W37 || W37 == "field"){W37="Close";}K37=0;T37=0;V37=[];for(var o37=E37.startFrom - E37.days + 1;o37 < S37.length;o37++){U4f="o";U4f+="bj";U4f+="e";U4f+="ct";V4f="o";V4f+="b";V4f+="je";V4f+="ct";if(o37 < 1)continue;b37=S37[o37][W37];C0U.P5H(122);r37=S37[C0U.f5H("1",o37,1)][W37];if(b37 && typeof b37 == V4f){b37=b37.Close;}if(r37 && typeof r37 == U4f){r37=r37.Close;}if(r37 === undefined)continue;C0U.T5H(0);Q37=C0U.f5H(b37,r37);V37.push(Q37);K37+=Q37;T37+=Math.abs(Q37);if(V37.length == E37.days){C0U.T5H(117);S37[o37][u37]=C0U.F5H(100,T37,K37);q37=V37.shift();K37-=q37;T37-=Math.abs(q37);}}};p47.Studies.calculateMovingAverageVariable=function(d37,F37){var I0U=L6EE;var a4f,f37,w37,C37,t37,M37,A37,B37,I37,U37,J37,y37,Y37,P37,L37,X37,x37,N37,O37;a4f="fi";a4f+="e";a4f+="ld";f37=F37.inputs.Type;w37=F37.chart.scrubbed;I0U.P5H(58);var x0E=I0U.f5H(13,466,36);C37=x0E / (F37.days + +"1");t37=null;M37=F37.name;for(var v37 in F37.outputs){I0U.T5H(91);M37=I0U.F5H(" ",M37,v37);}A37=F37.inputs.Field;if(!A37 || A37 == a4f){A37="Close";}F37.cmo=new p47.Studies.StudyDescriptor(F37.name,"cmo",F37.panel);F37.cmo.chart=F37.chart;I0U.t8L();F37.cmo.days=9;F37.cmo.inputs={Field:A37};F37.cmo.startFrom=F37.startFrom;F37.cmo.outputs={_CMO:null};p47.Studies.calculateChandeMomentum(d37,F37.cmo);B37=parseInt(F37.inputs.Offset,10);if(isNaN(B37)){B37=0;}y37=F37.startFrom;Y37=B37;for(I37=F37.startFrom - 1;I37 >= 0;I37--){U37=w37[I37][M37];if(!U37 && U37 !== 0)continue;if(t37 === null){t37=U37;}if(Y37 <= 0)break;Y37--;y37=I37;}if(t37 === null){t37=y37=0;}P37=[];for(I37=y37;I37 < w37.length;I37++){L37=w37[I37];U37=L37[A37];if(U37 && typeof U37 == "object"){U37=U37[F37.subField];}X37=I37 + B37 >= +"0" && I37 + B37 < w37.length;x37=X37?w37[I37 + B37]:null;if(!U37 && U37 !== 0){if(x37){x37[M37]=null;}else if(I37 + B37 >= w37.length){J37={};J37[M37]=null;P37.push(J37);}continue;}if(!L37["_CMO " + F37.name] && L37["_CMO " + F37.name] !== +"0")continue;N37=Math.abs(L37["_CMO " + F37.name]) / +"100";I0U.T5H(123);O37=I0U.f5H(1,t37,C37,N37,C37,N37,U37);t37=O37;if(I37 < F37.days){O37=null;}if(x37){x37[M37]=O37;}else if(I37 + B37 >= w37.length){J37={};J37[M37]=O37;P37.push(J37);}}F37.appendFutureTicks(d37,P37);};p47.Studies.studyLibrary=p47.extend(p47.Studies.studyLibrary,{"Chande Fcst":{name:L4f,calculateFN:p47.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:p47.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:R4f}}}});}};I2S=G37=>{var h37,r4f,C4f;h37=typeof _CIQ !== "undefined"?_CIQ:G37.CIQ;if(!h37.Studies){r4f="choppiness featur";r4f+="e requires first activating ";r4f+="studies ";r4f+="feature.";console.error(r4f);}else {C4f="0";C4f+=".";C4f+="1";h37.Studies.calculateChoppiness=function(g37,n37){var l37,e37,j37,n4f,H4f;h37.Studies.calculateStudyATR(g37,n37);l37=n37.chart.scrubbed;function z37(R37,Z37){var a37,m37;L6EE.P5H(60);var t0E=L6EE.F5H(15,15,13,13);a37=Number.MAX_VALUE * t0E;m37=Number.MAX_VALUE;for(var p37=Z37 - R37 + 1;p37 <= Z37;p37++){if(p37 < 0)continue;a37=Math.max(a37,l37[p37].High);m37=Math.min(m37,l37[p37].Low);}return [m37,a37];}if(l37.length < n37.days + 1){n37.error=! ![];return;}for(var s37=Math.max(n37.startFrom,n37.days);s37 < l37.length;s37++){e37=l37[s37];if(!e37)continue;if(e37.futureTick)break;j37=z37(n37.days,s37);if(e37["Sum True Range " + n37.name]){n4f="Sum True ";n4f+="Range ";H4f="Re";H4f+="su";H4f+="l";H4f+="t ";L6EE.P5H(12);var g0E=L6EE.f5H(14,92,8,14);e37[H4f + n37.name]=g0E * Math.log(e37[n4f + n37.name] / Math.max(0.000001,j37[+"1"] - j37[0])) / Math.log(n37.days);}else if(!isNaN(e37)){e37["Result " + n37.name]=0;}}};h37.Studies.studyLibrary=h37.extend(h37.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:h37.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"50" & 2147483647,step:C4f},studyOverSoldValue:{max:50,step:"0.1"}}}});}};U2S=c57=>{var j4f,i57,t0f,x0f,l0f,S0f;j4f="undef";j4f+="in";j4f+="ed";i57=typeof _CIQ !== j4f?_CIQ:c57.CIQ;if(!i57.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!i57.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {t0f="S";t0f+="P";t0f+="Y";x0f="aut";x0f+="o";l0f="Performa";l0f+="n";l0f+="ce Index";S0f="Correlation Coe";S0f+="fficient";i57.Studies.calculateCorrelationCoefficient=function(k57,H57){var Q0U=L6EE;var o57,S57,W57,J4f,q4f,b57,u57,T57,V57,Q57,q57,D57,M0f,v0f,c4f,e4f,r57,b4f,s0f,Y0f,h0f,I57,U57,B57,w57;o57=H57.chart.scrubbed;S57=H57.days;if(o57.length < S57 + 1){H57.error=! !"1";return;}Q0U.t8L();H57.compare=H57.inputs["Compare To"];if(!H57.compare){H57.compare=[];H57.outputs={};H57.outputMap={};for(var F57 in k57.chart.series){W57=k57.chart.series[F57];if(W57.parameters.color){J4f="Res";J4f+="u";J4f+="lt";J4f+=" ";q4f="R";q4f+="es";q4f+="ult";q4f+=" ";H57.compare.push(W57.display);H57.outputs["Result " + W57.display]=W57.parameters.color;Q0U.P5H(124);var X0E=Q0U.f5H(15,21461,145730,5);H57.outputMap[q4f + W57.display + (+"209.14" > X0E?(132.69,510.13):414.08 > (479.64,102.92)?" ":(746.62,670.10)) + H57.name]=J4f + W57.display;}}}else {H57.compare=[H57.compare];}if(!H57.compare.length){H57.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var K57=0;K57 < H57.compare.length;K57++){b57=+"0";u57=0;T57=0;V57=0;Q57=0;q57=H57.compare[K57];D57=0;for(var E57=H57.startFrom - S57;E57 < o57.length;E57++){M0f="_";M0f+="te";M0f+="mp";M0f+="s ";v0f="_";v0f+="tem";v0f+="ps ";c4f="o";c4f+="b";c4f+="j";c4f+="ect";e4f="o";e4f+="b";e4f+="jec";e4f+="t";if(!o57[E57])continue;r57=o57[E57][q57];if(r57 && typeof r57 == e4f){r57=r57.Close;}if(!r57 && r57 !== "0" - 0){b4f="_t";b4f+="emps ";if(E57 > +"0" && o57[E57 - 1] && o57[E57 - 1]["_temps " + H57.name] && o57[E57 - 1]["_temps " + H57.name].c){r57=o57[E57 - 1][b4f + H57.name].c;}else {r57=0;}}if(r57 && typeof r57 == c4f){r57=r57.Close;}o57[E57]["_temps " + H57.name]={};b57+=o57[E57]["_temps " + H57.name].b=o57[E57].Close;u57+=o57[E57][v0f + H57.name].c=r57;T57+=o57[E57]["_temps " + H57.name].b2=Math.pow(o57[E57].Close,2);V57+=o57[E57][M0f + H57.name].c2=Math.pow(r57,2);Q57+=o57[E57]["_temps " + H57.name].bc=o57[E57].Close * r57;if(D57 >= S57){s0f="R";s0f+="esu";s0f+="lt";s0f+=" ";Y0f="_";Y0f+="t";Y0f+="e";Y0f+="mps ";h0f="_";h0f+="temps ";b57-=o57[E57 - S57]["_temps " + H57.name].b;u57-=o57[E57 - S57][h0f + H57.name].c;T57-=o57[E57 - S57]["_temps " + H57.name].b2;V57-=o57[E57 - S57]["_temps " + H57.name].c2;Q57-=o57[E57 - S57][Y0f + H57.name].bc;Q0U.T5H(125);var u0E=Q0U.F5H(3,14,4);I57=T57 / S57 - Math.pow(b57 / S57,u0E);U57=V57 / S57 - Math.pow(u57 / S57,+"2");B57=Q57 / S57 - b57 * u57 / Math.pow(S57,"2" & 2147483647);w57=B57 / Math.sqrt(I57 * U57);Q0U.P5H(6);var m0E=Q0U.F5H(18,38,46);Q0U.T5H(64);var T0E=Q0U.f5H(16,3,120460,5775740);Q0U.T5H(48);var A0E=Q0U.f5H(3,87468,93280,15);Q0U.P5H(4);var K0E=Q0U.F5H(622,39);o57[E57][s0f + q57 + (("6440" ^ 0,m0E) >= T0E?(69.72,A0E) >= K0E?!"":(722.37,266.77):" ") + H57.name]=w57;}D57++;}}};i57.Studies.calculatePerformance=function(x57,M57){var w0f,z0f,O0f,p0f,t57,L57,E0f,Q0f,J57;w0f="C";w0f+="lo";w0f+="s";w0f+="e";z0f="m";z0f+="a";O0f="Com";O0f+="pari";O0f+="son ";O0f+="Symbol";L6EE.l8L();p0f="Comparison ";p0f+="Symb";p0f+="ol";t57=M57.chart.scrubbed;L57=M57.inputs[p0f].toUpperCase();if(!L57){L57=M57.study.inputs[O0f];}if(!M57.days){M57.days=M57.study.inputs.Period;}if(t57.length < M57.days + 1){M57.error=!0;return;}i57.Studies.MA(z0f,M57.days,w0f,0,"_MA Base",x57,M57);i57.Studies.MA("ma",M57.days,L57,"0" << 140721984,"_MA Comp",x57,M57);for(var A57=M57.startFrom;A57 < t57.length;A57++){E0f="_";E0f+="M";E0f+="A Comp ";Q0f="Re";Q0f+="sul";Q0f+="t";Q0f+=" ";J57=t57[A57][L57];if(J57 && (J57.Close || J57.Close === 0)){J57=J57.Close;}t57[A57][Q0f + M57.name]=t57[A57].Close / J57 * (t57[A57][E0f + M57.name] / t57[A57]["_MA Base " + M57.name]);}};i57.Studies.calculateBeta=function(d57,O57){var A0U=L6EE;var N0f,D0f,o0f,P57,N57,F0f,C57,Y57,d0f,k0f,I0f,f0f;N0f="_VA";N0f+="Rn ";D0f="_COVA";A0U.t8L();D0f+="R";o0f="_";o0f+="CompCh";o0f+="ange ";P57=O57.chart.scrubbed;N57=O57.inputs["Comparison Symbol"].toUpperCase();if(!N57){N57=O57.study.inputs["Comparison Symbol"];}if(!O57.days){O57.days=O57.study.inputs.Period;}if(P57.length < O57.days + 1){O57.error=!0;return;}for(var y57=Math.max(O57.startFrom,+"1");y57 < P57.length;y57++){F0f="_";F0f+="Base";F0f+="Chang";F0f+="e ";A0U.T5H(69);var Z0E=A0U.f5H(11,3,12,1,13);A0U.T5H(49);var y0E=A0U.f5H(1,12,13);P57[y57][F0f + O57.name]=P57[y57].Close / P57[y57 - Z0E].Close - y0E;C57=P57[y57][N57];if(C57 && (C57.Close || C57.Close === 0)){C57=C57.Close;}A0U.T5H(0);Y57=P57[A0U.F5H(y57,1)][N57];if(Y57 && (Y57.Close || Y57.Close === 0)){Y57=Y57.Close;}A0U.P5H(126);P57[y57]["_CompChange " + O57.name]=A0U.f5H("1",Y57,C57,0);}i57.Studies.MA("ma",O57.days,"_BaseChange " + O57.name,0,"_MA Base",d57,O57);i57.Studies.MA("ma",O57.days,o0f + O57.name,0,"_MA Comp",d57,O57);for(y57=Math.max(O57.startFrom,O57.days);y57 < P57.length;y57++){d0f="_";d0f+="MA Comp";d0f+=" ";k0f="_Co";k0f+="mpC";k0f+="hange ";I0f="_MA";I0f+=" Bas";I0f+="e ";f0f="_Ba";f0f+="seChange ";P57[y57]["_COVARn " + O57.name]=(P57[y57][f0f + O57.name] - P57[y57][I0f + O57.name]) * (P57[y57]["_CompChange " + O57.name] - P57[y57]["_MA Comp " + O57.name]);P57[y57]["_VARn " + O57.name]=Math.pow(P57[y57][k0f + O57.name] - P57[y57][d0f + O57.name],+"2");}i57.Studies.MA("ma",O57.days,"_COVARn " + O57.name,0,D0f,d57,O57);i57.Studies.MA("ma",O57.days,N0f + O57.name,0,"_VAR",d57,O57);for(y57=Math.max(O57.startFrom,O57.days * 2 - +"1");y57 < P57.length;y57++){P57[y57]["Result " + O57.name]=P57[y57]["_COVAR " + O57.name] / P57[y57]["_VAR " + O57.name];}};i57.Studies.studyLibrary=i57.extend(i57.Studies.studyLibrary,{correl:{name:S0f,range:"-1 to 1",calculateFN:i57.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:l0f,centerline:1,initializeFN:i57.Studies.initPriceRelative,seriesFN:i57.Studies.displayVsComparisonSymbol,calculateFN:i57.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:x0f,Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!""},Beta:{name:"Beta",centerline:1,initializeFN:i57.Studies.initPriceRelative,seriesFN:i57.Studies.displayVsComparisonSymbol,calculateFN:i57.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":t0f},deferUpdate:! !1}});}};B2S=X57=>{var v57;v57=typeof _CIQ !== "undefined"?_CIQ:X57.CIQ;if(!v57.Studies){console.error("coppock feature requires first activating studies feature.");}else {v57.Studies.calculateCoppock=function(z57,f57){var r0U=L6EE;var g0f,h57,G57,e57,l57,s57,j57,g57;g0f="Cl";g0f+="os";g0f+="e";h57=f57.chart.scrubbed;G57=f57.inputs.Field;if(!G57 || G57 == "field"){G57=g0f;}e57=parseInt(f57.inputs["Long RoC"],10);if(!e57){e57=14;}l57=parseInt(f57.inputs["Short RoC"],10);if(!l57){l57=11;}s57=f57.days;if(!s57){s57=+"10";}if(e57 < l57){return;}if(h57.length < Math.max(l57,e57,s57) + 1){f57.error=! !"1";return;}for(var n57=Math.max(f57.startFrom,e57);n57 < h57.length;n57++){r0U.T5H(0);j57=h57[r0U.f5H(n57,l57)][G57];r0U.P5H(0);g57=h57[r0U.f5H(n57,e57)][G57];if(j57 && g57){r0U.P5H(6);var i0E=r0U.f5H(14,34,120);h57[n57]["_Sum " + f57.name]=i0E * (h57[n57][G57] / j57 + h57[n57][G57] / g57 - ("2" - 0));}}v57.Studies.MA("weighted",s57,"_Sum " + f57.name,0,"Result",z57,f57);};v57.Studies.studyLibrary=v57.extend(v57.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:v57.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}});}};w2S=a57=>{var p57,C0f;p57=typeof _CIQ !== "undefined"?_CIQ:a57.CIQ;if(!p57.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {C0f="h";C0f+="i";C0f+="gh/low";p57.Studies.calculateDarvas=function(k87,o87){var w0U=L6EE;var m0f,u0f,X0f,m57,f6P,I6P,k6P,E87,V87,q87,r87,i87,H87,b87,S87,u87,W87,R57,c87,K87,Z57,i0f,T0f,K0f,A0f,y0f,Z0f,P0f,B0f,G0f,W0f,a0f,U0f,V0f;m0f="L";m0f+="o";m0f+="s";m0f+="s";u0f="D";u0f+="ar";u0f+="vas";X0f="******";X0f+="***********";m57=o87.chart.scrubbed;f6P=763133698;I6P=-1316020114;k6P=2;for(var D6P="1" | 1;w0U.v4P(D6P.toString(),D6P.toString().length,+"25172") !== f6P;D6P++){E87=4;V87=parseInt(o87.inputs[""],+"36");k6P+=2;}if(w0U.c2P(k6P.toString(),k6P.toString().length,80475) !== I6P){E87=0;V87=parseInt(o87.inputs[""],85);}w0U.t8L();E87=0;V87=parseInt(o87.inputs["ATH Lookback Period"],10);if(o87.inputs["Volume Spike"]){p57.Studies.MA("simple",V87,"Volume",0,"ADV",k87,o87);}w0U.P5H(58);var W0E=w0U.f5H(7,691,113);q87=parseFloat(o87.inputs["Volume % of Avg"]) / W0E;r87="n";r87+="o";r87+="n";r87+="e";i87={};H87=null;b87=null;S87=null;u87=parseFloat(o87.inputs["Level Offset"]);W87=![];if(W87){console.log(X0f);}c87={};[u0f,"Ghost","Profit",m0f,"ATH","ADV","Spike"].forEach(function(F87){w0U.T5H(7);w0U.t8L();var G0E=w0U.F5H(6,5,6696,15);w0U.P5H(0);var B0E=w0U.F5H(68970,62700);c87[F87]=F87 + (890.76 <= (G0E,B0E)?" ":"b") + o87.name;});for(R57=o87.startFrom - +"1";R57 > 0;R57--){K87=m57[R57];if(K87[c87.Darvas] || K87[c87.Ghost]){for(var D87 in c87){K87[D87]=null;}}else {E87=K87[c87.ATH] || 0;b87=K87[c87.Profit];S87=K87[c87.Loss];break;}}for(R57;R57 < m57.length;R57++){Z57=m57[R57];if(!Z57)continue;if(parseFloat(o87.inputs["Price Minimum"]) <= m57[E87].Close){i0f="d";i0f+="arvas";T0f="h";T0f+="i";T0f+="gh";if(H87 && (!H87.End || R57 == H87.End + 1)){if(m57[R57 - 1].Close > i87.High){i87={State:1,High:2 * i87.High - i87.Low,Low:i87.High,Start:R57,End:2 * i87.End - i87.Start + ("1" - 0)};}else {H87=null;;}if(H87){Z57[c87.Ghost]=p57.clone(i87);if(W87){console.log("Ghost begin:" + Z57.DT);}i87.State=0;if(m57[i87.End]){m57[i87.End][c87.Ghost]=p57.clone(i87);if(W87){console.log("Ghost end:" + m57[i87.End].DT);}}H87={Start:i87.Start,End:i87.End};b87=i87.High + u87;if(!S87 || S87 < i87.Low - u87){S87=i87.Low - u87;}}}Z57[c87.Profit]=b87;Z57[c87.Loss]=S87;if(Z57.Close >= b87){b87=null;}else if(o87.inputs["Exit Field"] == "high/low" && Z57.High >= b87){b87=null;}if(r87 == "none"){if(R57 == E87 + ("3" ^ 0)){if(!m57[E87 + 2][c87.Darvas] && !m57[E87 + 1][c87.Darvas] && !m57[E87][c87.Darvas] && m57[E87].High > Z57.High){r87="high";;}}}if(r87 == T0f){if(Z57.High > m57[E87].High){r87="none";}else if(m57[R57 - 3].Low < m57[R57 - 2].Low && m57[R57 - 3].Low < m57[R57 - ("1" - 0)].Low && m57[R57 - 3].Low < Z57.Low){K0f="D";K0f+="arv";K0f+="as ";K0f+="established:";A0f="da";A0f+="rv";A0f+="as";i87={State:1,High:m57[E87].High,Low:m57[R57 - 3].Low,Start:E87};m57[E87][c87.Darvas]=p57.clone(i87);r87=A0f;if(W87){console.log("Darvas begin:" + m57[E87].DT);}if(W87){console.log(K0f + Z57.DT);}if(H87){y0f="Gh";y0f+="os";y0f+="t end";y0f+=":";if(H87.End > R57 && m57[H87.Start]){Z57[c87.Ghost]=p57.clone(m57[H87.Start][c87.Ghost]);Z57[c87.Ghost].End=R57;if(m57[H87.End]){Z0f="Ghost ";Z0f+="End rem";Z0f+="oved:";delete m57[H87.End][c87.Ghost];if(W87){console.log(Z0f + m57[H87.End].DT);}}}Z57[c87.Ghost].State=0;m57[H87.Start][c87.Ghost].End=R57;if(W87){console.log(y0f + Z57.DT);}H87=null;}b87=i87.High + u87;if(!S87 || S87 < i87.Low - u87){S87=i87.Low - u87;}}}if(r87 == i0f){P0f="n";P0f+="o";P0f+="n";P0f+="e";B0f="n";B0f+="on";B0f+="e";G0f="h";G0f+="ig";G0f+="h/";G0f+="low";W0f="Exi";W0f+="t F";W0f+="ield";if(Z57.Close > i87.High){H87={};}else if(o87.inputs[W0f] == G0f && Z57.High > i87.High){H87={};}else if(Z57.Close < i87.Low){r87=B0f;}else if(o87.inputs["Exit Field"] == "high/low" && Z57.Low < i87.Low){r87=P0f;}if(H87){r87="none";}else if(r87 == "none"){b87=null;S87=null;}if(!o87.inputs["Ghost Boxes"]){H87=null;}if(r87 == "none"){for(var Q87=i87.Start + 1;Q87 < R57;Q87++){m57[Q87][c87.Darvas]=p57.clone(i87);}i87.State=0;i87.End=R57;Z57[c87.Darvas]=p57.clone(i87);if(W87){console.log("Darvas end:" + Z57.DT);}Z57[c87.ATH]=E87;continue;}}if(S87){if(Z57.Close < i87.Low || o87.inputs["Exit Field"] == "high/low" && Z57.Low < i87.Low){a0f="high/lo";a0f+="w";U0f="Exit";U0f+=" Fi";U0f+="el";U0f+="d";V0f="da";V0f+="r";V0f+="vas";if(r87 == V0f){r87="none";}if(Z57.Close < S87 || o87.inputs[U0f] == a0f && Z57.Low < S87){b87=null;S87=null;}if(H87){if(H87.End > R57 && m57[H87.Start]){Z57[c87.Ghost]=p57.clone(m57[H87.Start][c87.Ghost]);Z57[c87.Ghost].End=R57;if(m57[H87.End]){delete m57[H87.End][c87.Ghost];if(W87){console.log("Ghost End removed:" + m57[H87.End].DT);}}}Z57[c87.Ghost].State=0;m57[H87.Start][c87.Ghost].End=R57;if(W87){console.log("Ghost end:" + Z57.DT);}H87=null;}}}}if(Z57.High >= m57[E87].High){E87=R57;if(W87){console.log("All Time High:" + Z57.DT);}}if(R57 < 3 || Z57.High >= m57[R57 - 1].High && Z57.High >= m57[R57 - +"2"].High && Z57.High >= m57[R57 - 3].High){if(R57 - E87 >= V87){E87=R57;for(var T87=+"0";T87 < V87;T87++){if(R57 - T87 < 0)break;if(m57[R57 - T87].High > m57[E87].High){w0U.T5H(0);E87=w0U.f5H(R57,T87);}}if(W87){console.log("All Time High:" + Z57.DT);}}}if(o87.inputs["Volume Spike"] && R57 > V87 && R57 == E87){if(Z57[c87.ADV] * q87 < Z57.Volume){Z57[c87.Spike]=1;if(W87){console.log("Volume Spike:" + Z57.DT);}}}Z57[c87.ATH]=E87;}};p57.Studies.displayDarvas=function(U87,M87,A87){var e0U=L6EE;var R0f,L0f,X87,O87,Y87,t87,I87,B87,w87,l87,y87,J87,r0f,n87,s87,z87,j87,L87,x87,P87,f87,C87,v87,N87,G87,d87,h87,p87,e87,a87,H0f,n0f,g87;R0f="au";R0f+="to";L0f="au";L0f+="to";X87=p57.Studies.determineColor(M87.outputs.Levels);if(!X87 || X87 == L0f || p57.isTransparent(X87)){X87=U87.defaultColor;}O87=p57.Studies.determineColor(M87.outputs.Darvas);if(!O87 || O87 == "auto" || p57.isTransparent(O87)){O87=U87.defaultColor;}Y87=p57.Studies.determineColor(M87.outputs.Ghost);if(!Y87 || Y87 == R0f || p57.isTransparent(Y87)){Y87=U87.defaultColor;}t87=U87.panels[M87.panel];I87=M87.getContext(U87);J87=U87.layout.candleWidth - +"2";if(J87 < 2){e0U.T5H(1);J87=e0U.f5H("1",1);}U87.startClip(M87.panel);if(M87.inputs["Stop Levels"]){if(I87.setLineDash){e0U.P5H(0);I87.setLineDash([2,e0U.F5H("2",0)]);}I87.lineWidth=2;I87.strokeStyle=X87;I87.beginPath();for(B87=0;B87 < A87.length;B87++){r0f="L";r0f+="o";r0f+="ss ";w87=A87[B87];e0U.T5H(19);n87=A87[e0U.F5H("1",B87)];if(!w87)continue;y87=w87[r0f + M87.name]?Math.floor(U87.pixelFromPrice(w87["Loss " + M87.name],t87)):null;s87=n87 && n87["Loss " + M87.name]?Math.floor(U87.pixelFromPrice(n87["Loss " + M87.name],t87)):null;if(y87){if(w87.candleWidth){J87=Math.floor(Math.max(1,w87.candleWidth));}z87=Math.floor(U87.pixelFromBar(B87,t87.chart) + J87 / 2);j87=Math.floor(U87.pixelFromBar(B87,t87.chart) - J87 / 2);if(s87 && s87 >= y87){I87.lineTo(j87,y87);}else if(B87 === 0){I87.moveTo(U87.chart.left,y87);}else {I87.moveTo(j87,y87);}I87.lineTo(z87,y87);}}I87.stroke();if(I87.setLineDash){I87.setLineDash([]);}I87.lineWidth=1;}L87=-10;P87=0;e0U.T5H(30);C87=-e0U.f5H(0,"10");N87=0;d87=! !"";h87=!{};e0U.T5H(4);var P0E=e0U.F5H(189,11);e0U.P5H(91);var V0E=e0U.F5H(2,8693,725);e0U.T5H(127);var U0E=e0U.F5H(6,12,30,2,3);p87=I87.measureText((P0E,+"9637") <= ("8045" & 2147483647,664.52)?(V0E,!{}):"\u25B2").width / U0E;e87=0;for(B87=0;B87 < A87.length;B87++){if(!A87[B87])continue;if(A87[B87].Close || A87[B87].Close === 0){e87=B87;}if(A87[B87]["Spike " + M87.name]){I87.fillStyle=O87;I87.textBaseline="bottom";a87=U87.pixelFromPrice(A87[B87].High,U87.chart.panel);I87.fillText(8144 === (4332,"3579" ^ 0)?570:"\u25BC",U87.pixelFromBar(B87) - p87,a87 - 5);;}if(A87[B87].candleWidth){J87=Math.floor(Math.max(1,A87[B87].candleWidth));}if(A87[B87]["Darvas " + M87.name]){w87=A87[B87]["Darvas " + M87.name];if(w87.State == 1 && !d87){L87=Math.floor(U87.pixelFromBar(B87,t87.chart) - J87 / 2);x87=Math.floor(U87.pixelFromPrice(w87.High,t87));f87=Math.floor(U87.pixelFromPrice(w87.Low,t87)) - x87;d87=! !{};}else if(w87.State === 0){e0U.T5H(128);var a0E=e0U.F5H(15,1,14);P87=Math.floor(U87.pixelFromBar(B87,t87.chart) + J87 / ("2" * a0E)) - L87;x87=Math.floor(U87.pixelFromPrice(w87.High,t87));f87=Math.floor(U87.pixelFromPrice(w87.Low,t87)) - x87;I87.strokeStyle=O87;I87.fillStyle=O87;if(!M87.inputs["Stop Levels"]){I87.strokeRect(L87,x87,P87,f87);I87.globalAlpha=0.2;}else {I87.globalAlpha=+"0.3";}I87.fillRect(L87,x87,P87,f87);e0U.P5H(23);I87.globalAlpha=e0U.f5H(1,"1");d87=! !0;}}if(A87[B87]["Ghost " + M87.name] && M87.inputs["Ghost Boxes"]){w87=A87[B87]["Ghost " + M87.name];if(w87.State == 1 && !h87){C87=Math.floor(U87.pixelFromBar(B87,t87.chart) - J87 / 2);v87=Math.floor(U87.pixelFromPrice(w87.High,t87));N87=Math.floor((w87.End - w87.Start + 1) * U87.layout.candleWidth + J87 / 2);G87=Math.floor(U87.pixelFromPrice(w87.Low,t87)) - v87;h87=! !"1";}else if(w87.State === 0){if(w87.Start == w87.End){C87=Math.floor(U87.pixelFromBar(B87,t87.chart) - J87 / 2);}e0U.T5H(129);var L0E=e0U.F5H(13,1,10);N87=Math.floor(U87.pixelFromBar(B87,t87.chart) + J87 / L0E) - C87;v87=Math.floor(U87.pixelFromPrice(w87.High,t87));G87=Math.floor(U87.pixelFromPrice(w87.Low,t87)) - v87;I87.strokeStyle=Y87;I87.fillStyle=Y87;if(!M87.inputs["Stop Levels"]){I87.strokeRect(C87,v87,N87,G87);I87.globalAlpha=0.2;}else {e0U.P5H(1);I87.globalAlpha=e0U.F5H("0.3",1);}I87.fillRect(C87,v87,N87,G87);I87.globalAlpha=1;h87=!"1";}}}if(d87){H0f="S";H0f+="top";H0f+=" Lev";H0f+="els";e0U.P5H(21);var R0E=e0U.F5H(4,20,16,1426,17);P87=Math.floor(U87.pixelFromBar(e87,t87.chart) + J87 / R0E) - L87;I87.strokeStyle=O87;I87.fillStyle=O87;if(!M87.inputs[H0f]){I87.beginPath();e0U.P5H(93);I87.moveTo(e0U.f5H(2,L87,P87),x87);I87.lineTo(L87,x87);e0U.T5H(4);I87.lineTo(L87,e0U.f5H(f87,x87));e0U.P5H(93);I87.lineTo(e0U.f5H(2,L87,P87),e0U.f5H(f87,x87,e0U.P5H(4)));I87.stroke();I87.globalAlpha=0.2;}else {I87.globalAlpha=0.3;}e0U.P5H(1);I87.fillRect(L87,x87,e0U.f5H(2,P87),f87);e0U.P5H(1);I87.globalAlpha=e0U.f5H("1",1);}if(h87){n0f="Stop L";n0f+="evels";I87.strokeStyle=Y87;I87.fillStyle=Y87;if(!M87.inputs[n0f]){I87.strokeRect(C87,v87,N87,G87);I87.globalAlpha=0.2;}else {I87.globalAlpha=0.3;}I87.fillRect(C87,v87,N87,G87);I87.globalAlpha=1;}if(d87 || h87){if(M87.inputs["Stop Levels"]){if(I87.setLineDash){I87.setLineDash([+"2",+"2"]);}I87.lineWidth=2;I87.strokeStyle=X87;g87=Math.floor(U87.pixelFromBar(e87 - 1,t87.chart) + J87 / 2);if(l87){I87.beginPath();I87.moveTo(g87,l87);I87.lineTo(d87?L87 + 2 * P87:C87 + N87,l87);I87.stroke();}if(y87){I87.beginPath();I87.moveTo(g87,y87);I87.lineTo(d87?L87 + 2 * P87:C87 + N87,y87);I87.stroke();}if(I87.setLineDash){I87.setLineDash([]);}I87.lineWidth=+"1";}d87=!{};h87=!{};}U87.endClip();};p57.Studies.studyLibrary=p57.extend(p57.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! ![],calculateFN:p57.Studies.calculateDarvas,seriesFN:p57.Studies.displayDarvas,inputs:{"ATH Lookback Period":+"100","Exit Field":["close",C0f],"Ghost Boxes":!"","Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:!""},flippedEnabled:{hidden:! ![]}}}});}};M2S=Z87=>{var m87,e0f,J0f;m87=typeof _CIQ !== "undefined"?_CIQ:Z87.CIQ;if(!m87.Studies){console.error("detrended feature requires first activating studies feature.");}else {e0f="fiel";e0f+="d";J0f="Detrended Price Oscillat";J0f+="o";J0f+="r";m87.Studies.calculateDetrendedPrice=function(S2e,R87){var j0f,H2e,E2e,o2e,q0f,i2e,r2e;j0f="Moving Average Ty";j0f+="pe";L6EE.l8L();H2e=R87.chart.scrubbed;if(H2e.length < R87.days + ("1" & 2147483647)){R87.error=!"";return;}E2e=R87.inputs.Field;if(!E2e || E2e == "field"){E2e="Close";}o2e=Math.floor(R87.days / 2 + +"1");m87.Studies.MA(R87.inputs[j0f],R87.days,E2e,-o2e,"MA",S2e,R87);for(var c2e=Math.max(R87.days - o2e - 1,R87.startFrom - o2e);c2e < H2e.length - o2e;c2e++){q0f="ob";q0f+="je";q0f+="ct";if(c2e < 0)continue;i2e=H2e[c2e][E2e];if(i2e && typeof i2e == q0f){i2e=i2e[R87.subField];}r2e=H2e[c2e]["MA " + R87.name];if((i2e || i2e === 0) && (r2e || r2e === 0)){L6EE.T5H(0);H2e[c2e]["Result " + R87.name]=L6EE.f5H(i2e,r2e);}}};m87.Studies.studyLibrary=m87.extend(m87.Studies.studyLibrary,{Detrended:{name:J0f,calculateFN:m87.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:e0f,"Moving Average Type":"ma"}}});}};t2S=b2e=>{var W2e;W2e=typeof _CIQ !== "undefined"?_CIQ:b2e.CIQ;if(!W2e.Studies){console.error("disparity feature requires first activating studies feature.");}else {W2e.Studies.calculateDisparity=function(q2e,u2e){var R0U=L6EE;var b0f,K2e,V2e,c0f,Q2e;b0f="_";b0f+="M";b0f+="A";K2e=u2e.chart.scrubbed;if(K2e.length < u2e.days + 1){u2e.error=!0;return;}V2e=u2e.inputs.Field;if(!V2e || V2e == "field"){V2e="Close";}W2e.Studies.MA(u2e.inputs["Moving Average Type"],u2e.days,V2e,0,b0f,q2e,u2e);R0U.t8L();for(var T2e=Math.max(u2e.startFrom,u2e.days - 1);T2e < K2e.length;T2e++){c0f="_";c0f+="M";c0f+="A";c0f+=" ";if(!K2e[T2e])continue;Q2e=K2e[T2e][c0f + u2e.name];if(Q2e){R0U.T5H(7);var r0E=R0U.f5H(895,10,1000,5);R0U.P5H(47);var H0E=R0U.f5H(9,2,16,147);K2e[T2e]["Result " + u2e.name]=r0E * (K2e[T2e][V2e] / Q2e - H0E);}}};W2e.Studies.studyLibrary=W2e.extend(W2e.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:W2e.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};A2S=k2e=>{L6EE.t8L();var D2e,M8f;D2e=typeof _CIQ !== "undefined"?_CIQ:k2e.CIQ;if(!D2e.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {M8f="Eas";M8f+="e of Moveme";M8f+="nt";D2e.Studies.calculateEaseOfMovement=function(J2e,U2e){var b0U=L6EE;var F2e,v8f,w2e,M2e,t2e,A2e,B2e;F2e=U2e.chart.scrubbed;if(F2e.length < U2e.days){U2e.error=! !1;return;}for(var I2e=Math.max(1,U2e.startFrom);I2e < F2e.length;I2e++){v8f="_E";v8f+="O";v8f+="M1 ";b0U.T5H(67);var n0E=b0U.f5H(15,10,15,5);w2e=(F2e[I2e].High + F2e[I2e].Low) / n0E;b0U.P5H(130);var C0E=b0U.f5H(9,7,9,4,3);b0U.T5H(128);var j0E=b0U.F5H(7,1,5);M2e=(F2e[I2e - +"1"].High + F2e[I2e - C0E].Low) / j0E;b0U.T5H(0);t2e=b0U.f5H(w2e,M2e);b0U.T5H(38);var q0E=b0U.F5H(1,33333333,66666683,16);A2e=F2e[I2e].Volume / q0E / (F2e[I2e].High - F2e[I2e].Low);b0U.P5H(13);B2e=b0U.f5H(t2e,A2e);if(!isFinite(B2e)){F2e[I2e][v8f + U2e.name]=NaN;}else {F2e[I2e]["_EOM1 " + U2e.name]=B2e;}}D2e.Studies.MA(U2e.inputs["Moving Average Type"],U2e.days,"_EOM1 " + U2e.name,"0" >> 2142105888,"Result",J2e,U2e);};D2e.Studies.studyLibrary=D2e.extend(D2e.Studies.studyLibrary,{EOM:{name:M8f,calculateFN:D2e.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};J2S=x2e=>{var L2e,s8f;L2e=typeof _CIQ !== "undefined"?_CIQ:x2e.CIQ;if(!L2e.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {s8f="Ehl";s8f+="er Fisher Transform";L2e.Studies.calculateEhlerFisher=function(X2e,O2e){var K0U=L6EE;var P2e,s0P,p0P,O0P,y2e,Y8f,h8f,Y2e,N2e,d2e;P2e=O2e.chart.scrubbed;if(P2e.length < O2e.days + 1){O2e.error=! !{};return;}s0P=976104934;p0P=-1875933247;K0U.T5H(0);O0P=K0U.F5H("2",0);for(var w0P=1;K0U.v4P(w0P.toString(),w0P.toString().length,41870) !== s0P;w0P++){y2e=1;if(O2e.startFrom < 8){y2e=P2e[O2e.startFrom + ("7" & 2147483647)]["" - O2e.name];}O0P+=2;}if(K0U.v4P(O0P.toString(),O0P.toString().length,38098) !== p0P){y2e=5;if(O2e.startFrom > 3){K0U.T5H(6);var J0E=K0U.f5H(11,9,0);y2e=P2e[O2e.startFrom * J0E]["" / O2e.name];}}function v2e(l2e,e2e){var p8P,O8P,z8P,h2e,G2e,n2e;p8P=945118559;K0U.l8L();O8P=215437115;z8P=2;for(var Q8P=1;K0U.c2P(Q8P.toString(),Q8P.toString().length,"24614" & 2147483647) !== p8P;Q8P++){h2e=Number.MAX_VALUE;K0U.T5H(131);var e0E=K0U.F5H(11,13,21,18);G2e=Number.MAX_VALUE % e0E;z8P+=2;}if(K0U.v4P(z8P.toString(),z8P.toString().length,16352) !== O8P){h2e=Number.MAX_VALUE;K0U.P5H(40);var b0E=K0U.f5H(6,1);G2e=Number.MAX_VALUE % b0E;}h2e=Number.MAX_VALUE;K0U.P5H(40);var c0E=K0U.F5H(6,7);G2e=Number.MAX_VALUE * c0E;for(var f2e=e2e - l2e + 1;f2e <= e2e;f2e++){K0U.P5H(92);var v8E=K0U.F5H(9,15,70,12);n2e=(P2e[f2e].High + P2e[f2e].Low) / v8E;h2e=Math.min(h2e,n2e);G2e=Math.max(G2e,n2e);}return [h2e,G2e];}y2e=0;if(O2e.startFrom > 1){K0U.P5H(40);var M8E=K0U.f5H(9,8);y2e=P2e[O2e.startFrom - M8E]["_n " + O2e.name];}for(var C2e=O2e.startFrom;C2e < P2e.length;C2e++){Y8f="_";Y8f+="n";Y8f+=" ";h8f="E";h8f+="F";h8f+=" ";Y2e=P2e[C2e];if(Y2e.futureTick)break;if(C2e < O2e.days - 1){Y2e["EF " + O2e.name]=Y2e["EF Trigger " + O2e.name]=y2e;continue;}N2e=v2e(O2e.days,C2e);K0U.P5H(38);var h8E=K0U.F5H(4,10,4,18);K0U.T5H(125);var Y8E=K0U.F5H(15,197,13);K0U.P5H(0);var s8E=K0U.F5H(13,12);y2e=0.33 * h8E * (((P2e[C2e].High + P2e[C2e].Low) / Y8E - N2e[0]) / Math.max("0.000001" - 0,N2e[s8E] - N2e[0]) - 0.5) + 0.67 * y2e;if(y2e > 0){y2e=Math.min(y2e,0.9999);}else if(y2e < 0){y2e=Math.max(y2e,-0.9999);}d2e=C2e?P2e[C2e - +"1"]["EF " + O2e.name]:"0" * 1;K0U.T5H(6);var p8E=K0U.F5H(9,12,4);Y2e[h8f + O2e.name]=0.5 * Math.log((("1" & 2147483647) + y2e) / (p8E - y2e)) + 0.5 * d2e;Y2e["EF Trigger " + O2e.name]=d2e;Y2e[Y8f + O2e.name]=y2e;}};L2e.Studies.studyLibrary=L2e.extend(L2e.Studies.studyLibrary,{"Ehler Fisher":{name:s8f,calculateFN:L2e.Studies.calculateEhlerFisher,inputs:{Period:+"10"},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};L2S=j2e=>{L6EE.t8L();var s2e,N8f,D8f,d8f,k8f,I8f;s2e=typeof _CIQ !== "undefined"?_CIQ:j2e.CIQ;if(!s2e.Studies){console.error("elder feature requires first activating studies feature.");}else {N8f="#5";N8f+="F";N8f+="7C";N8f+="B8";D8f="#8BC1";D8f+="7";D8f+="6";d8f="#";d8f+="F";d8f+="F00";d8f+="00";k8f="#0";k8f+="0DD";k8f+="00";I8f="Elder R";I8f+="ay ";I8f+="I";I8f+="ndex";s2e.Studies.calculateElderImpulse=function(Z2e,g2e){var Y0U=L6EE;var p8f,p2e,R2e,i6e,m2e,w6P,Q6P,E6P,a2e;p8f="m";p8f+="acd";p2e=g2e.chart.scrubbed;R2e=g2e.outputs.Bullish;i6e=g2e.outputs.Bearish;m2e=g2e.outputs.Neutral;s2e.Studies.MA("exponential",13,"Close",0,"_MA",Z2e,g2e);Y0U.P5H(0);var O8E=Y0U.F5H(7600,20);Y0U.P5H(132);var z8E=Y0U.F5H(1506,753,1509,2,1);g2e.macd=new s2e.Studies.StudyDescriptor(((O8E,25.54) <= (180.63,+"501.87")?"_":("V",z8E)) + g2e.name,p8f,g2e.panel);g2e.macd.chart=g2e.chart;g2e.macd.days=g2e.days;w6P=2017578317;Y0U.T5H(30);Q6P=-Y0U.F5H(0,"1511106682");E6P=2;for(var o6P=1;Y0U.v4P(o6P.toString(),o6P.toString().length,91808) !== w6P;o6P++){g2e.macd.startFrom=g2e.startFrom;g2e.macd.inputs={"Fast MA Period":30,"Slow MA Period":61,"Signal Period":10};g2e.macd.outputs={_MACD:1,_Signal:1};E6P+=2;}if(Y0U.v4P(E6P.toString(),E6P.toString().length,+"82356") !== Q6P){g2e.macd.startFrom=g2e.startFrom;g2e.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};g2e.macd.outputs={_MACD:null,_Signal:null};}s2e.Studies.calculateMACD(Z2e,g2e.macd);for(var z2e=g2e.startFrom;z2e < p2e.length;z2e++){if(z2e === 0){a2e=m2e;}else if(p2e[z2e]["_MA " + g2e.name] > p2e[z2e - 1]["_MA " + g2e.name] && p2e[z2e][((9040,709.76) == (6860,+"997")?"E":"_") + g2e.name + "_hist"] > p2e[z2e - 1][(+"467.77" <= (850.56,8100)?"_":(! !"",674.39)) + g2e.name + "_hist"]){a2e=R2e;}else if(p2e[z2e]["_MA " + g2e.name] < p2e[z2e - 1]["_MA " + g2e.name] && p2e[z2e]["_" + g2e.name + "_hist"] < p2e[z2e - 1][(2060 <= 3692?5220 === (7804,2136)?("z","Z"):(2236,9618) >= (5821,622.9)?"_":("V","713.57" * 1):"O") + g2e.name + "_hist"]){a2e=i6e;}else {a2e=m2e;}p2e[z2e]["Result " + g2e.name]=a2e;;}};s2e.Studies.calculateElderRay=function(o6e,c6e){var w8f,z8f,H6e,O8f;w8f="_";w8f+="hi";w8f+="st2";z8f="_h";z8f+="is";z8f+="t1";H6e=c6e.chart.scrubbed;if(H6e.length < c6e.days){c6e.error=!"";return;}s2e.Studies.MA("exponential",c6e.days,"Close",0,"_EMA",o6e,c6e);for(var E6e=Math.max(c6e.startFrom,c6e.days - 1);E6e < H6e.length;E6e++){O8f="_E";O8f+="MA ";H6e[E6e][c6e.name + "_hist1"]=H6e[E6e].High - H6e[E6e]["_EMA " + c6e.name];H6e[E6e][c6e.name + "_hist2"]=H6e[E6e].Low - H6e[E6e][O8f + c6e.name];}L6EE.l8L();c6e.outputMap={};c6e.outputMap[c6e.name + z8f]="";c6e.outputMap[c6e.name + w8f]="";};s2e.Studies.calculateElderForce=function(b6e,r6e){var F8f,E8f,S6e,Q8f;F8f="_";F8f+="E";F8f+="F1 ";E8f="exponenti";E8f+="al";S6e=r6e.chart.scrubbed;if(S6e.length < r6e.days){r6e.error=! !1;return;}for(var W6e=Math.max(+"1",r6e.startFrom);W6e < S6e.length;W6e++){Q8f="_EF";Q8f+="1 ";L6EE.P5H(96);var w8E=L6EE.F5H(11,37,6,5);S6e[W6e][Q8f + r6e.name]=S6e[W6e].Volume * (S6e[W6e].Close - S6e[W6e - "1" * w8E].Close);}s2e.Studies.MA(E8f,r6e.days,F8f + r6e.name,0,"Result",b6e,r6e);};s2e.Studies.initElderImpulse=function(K6e,V6e,Q6e,q6e,T6e,D6e){var u6e;u6e=s2e.Studies.initializeFN(K6e,V6e,Q6e,q6e,T6e,D6e);if(T6e.calculateOnly){return u6e;}L6EE.l8L();K6e.chart.customChart={chartType:"colored_bar",colorFunction:function(I6e,F6e,U6e){var k6e;k6e=F6e["Result " + u6e.name];if(k6e && typeof k6e == "object"){k6e=k6e.color;}L6EE.l8L();return k6e;}};K6e.setMainSeriesRenderer();return u6e;};s2e.Studies.displayElderForce=function(w6e,B6e,L6e){var t6e,A6e,J6e,M6e;s2e.Studies.displaySeriesAsLine(w6e,B6e,L6e);t6e=s2e.Studies.determineColor(B6e.outputs.Result);A6e=w6e.panels[B6e.panel];J6e=B6e.getYAxis(w6e);M6e={skipTransform:A6e.name != B6e.chart.name,panelName:B6e.panel,band:"Result " + B6e.name,threshold:0,color:t6e,yAxis:J6e};if(!B6e.highlight && w6e.highlightedDraggable){M6e.opacity=0.3;}M6e.direction=1;s2e.preparePeakValleyFill(w6e,M6e);M6e.direction=-1;s2e.preparePeakValleyFill(w6e,M6e);};s2e.Studies.displayElderRay=function(O6e,x6e,f6e){var N6e,C6e,v6e,X6e,Y6e,h6e,f8f,o8f,y6e;N6e=O6e.panels[x6e.panel];C6e=x6e.getContext(O6e);v6e=x6e.getYAxis(O6e);X6e=O6e.pixelFromPrice(0,N6e,v6e);L6EE.P5H(48);var Q8E=L6EE.f5H(15,56,26,17);Y6e=O6e.layout.candleWidth - Q8E;if(Y6e < 2){Y6e=1;}O6e.canvasColor("stx_histogram");h6e=C6e.fillStyle;if(!x6e.underlay){C6e.globalAlpha=1;}O6e.startClip(x6e.panel);if(!x6e.highlight && O6e.highlightedDraggable){C6e.globalAlpha*=0.3;}function d6e(n6e,G6e,e6e,l6e){L6EE.l8L();C6e.fillStyle=s2e.Studies.determineColor(x6e.outputs[e6e]);C6e.fillRect(Math.floor(O6e.pixelFromBar(n6e,N6e.chart) - Y6e / ("2" >> 2057618880) + Y6e * G6e),Math.floor(X6e),Math.floor(Y6e * (1 - 2 * G6e)),Math.floor(O6e.pixelFromPrice(y6e[x6e.name + l6e],N6e,v6e) - X6e));}for(var P6e=0;P6e < f6e.length;P6e++){f8f="Elder Be";f8f+="ar Power";o8f="_h";o8f+="ist1";y6e=f6e[P6e];if(!y6e)continue;if(y6e.candleWidth){Y6e=Math.floor(Math.max("1" * 1,y6e.candleWidth - 2));}if(y6e[x6e.name + "_hist1"] > 0){d6e(P6e,0,"Elder Bull Power","_hist1");}if(y6e[x6e.name + "_hist2"] < +"0"){d6e(P6e,+"0","Elder Bear Power","_hist2");}if(y6e[x6e.name + "_hist1"] < 0){d6e(P6e,0.1,"Elder Bull Power",o8f);}if(y6e[x6e.name + "_hist2"] > 0){d6e(P6e,0.1,f8f,"_hist2");}}O6e.endClip();C6e.fillStyle=h6e;};s2e.Studies.studyLibrary=s2e.extend(s2e.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:s2e.Studies.calculateElderForce,seriesFN:s2e.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:I8f,seriesFN:s2e.Studies.displayElderRay,calculateFN:s2e.Studies.calculateElderRay,centerline:+"0",inputs:{Period:13},outputs:{"Elder Bull Power":k8f,"Elder Bear Power":d8f}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:s2e.Studies.calculateElderImpulse,initializeFN:s2e.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:! ![],inputs:{},outputs:{Bullish:D8f,Bearish:"#DD3E39",Neutral:N8f},removeFN:function(s6e,j6e){s6e.chart.customChart=null;L6EE.t8L();s6e.setMainSeriesRenderer();}}});}};x2S=z6e=>{L6EE.l8L();var g6e,S8f,t8f,x8f;g6e=typeof _CIQ !== "undefined"?_CIQ:z6e.CIQ;if(!g6e.Studies){S8f="fractalC";S8f+="haos";S8f+=" feature requires first activating studies featu";S8f+="re.";console.error(S8f);}else {t8f="F";t8f+="ra";t8f+="ctal Chaos Bands";x8f="Fractal Chao";x8f+="s O";x8f+="scillator";g6e.Studies.calculateFractalChaos=function(o0e,Z6e){var p0U=L6EE;var a6e,i0e,c0e,R6e,l8f,H0e,E0e,m6e;a6e=Z6e.chart.scrubbed;i0e=0;p0U.t8L();c0e=0;R6e=0;if(Z6e.startFrom && Z6e.type == "Fractal Chaos Bands"){l8f="Frac";l8f+="tal High ";p0U.T5H(133);var E8E=p0U.f5H(1502193462,1502193470,19,10,1502193489);i0e=a6e[Z6e.startFrom - ("1" << E8E)][l8f + Z6e.name];p0U.P5H(3);var F8E=p0U.F5H(15,6,9,2);c0e=a6e[Z6e.startFrom - F8E]["Fractal Low " + Z6e.name];}for(var p6e=Math.max(4,Z6e.startFrom);p6e < a6e.length;p6e++){if(a6e[p6e].futureTick)break;H0e=!isNaN(a6e[p6e].High);E0e=!isNaN(a6e[p6e].Low);if(H0e || E0e){a6e[p6e]["Result " + Z6e.name]=0;}R6e=0;for(m6e=0;m6e <= p6e;m6e++){if(!a6e[p6e - m6e])break;if(a6e[p6e - m6e].High > a6e[p6e - 2].High)break;if(m6e < 2 && a6e[p6e - m6e].High == a6e[p6e - 2].High)break;if(a6e[p6e - m6e].High < a6e[p6e - +"2"].High){R6e++;}if(R6e == 4){i0e=a6e[p6e - 2].High;break;}}if(Z6e.type == "Fractal Chaos Bands"){if(H0e){a6e[p6e]["Fractal High " + Z6e.name]=i0e > ("0" & 2147483647)?i0e:null;}}else if(R6e == +"4"){a6e[p6e]["Result " + Z6e.name]=1;}R6e=0;for(m6e=0;m6e <= p6e;m6e++){if(!a6e[p6e - m6e])break;if(a6e[p6e - m6e].Low < a6e[p6e - 2].Low)break;if(m6e < 2 && a6e[p6e - m6e].Low == a6e[p6e - 2].Low)break;if(a6e[p6e - m6e].Low > a6e[p6e - 2].Low){R6e++;}if(R6e == 4){c0e=a6e[p6e - +"2"].Low;break;}}if(Z6e.type == "Fractal Chaos Bands"){if(E0e){a6e[p6e]["Fractal Low " + Z6e.name]=c0e > "0" * 1?c0e:null;}}else if(R6e == 4){a6e[p6e]["Result " + Z6e.name]=-1;}}};g6e.Studies.studyLibrary=g6e.extend(g6e.Studies.studyLibrary,{"Fractal Chaos":{name:x8f,range:"-1 to 1",calculateFN:g6e.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:t8f,overlay:! !"1",calculateFN:g6e.Studies.calculateFractalChaos,seriesFN:g6e.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};O2S=S0e=>{var g8f,r0e,T8f,m8f,u8f;g8f="undef";g8f+="ined";r0e=typeof _CIQ !== g8f?_CIQ:S0e.CIQ;if(!r0e.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {T8f="Wil";T8f+="liams %R";m8f="Lowest";m8f+=" Low Valu";m8f+="e";u8f="D";u8f+="onchian Width";r0e.Studies.calculateMaxHighMinLow=function(k0e,W0e){var P0U=L6EE;var b0e,D0e,q0e,V0e,T0e,K0e,X8f,Q0e;b0e=W0e.chart.scrubbed;D0e=W0e.days;q0e=W0e.days;if(W0e.inputs["High Period"]){D0e=W0e.inputs["High Period"];}if(W0e.inputs["Low Period"]){q0e=W0e.inputs["Low Period"];}if(b0e.length < Math.max(D0e,q0e) + 1){W0e.error=! !1;return;}V0e=Number.MAX_VALUE;P0U.T5H(40);var o8E=P0U.f5H(17,18);T0e=Number.MAX_VALUE * o8E;P0U.l8L();if(W0e.startFrom > +"1"){for(K0e=1;K0e < D0e;K0e++){if(W0e.startFrom - K0e >= 0){T0e=Math.max(T0e,b0e[W0e.startFrom - K0e].High);}}for(K0e=1;K0e < q0e;K0e++){if(W0e.startFrom - K0e >= 0){V0e=Math.min(V0e,b0e[W0e.startFrom - K0e].Low);}}}for(var u0e=Math.max(0,W0e.startFrom - 1);u0e < b0e.length;u0e++){X8f="Go";X8f+="p";X8f+="al";X8f+="a";T0e=Math.max(T0e,b0e[u0e].High);V0e=Math.min(V0e,b0e[u0e].Low);if(u0e >= D0e){if(b0e[u0e - D0e].High == T0e){T0e=b0e[u0e].High;for(K0e=+"1";K0e < D0e;K0e++){T0e=Math.max(T0e,b0e[u0e - K0e].High);}}}if(u0e >= q0e){if(b0e[u0e - q0e].Low == V0e){V0e=b0e[u0e].Low;for(K0e=1;K0e < q0e;K0e++){V0e=Math.min(V0e,b0e[u0e - K0e].Low);}}}Q0e=0;if(W0e.type == "HHV"){Q0e=T0e;}else if(W0e.type == "LLV"){Q0e=V0e;}else if(W0e.type == "Donchian Width"){P0U.T5H(0);Q0e=P0U.F5H(T0e,V0e);}else if(W0e.type == "GAPO" || W0e.type == X8f){Q0e=Math.log(T0e - V0e) / Math.log(q0e);}else if(W0e.type == "VT HZ Filter"){P0U.T5H(0);Q0e=P0U.f5H(T0e,V0e);b0e[u0e]["_MHML " + W0e.name]=Q0e;continue;}else if(W0e.type == "Williams %R"){P0U.T5H(134);var f8E=P0U.f5H(6,32,91,10,86);Q0e=f8E * (T0e - b0e[u0e].Close) / (T0e - V0e);b0e[u0e]["Result " + W0e.name]=Q0e;continue;}if(u0e == b0e.length - 1)break;if(!b0e[u0e + 1].futureTick){if(W0e.type == "Donchian Channel"){P0U.P5H(135);b0e[P0U.F5H(u0e,"1",2147483647)]["Donchian High " + W0e.name]=T0e;P0U.T5H(4);b0e[P0U.F5H(1,u0e)]["Donchian Low " + W0e.name]=V0e;P0U.T5H(4);b0e[P0U.F5H(1,u0e)]["Donchian Median " + W0e.name]=P0U.F5H(2,T0e,V0e,P0U.T5H(8));}else {P0U.T5H(4);b0e[P0U.f5H(1,u0e)]["Result " + W0e.name]=Q0e;}}}};r0e.Studies.calculateVerticalHorizontalFilter=function(t0e,F0e){var I0e,B0e,w0e,M0e;I0e=F0e.chart.scrubbed;if(I0e.length < F0e.days + 1){F0e.error=! !1;return;}F0e.mhml=new r0e.Studies.StudyDescriptor(F0e.name,F0e.type,F0e.panel);L6EE.t8L();F0e.mhml.chart=F0e.chart;F0e.mhml.days=F0e.days;F0e.mhml.startFrom=F0e.startFrom;F0e.mhml.inputs={};F0e.mhml.outputs={_MHML:null};r0e.Studies.calculateMaxHighMinLow(t0e,F0e.mhml);B0e=0;w0e=[];for(var U0e=Math.max(+"1",F0e.startFrom - F0e.days);U0e < I0e.length;U0e++){M0e=Math.abs(I0e[U0e].Close - I0e[U0e - 1].Close);w0e.push(M0e);B0e+=M0e;if(w0e.length == F0e.days){I0e[U0e]["Result " + F0e.name]=I0e[U0e]["_MHML " + F0e.name] / B0e;B0e-=w0e.shift();}}};r0e.Studies.studyLibrary=r0e.extend(r0e.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:r0e.Studies.calculateMaxHighMinLow,seriesFN:r0e.Studies.displayChannel,inputs:{"High Period":"20" & 2147483647,"Low Period":20,"Channel Fill":! !{}},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:u8f,calculateFN:r0e.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:r0e.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:r0e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:m8f,calculateFN:r0e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:T8f,calculateFN:r0e.Studies.calculateMaxHighMinLow,inputs:{Period:"14" << 47071488},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:r0e.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(x0e,L0e){L6EE.t8L();var J0e,A8f;J0e=L0e.chart.scrubbed;for(var A0e=L0e.startFrom;A0e < J0e.length;A0e++){A8f="Result";A8f+=" ";J0e[A0e][A8f + L0e.name]=J0e[A0e].High - J0e[A0e].Low;}},inputs:{}}});}};y2S=y0e=>{var K8f,O0e,Z8f,L8f,a8f,U8f;K8f="undefin";K8f+="ed";O0e=typeof _CIQ !== K8f?_CIQ:y0e.CIQ;if(!O0e.Studies){Z8f="ichimoku feature r";Z8f+="equires";Z8f+=" first activating studies feature.";console.error(Z8f);}else {L8f="#00FF0";L8f+="0";a8f="#00";a8f+="00F";a8f+="F";U8f="Ichim";U8f+="oku C";U8f+="louds";O0e.Studies.calculateIchimoku=function(n0e,C0e){var B0U=L6EE;var y8f,Y0e,N0e,P0e,d0e,W8f,i8f,f0e,G8f,h0e,G0e,P8f,B8f,v0e;y8f="L";y8f+="eading ";y8f+="Span B ";y8f+="Period";Y0e=C0e.chart.scrubbed;N0e={Base:Number(C0e.inputs["Base Line Period"]),Conv:Number(C0e.inputs["Conversion Line Period"]),LeadB:Number(C0e.inputs[y8f]),Lag:Number(C0e.inputs["Lagging Span Period"])};for(P0e=C0e.startFrom;P0e < Y0e.length;P0e++){W8f="Ba";W8f+="se L";W8f+="ine ";i8f="Conversi";i8f+="on";i8f+=" Line ";if(!Y0e[P0e])continue;d0e=X0e(N0e.Conv,P0e);B0U.P5H(136);var I8E=B0U.f5H(19,678245139,40016463125,5,12);B0U.T5H(97);var k8E=B0U.f5H(34,19,19,17);Y0e[P0e][i8f + C0e.name]=(d0e["1" << I8E] + d0e[0]) / k8E;d0e=X0e(N0e.Base,P0e);B0U.P5H(0);var d8E=B0U.F5H(16,15);B0U.T5H(0);var D8E=B0U.F5H(12,10);Y0e[P0e][W8f + C0e.name]=(d0e[d8E] + d0e[0]) / D8E;if(P0e < N0e.Lag)continue;Y0e[P0e - N0e.Lag]["Lagging Span " + C0e.name]=Y0e[P0e].Close;}f0e=[];B0U.t8L();for(P0e=Math.max(0,C0e.startFrom - N0e.Base);P0e < Y0e.length;P0e++){G8f="Conversio";G8f+="n Line ";d0e=X0e(N0e.LeadB,P0e);B0U.T5H(49);var N8E=B0U.F5H(1,3,5);h0e=(Y0e[P0e][G8f + C0e.name] + Y0e[P0e]["Base Line " + C0e.name]) / N8E;B0U.P5H(40);var S8E=B0U.F5H(6,5);B0U.P5H(40);var l8E=B0U.f5H(14,12);G0e=(d0e[S8E] + d0e["0" - 0]) / l8E;if(Y0e[P0e + N0e.Base]){P8f="Leading";P8f+=" Spa";P8f+="n";P8f+=" B ";B8f="Lea";B8f+="ding";B8f+=" Span";B8f+=" A ";Y0e[P0e + N0e.Base][B8f + C0e.name]=h0e;Y0e[P0e + N0e.Base][P8f + C0e.name]=G0e;}else {v0e={};v0e["Leading Span A " + C0e.name]=h0e;v0e["Leading Span B " + C0e.name]=G0e;f0e.push(v0e);}}function X0e(g0e,j0e){var l0e,s0e;l0e=Number.MAX_VALUE;B0U.P5H(125);var x8E=B0U.f5H(12,155,13);s0e=Number.MAX_VALUE * x8E;for(var e0e=j0e - g0e + "1" * 1;e0e <= j0e;e0e++){if(e0e < 0)continue;l0e=Math.min(l0e,Y0e[e0e].Low);s0e=Math.max(s0e,Y0e[e0e].High);}return [l0e,s0e];}C0e.appendFutureTicks(n0e,f0e);};O0e.Studies.displayIchimoku=function(p0e,z0e,E9e){var V8f,a0e,m0e,i9e,c9e,H9e,Z0e,R0e;V8f="L";V8f+="eadi";V8f+="ng Span ";V8f+="A ";a0e=V8f + z0e.name;m0e="Leading Span B " + z0e.name;i9e=O0e.Studies.determineColor(z0e.outputs[z0e.outputMap[a0e]]);c9e=O0e.Studies.determineColor(z0e.outputs[z0e.outputMap[m0e]]);H9e=p0e.panels[z0e.panel];Z0e=z0e.getYAxis(p0e);R0e={topBand:a0e,bottomBand:m0e,topColor:i9e,bottomColor:c9e,skipTransform:H9e.name != z0e.chart.name,topAxis:Z0e,bottomAxis:Z0e,opacity:0.3};if(!z0e.highlight && p0e.highlightedDraggable){R0e.opacity*=0.3;}O0e.fillIntersecting(p0e,z0e.panel,R0e);O0e.Studies.displaySeriesAsLine(p0e,z0e,E9e);};O0e.Studies.studyLibrary=O0e.extend(O0e.Studies.studyLibrary,{"Ichimoku Clouds":{name:U8f,overlay:! ![],calculateFN:O0e.Studies.calculateIchimoku,seriesFN:O0e.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":a8f,"Base Line":"#FF0000","Leading Span A":L8f,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};P2S=r9e=>{var o9e;o9e=typeof _CIQ !== "undefined"?_CIQ:r9e.CIQ;if(!o9e.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {o9e.Studies.calculateIntradayMomentum=function(q9e,S9e){var u0U=L6EE;var W9e,T9e,u9e,K9e,R8f,V9e,Q9e;W9e=S9e.chart.scrubbed;T9e=S9e.days;if(W9e.length < T9e + ("1" | 1)){S9e.error=!"";return;}u9e=0;K9e=0;if(S9e.startFrom > +"1"){u0U.P5H(10);var t8E=u0U.F5H(10,6,15);u9e=W9e[S9e.startFrom - t8E]["_totUp " + S9e.name];K9e=W9e[S9e.startFrom - ("1" & 2147483647)]["_totDn " + S9e.name];}for(var b9e=S9e.startFrom;b9e < W9e.length;b9e++){R8f="_t";R8f+="ot";R8f+="Dn ";V9e=W9e[b9e].Close - W9e[b9e].Open;if(V9e > 0){u9e+=V9e;}else {K9e-=V9e;}if(b9e >= T9e){Q9e=W9e[b9e - T9e].Close - W9e[b9e - T9e].Open;if(Q9e > 0){u9e-=Q9e;}else {K9e+=Q9e;}}u0U.P5H(137);W9e[b9e]["Result " + S9e.name]=u0U.f5H(u9e,100,u9e,K9e);W9e[b9e]["_totUp " + S9e.name]=u9e;W9e[b9e][R8f + S9e.name]=K9e;}};o9e.Studies.studyLibrary=o9e.extend(o9e.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:o9e.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:"auto"}}}});}};C2S=k9e=>{var r8f,D9e,j8f,C8f;r8f="und";r8f+="efin";r8f+="e";r8f+="d";D9e=typeof _CIQ !== r8f?_CIQ:k9e.CIQ;L6EE.l8L();if(!D9e.Studies){console.error("keltner feature requires first activating studies feature.");}else {j8f="au";j8f+="t";j8f+="o";C8f="au";C8f+="t";C8f+="o";D9e.Studies.calculateKeltner=function(I9e,F9e){var n8f,H8f;n8f="C";n8f+="lose";H8f="Moving Avera";H8f+="ge Type";L6EE.l8L();D9e.Studies.MA(F9e.inputs[H8f],F9e.days,n8f,0,"MA",I9e,F9e);D9e.Studies.calculateStudyATR(I9e,F9e);D9e.Studies.calculateGenericEnvelope(I9e,F9e,F9e.inputs.Shift,"MA " + F9e.name,"ATR " + F9e.name);};D9e.Studies.studyLibrary=D9e.extend(D9e.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !{},seriesFN:D9e.Studies.displayChannel,calculateFN:D9e.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !{}},outputs:{"Keltner Top":"auto","Keltner Median":C8f,"Keltner Bottom":j8f},attributes:{Shift:{min:+"0.1",step:0.1}}}});}};Y2S=B9e=>{var d3P,D3P,N3P,U9e,q8f,Y6f,h6f,M6f;d3P=+"362287698";D3P=-1075102742;N3P=2;for(var l3P=1;L6EE.v4P(l3P.toString(),l3P.toString().length,32244) !== d3P;l3P++){U9e=!_CIQ === ""?_CIQ:B9e.CIQ;N3P+=2;}L6EE.l8L();if(L6EE.v4P(N3P.toString(),N3P.toString().length,6856) !== D3P){q8f="u";q8f+="nd";q8f+="efined";U9e=typeof _CIQ !== q8f?_CIQ:B9e.CIQ;}if(!U9e.Studies){console.error("klinger feature requires first activating studies feature.");}else {Y6f="#F";Y6f+="F000";Y6f+="0";h6f="aut";h6f+="o";M6f="Klinger";M6f+=" Vo";M6f+="lume Osci";M6f+="llator";U9e.Studies.calculateKlinger=function(O9e,M9e){var v6f,c8f,b8f,e8f,J8f,t9e,y9e,A9e,P9e,J9e,N9e,L9e,C9e,Y9e,w9e,x9e;v6f="K";v6f+="linge";v6f+="rSignal";c8f="Si";c8f+="gnal Periods";b8f="_E";b8f+="MA-";b8f+="L";e8f="_";e8f+="SV";e8f+=" ";J8f="Kli";J8f+="ngerSignal ";t9e=M9e.chart.scrubbed;y9e=Number(M9e.inputs["Short Cycle"]);A9e=Number(M9e.inputs["Long Cycle"]);if(t9e.length < Math.max(y9e,A9e) + 1){M9e.error=! !{};return;}P9e=M9e.name + "_hist";J9e="Klinger " + M9e.name;N9e=J8f + M9e.name;L9e=e8f + M9e.name;C9e="_EMA-S " + M9e.name;Y9e="_EMA-L " + M9e.name;for(w9e=Math.max("1" ^ 0,M9e.startFrom);w9e < t9e.length;w9e++){x9e=t9e[w9e].Volume;if(t9e[w9e]["hlc/3"] < t9e[w9e - 1]["hlc/3"]){L6EE.T5H(1);x9e*=-L6EE.f5H("1",1);}if(x9e){t9e[w9e][L9e]=x9e;}}U9e.Studies.MA("exponential",y9e,L9e,0,"_EMA-S",O9e,M9e);U9e.Studies.MA("exponential",A9e,L9e,0,b8f,O9e,M9e);for(w9e=Math.max(A9e,M9e.startFrom);w9e < t9e.length;w9e++){if(t9e[w9e].futureTick || t9e[w9e][C9e] === null || t9e[w9e][Y9e] === null)break;t9e[w9e][J9e]=t9e[w9e][C9e] - t9e[w9e][Y9e];}U9e.Studies.MA("exponential",Number(M9e.inputs[c8f]),J9e,0,v6f,O9e,M9e);for(w9e=M9e.startFrom;w9e < t9e.length;w9e++){t9e[w9e][P9e]=t9e[w9e][J9e] - t9e[w9e][N9e];}M9e.outputMap[P9e]="";};U9e.Studies.studyLibrary=U9e.extend(U9e.Studies.studyLibrary,{Klinger:{name:M6f,seriesFN:U9e.Studies.displayHistogramWithSeries,calculateFN:U9e.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:h6f,KlingerSignal:Y6f,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};N2S=v9e=>{L6EE.l8L();var d9e,s6f,N6f,D6f,d6f,k6f,I6f,f6f,o6f,O6f,p6f;d9e=typeof _CIQ !== "undefined"?_CIQ:v9e.CIQ;if(!d9e.Studies){s6f="linearRegression feature requires f";s6f+="irst activa";s6f+="ting studies feature";s6f+=".";console.error(s6f);}else {N6f="au";N6f+="t";N6f+="o";D6f="fie";D6f+="ld";d6f="Time";d6f+=" Seri";d6f+="e";d6f+="s Forecast";k6f="a";k6f+="u";k6f+="t";k6f+="o";I6f="a";I6f+="u";I6f+="to";f6f="Linea";f6f+="r";f6f+=" R";f6f+="eg R2";o6f="Linear Reg I";o6f+="ntercept";O6f="time";O6f+=" se";O6f+="r";O6f+="ies";p6f="t";p6f+="s";p6f+="m";p6f+="a";d9e.Studies.prettify["time series"]=p6f;d9e.Studies.movingAverage.conversions.tsma="time series";d9e.Studies.movingAverage.translations[O6f]="Time Series";d9e.Studies.movingAverage.typeMap.tsma="TimeSeries";d9e.Studies.movingAverage.typeMap["time series"]="TimeSeries";d9e.Studies.calculateMovingAverageTimeSeries=function(z9e,X9e){var z36=L6EE;var G9e,h9e,n9e,e9e,l9e,s9e,j9e,z6f,g9e;X9e.ma=new d9e.Studies.StudyDescriptor(X9e.name,"ma",X9e.panel);X9e.ma.chart=X9e.chart;X9e.ma.days=X9e.days;X9e.ma.startFrom=X9e.startFrom;X9e.ma.inputs=X9e.inputs;d9e.Studies.calculateLinearRegressionIndicator(z9e,X9e.ma);G9e=X9e.name;for(var p9e in X9e.outputs){z36.P5H(91);G9e=z36.F5H(" ",G9e,p9e);}h9e=parseInt(X9e.inputs.Offset,10);if(isNaN(h9e)){h9e=0;}n9e=X9e.chart.scrubbed;e9e=h9e;for(var f9e=X9e.startFrom - 1;f9e >= 0;f9e--){l9e=n9e[f9e][G9e];if(!l9e && l9e !== 0)continue;if(e9e > 0){e9e--;continue;}break;}s9e=[];for(f9e++;f9e < n9e.length;f9e++){j9e=n9e[f9e];if(f9e + h9e >= 0){z6f="Fo";z6f+="recas";z6f+="t ";if(f9e + h9e < n9e.length){z36.T5H(4);n9e[z36.f5H(h9e,f9e)][G9e]=j9e[z6f + X9e.name];}else {g9e={};g9e[G9e]=j9e["Forecast " + X9e.name];s9e.push(g9e);}}}X9e.appendFutureTicks(z9e,s9e);};d9e.Studies.calculateLinearRegressionIndicator=function(V1e,a9e){var G36=L6EE;var Z9e,H1e,r1e,b1e,u1e,i1e,S1e,E1e,W1e,F6f,E6f,Q6f,w6f,R9e,c1e,o1e,K1e,T1e;Z9e=a9e.chart.scrubbed;if(Z9e.length < a9e.days + 1){a9e.error=! !1;return;}H1e=a9e.inputs.Field;if(!H1e || H1e == "field"){H1e="Close";}G36.P5H(128);var g8E=G36.f5H(14,1,13);G36.P5H(138);var X8E=G36.F5H(20,7,36,4,20);r1e=a9e.days * (a9e.days + g8E) / X8E;b1e=Math.pow(r1e,2);G36.P5H(49);var u8E=G36.f5H(3,2,12);G36.P5H(38);var m8E=G36.F5H(14,6,2,20);G36.T5H(54);var T8E=G36.F5H(35,20,20,6);u1e=r1e * (u8E * a9e.days + m8E) / ("3" * T8E);i1e=0;S1e=0;G36.T5H(23);E1e=G36.f5H(0,"0");if(a9e.startFrom){G36.P5H(0);var A8E=G36.F5H(11,10);W1e=Z9e[a9e.startFrom - A8E]["_sums " + a9e.name];if(W1e){S1e=W1e[0];i1e=W1e[1];E1e=W1e[2];}}for(var m9e=a9e.startFrom;m9e < Z9e.length;m9e++){F6f="Forec";F6f+="ast ";E6f="In";E6f+="te";E6f+="r";E6f+="cept ";Q6f="Slop";Q6f+="e ";w6f="o";w6f+="b";w6f+="jec";w6f+="t";R9e=Z9e[m9e][H1e];if(R9e && typeof R9e == w6f){R9e=R9e[a9e.subField];}if(!R9e && R9e !== 0)continue;S1e+=a9e.days * R9e - i1e;i1e+=R9e;E1e+=Math.pow(R9e,2);if(m9e < a9e.days - 1)continue;else if(m9e > a9e.days - 1){c1e=Z9e[m9e - a9e.days][H1e];if(c1e && typeof c1e == "object"){c1e=c1e[a9e.subField];}if(!c1e && c1e !== +"0")continue;i1e-=c1e;E1e-=Math.pow(c1e,2);}o1e=(a9e.days * S1e - r1e * i1e) / (a9e.days * u1e - b1e);Z9e[m9e][Q6f + a9e.name]=o1e;K1e=(i1e - o1e * r1e) / a9e.days;Z9e[m9e][E6f + a9e.name]=K1e;Z9e[m9e][F6f + a9e.name]=K1e + o1e * a9e.days;G36.P5H(115);var K8E=G36.F5H(38,16,160,3);T1e=(a9e.days * u1e - b1e) / (a9e.days * E1e - Math.pow(i1e,K8E));G36.T5H(52);Z9e[m9e]["RSquared " + a9e.name]=G36.F5H(o1e,T1e,o1e);Z9e[m9e]["_sums " + a9e.name]=[S1e,i1e,E1e];}};d9e.Studies.studyLibrary=d9e.extend(d9e.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:d9e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:o6f,overlay:!"",calculateFN:d9e.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" | 2,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:f6f,calculateFN:d9e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:I6f}},"LR Slope":{name:"Linear Reg Slope",calculateFN:d9e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:k6f}},"Time Fcst":{name:d6f,overlay:! !1,calculateFN:d9e.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:D6f},outputs:{Forecast:N6f}}});}};d2S=q1e=>{var S6f,Q1e,l6f,m6f;S6f="undefi";S6f+="n";S6f+="e";L6EE.t8L();S6f+="d";Q1e=typeof _CIQ !== S6f?_CIQ:q1e.CIQ;if(!Q1e.Studies){l6f="macd feat";l6f+="ure requires first activating studies feature.";console.error(l6f);}else {m6f="M";m6f+="A";m6f+="C";m6f+="D";Q1e.Studies.calculateMACD=function(A1e,D1e){var g36=L6EE;var t6f,x6f,U1e,B1e,k1e,w1e,M1e,I1e,F1e,J1e,u6f,X6f,g6f,t1e,L1e,x1e;t6f="e";t6f+="xpo";t6f+="nential";x6f="Signal Peri";x6f+="o";x6f+="d";U1e=D1e.chart.scrubbed;B1e=D1e.inputs;k1e=D1e.name;if(!D1e.macd1Days){D1e.macd1Days=parseFloat(B1e["Fast MA Period"]);}if(!D1e.macd2Days){D1e.macd2Days=parseFloat(B1e["Slow MA Period"]);}if(!D1e.signalDays){D1e.signalDays=parseFloat(B1e[x6f]);}if(!D1e.days){D1e.days=Math.max(D1e.macd1Days,D1e.macd2Days,D1e.signalDays);}if(U1e.length < D1e.days + +"1"){D1e.error=!"";return;}w1e=D1e.inputs.Field;if(!w1e || w1e == "field"){w1e="Close";}M1e=B1e["Moving Average Type"];if(!M1e){M1e=t6f;}Q1e.Studies.MA(M1e,D1e.macd1Days,w1e,0,"_MACD1",A1e,D1e);Q1e.Studies.MA(M1e,D1e.macd2Days,w1e,0,"_MACD2",A1e,D1e);J1e=Math.max(D1e.startFrom,D1e.days - 1);for(I1e=J1e;I1e < U1e.length;I1e++){u6f="_MAC";u6f+="D1 ";X6f="_MA";X6f+="CD";X6f+="2";X6f+=" ";g6f="_MA";g6f+="C";g6f+="D";g6f+="1 ";F1e=U1e[I1e];if((F1e["_MACD1 " + k1e] || F1e[g6f + k1e] === 0) && (F1e["_MACD2 " + k1e] || F1e[X6f + k1e] === 0)){g36.T5H(4);F1e[g36.F5H(k1e,"MACD ")]=F1e[u6f + k1e] - F1e["_MACD2 " + k1e];}}t1e=B1e["Signal MA Type"];if(!t1e){t1e="exponential";}Q1e.Studies.MA(t1e,D1e.signalDays,"MACD " + k1e,0,"Signal",A1e,D1e);g36.P5H(4);L1e=g36.f5H("_hist",k1e);for(I1e=J1e;I1e < U1e.length;I1e++){F1e=U1e[I1e];g36.P5H(4);x1e=F1e[g36.F5H(k1e,"Signal ")];if(!x1e && x1e !== 0)continue;F1e[L1e]=F1e["MACD " + k1e] - F1e["Signal " + k1e];}D1e.outputMap[L1e]="";};Q1e.Studies.studyLibrary=Q1e.extend(Q1e.Studies.studyLibrary,{macd:{name:m6f,calculateFN:Q1e.Studies.calculateMACD,seriesFN:Q1e.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};v2S=y1e=>{var O1e;L6EE.t8L();O1e=typeof _CIQ !== "undefined"?_CIQ:y1e.CIQ;if(!O1e.Studies){console.error("massIndex feature requires first activating studies feature.");}else {O1e.Studies.calculateMassIndex=function(v1e,P1e){var Z36=L6EE;var A6f,T6f,C1e,d1e,K6f,Z6f;A6f="_to";A6f+="t";A6f+="al";A6f+=" ";T6f="_Hig";T6f+="h";T6f+="-Low ";C1e=P1e.chart.scrubbed;if(C1e.length < Math.max(9,P1e.days + 1)){P1e.error=! ![];return;}for(var N1e=P1e.startFrom;N1e < C1e.length;N1e++){C1e[N1e]["_High-Low " + P1e.name]=C1e[N1e].High - C1e[N1e].Low;}Z36.P5H(30);O1e.Studies.MA("exponential",Z36.f5H(0,"9"),T6f + P1e.name,0,"_EMA",v1e,P1e);O1e.Studies.MA("exponential",9,"_EMA " + P1e.name,0,"_EMA2",v1e,P1e);d1e=0;if(C1e[P1e.startFrom - 1] && C1e[P1e.startFrom - +"1"][A6f + P1e.name]){Z36.P5H(139);var Z8E=Z36.f5H(23,8,8,7,15);d1e=C1e[P1e.startFrom - Z8E]["_total " + P1e.name];}for(var Y1e=Math.max(17,P1e.startFrom);Y1e < C1e.length;Y1e++){K6f="_";K6f+="E";K6f+="M";K6f+="A ";d1e+=C1e[Y1e][K6f + P1e.name] / C1e[Y1e]["_EMA2 " + P1e.name];if(Y1e >= 17 + P1e.days - +"1"){Z6f="_";Z6f+="E";Z6f+="MA2";Z6f+=" ";C1e[Y1e]["Result " + P1e.name]=d1e;Z36.T5H(131);var y8E=Z36.f5H(7,9,0,1);Z36.P5H(140);var i8E=Z36.F5H(3,77,12,19);d1e-=C1e[Y1e - P1e.days + y8E]["_EMA " + P1e.name] / C1e[Y1e - P1e.days + i8E][Z6f + P1e.name];}C1e[Y1e]["_total " + P1e.name]=d1e;}};O1e.Studies.displayMassIndex=function(f1e,X1e,l1e){var i6f,y6f,h1e,s1e,G1e,n1e,e1e;i6f="Re";i6f+="s";i6f+="ult";i6f+=" ";y6f="Bu";y6f+="lg";y6f+="e Thresho";y6f+="ld";O1e.Studies.displaySeriesAsLine(f1e,X1e,l1e);h1e=X1e.inputs[y6f];s1e=f1e.panels[X1e.panel];G1e=X1e.getYAxis(f1e);n1e=O1e.Studies.determineColor(X1e.outputs.Result);e1e={skipTransform:f1e.panels[X1e.panel].name != X1e.chart.name,panelName:X1e.panel,band:i6f + X1e.name,threshold:h1e,direction:1,color:n1e,yAxis:G1e,opacity:+"0.3"};if(!X1e.highlight && f1e.highlightedDraggable){e1e.opacity*=0.3;}O1e.preparePeakValleyFill(f1e,e1e);O1e.Studies.drawHorizontal(f1e,X1e,null,h1e,G1e,n1e);};O1e.Studies.studyLibrary=O1e.extend(O1e.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:O1e.Studies.displayMassIndex,calculateFN:O1e.Studies.calculateMassIndex,inputs:{Period:+"25","Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};X2S=g1e=>{L6EE.l8L();var j1e,G6f;j1e=typeof _CIQ !== "undefined"?_CIQ:g1e.CIQ;if(!j1e.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {G6f="0 ";G6f+="to ";G6f+="100";j1e.Studies.calculateMoneyFlowIndex=function(W7e,a1e){var F36=L6EE;var p1e,N6P,S6P,l6P,Z1e,m1e,i7e,o7e,c7e,r7e,W6f,H7e,S7e,R1e,E7e;p1e=a1e.chart.scrubbed;if(p1e.length < a1e.days + 1){a1e.error=! ![];N6P=373264;F36.T5H(0);S6P=F36.f5H("1914186761",0);F36.P5H(15);l6P=F36.F5H("2",571779136);for(var t6P=1;F36.v4P(t6P.toString(),t6P.toString().length,17578) !== N6P;t6P++){return;}if(F36.c2P(l6P.toString(),l6P.toString().length,455) !== S6P){return;}}Z1e=0;m1e=0;i7e=p1e[a1e.startFrom - +"1"];o7e="_rawMF " + a1e.name;c7e="_cumMF " + a1e.name;r7e="Result " + a1e.name;if(i7e && i7e[c7e]){Z1e=i7e[c7e][0];m1e=i7e[c7e][1];}for(var z1e=a1e.startFrom;z1e < p1e.length;z1e++){W6f="hl";W6f+="c/3";H7e=p1e[z1e][W6f];if(z1e > 0 && !p1e[z1e].futureTick){F36.T5H(0);S7e=p1e[F36.f5H(z1e,1)]["hlc/3"];R1e=H7e * p1e[z1e].Volume;if(H7e > S7e){Z1e+=R1e;}else if(H7e < S7e){F36.P5H(30);R1e*=-F36.F5H(0,"1");m1e-=R1e;}else {R1e=0;}if(z1e > a1e.days){E7e=p1e[z1e - a1e.days][o7e];if(E7e > 0){Z1e-=E7e;}else {m1e+=E7e;}if(m1e === 0){p1e[z1e][r7e]=+"100";}else if(p1e[z1e].Volume){F36.P5H(141);p1e[z1e][r7e]=F36.F5H("100",Z1e,0,1,100,m1e);}}p1e[z1e][o7e]=R1e;p1e[z1e][c7e]=[Z1e,m1e];}}};j1e.Studies.studyLibrary=j1e.extend(j1e.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:G6f,calculateFN:j1e.Studies.calculateMoneyFlowIndex,inputs:{Period:"14" << 2024347200},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};f2S=u7e=>{var b7e,h3f,M3f,v3f,V6f,P6f,B6f;b7e=typeof _CIQ !== "undefined"?_CIQ:u7e.CIQ;if(!b7e.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {h3f="m";h3f+="a";M3f="M";M3f+="oving";M3f+=" Average Deviation";v3f="Moving Avera";v3f+="ge Envelope";V6f="TripleExpon";V6f+="ential";P6f="Hu";P6f+="l";P6f+="l";B6f="t";B6f+="ema";b7e.Studies.prettify=b7e.extend({"2-exponential":"dema","3-exponential":B6f,hull:"hma"},b7e.Studies.prettify);b7e.extend(b7e.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:P6f,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:V6f,"3-exponential":"TripleExponential"}});b7e.Studies.calculateMovingAverageHull=function(I7e,K7e){var r6f,a6f,U6f,V7e,Q7e,T7e,q7e,R6f,L6f,D7e,k7e,U7e,F7e,H6f;r6f="_";r6f+="HMA";a6f="w";a6f+="m";a6f+="a";U6f="_W";U6f+="M";U6f+="A";U6f+="1";V7e=K7e.chart.scrubbed;Q7e=K7e.inputs.Field;if(!Q7e || Q7e == "field"){Q7e="Close";}b7e.Studies.MA("wma",K7e.days,Q7e,"0" | 0,U6f,I7e,K7e);b7e.Studies.MA(a6f,Math.ceil(K7e.days / 2),Q7e,"0" << 1443732064,"_WMA2",I7e,K7e);for(T7e=K7e.startFrom - 1;T7e >= 0;T7e--){q7e=V7e[T7e][Q7e];if(q7e && typeof q7e == "object"){q7e=q7e[K7e.subField];}if(q7e || q7e === 0)break;}for(T7e++;T7e < V7e.length;T7e++){R6f="_WM";R6f+="A2 ";L6f="_";L6f+="M";L6f+="MA";L6f+=" ";D7e=V7e[T7e];D7e[L6f + K7e.name]=+"2" * D7e[R6f + K7e.name] - D7e["_WMA1 " + K7e.name];}k7e=parseInt(K7e.inputs.Offset,10);if(isNaN(k7e)){k7e=0;}U7e=Math.floor(Math.sqrt(K7e.days));b7e.Studies.MA("wma",U7e,"_MMA " + K7e.name,k7e,r6f,I7e,K7e);F7e=K7e.name;for(var B7e in K7e.outputs){L6EE.P5H(91);F7e=L6EE.F5H((14.5,7960) == +"612.56"?"0x1726" * 1:"1090" << 219713184 < (+"8720","6970" << 1656112896)?" ":(7688,3414) < (231,1260)?8.08e+3:(0x166,"K"),F7e,B7e);}for(T7e=Math.max(K7e.days + U7e - 1,K7e.startFrom);T7e < V7e.length;T7e++){H6f="_H";H6f+="M";H6f+="A";H6f+=" ";V7e[T7e][F7e]=V7e[T7e][H6f + K7e.name];}};b7e.Studies.calculateMovingAverageDoubleExponential=function(O7e,w7e){var D36=L6EE;var C6f,n6f,J7e,L7e,t7e,M7e,A7e,y7e,x7e,P7e,C7e,Y7e,N7e;C6f="e";C6f+="m";C6f+="a";n6f="f";n6f+="i";n6f+="e";n6f+="ld";J7e=w7e.chart.scrubbed;L7e=w7e.inputs.Field;if(!L7e || L7e == n6f){L7e="Close";}b7e.Studies.MA("ema",w7e.days,L7e,0,"_EMA1",O7e,w7e);b7e.Studies.MA(C6f,w7e.days,"_EMA1 " + w7e.name,0,"_EMA2",O7e,w7e);t7e=parseInt(w7e.inputs.Offset,10);if(isNaN(t7e)){t7e=0;}y7e=t7e;for(M7e=w7e.startFrom - 1;M7e >= "0" << 371565408;M7e--){A7e=J7e[M7e][L7e];if(A7e && typeof A7e == "object"){A7e=A7e[w7e.subField];}if(!A7e && A7e !== 0)continue;if(y7e > 0){y7e--;continue;}break;}x7e=w7e.name;for(var d7e in w7e.outputs){D36.P5H(91);x7e=D36.F5H((377.99,415.95) == 8960?(0x122c,+"7.27e+3"):" ",x7e,d7e);}P7e=[];for(M7e++;M7e < J7e.length;M7e++){if(M7e < 2 * (w7e.days - 1))continue;C7e=J7e[M7e];D36.T5H(142);var W8E=D36.F5H(9,17,15,291,19);Y7e=W8E * C7e["_EMA1 " + w7e.name] - C7e["_EMA2 " + w7e.name];if(M7e + t7e >= 0){if(M7e + t7e < J7e.length){D36.T5H(4);J7e[D36.f5H(t7e,M7e)][x7e]=Y7e;}else {N7e={};N7e[x7e]=Y7e;P7e.push(N7e);}}}w7e.appendFutureTicks(O7e,P7e);};b7e.Studies.calculateMovingAverageTripleExponential=function(l7e,v7e){var v36=L6EE;var j6f,G7e,n7e,f7e,X7e,h7e,j7e,e7e,g7e,q6f,s7e,z7e,p7e;j6f="_";j6f+="EM";j6f+="A3";G7e=v7e.chart.scrubbed;n7e=v7e.inputs.Field;if(!n7e || n7e == "field"){n7e="Close";}b7e.Studies.MA("ema",v7e.days,n7e,0,"_EMA1",l7e,v7e);b7e.Studies.MA("ema",v7e.days,"_EMA1 " + v7e.name,0,"_EMA2",l7e,v7e);b7e.Studies.MA("ema",v7e.days,"_EMA2 " + v7e.name,0,j6f,l7e,v7e);f7e=parseInt(v7e.inputs.Offset,10);if(isNaN(f7e)){f7e=+"0";}j7e=f7e;for(X7e=v7e.startFrom - 1;X7e >= 0;X7e--){h7e=G7e[X7e][n7e];if(h7e && typeof h7e == "object"){h7e=h7e[v7e.subField];}if(!h7e && h7e !== 0)continue;if(j7e > 0){j7e--;continue;}break;}e7e=v7e.name;for(var a7e in v7e.outputs){v36.P5H(91);e7e=v36.F5H(5970 < (5640,3070)?(124.95,+"201.12") != 519.71?9970 >= (291.09,+"4650")?7.32e+3:! !1:0x68d:" ",e7e,a7e);}g7e=[];for(X7e++;X7e < G7e.length;X7e++){q6f="_EM";q6f+="A1";q6f+=" ";if(X7e < 3 * (v7e.days - 1))continue;s7e=G7e[X7e];v36.P5H(6);var G8E=v36.f5H(18,42,27);z7e=+"3" * s7e[q6f + v7e.name] - G8E * s7e["_EMA2 " + v7e.name] + s7e["_EMA3 " + v7e.name];if(X7e + f7e >= 0){if(X7e + f7e < G7e.length){v36.P5H(4);G7e[v36.f5H(f7e,X7e)][e7e]=z7e;}else {p7e={};p7e[e7e]=z7e;g7e.push(p7e);}}}v7e.appendFutureTicks(l7e,g7e);};b7e.Studies.calculateMAEnvelope=function(c4e,m7e){var X36=L6EE;var e6f,Z7e,R7e,i4e,W6P,G6P,B6P,J6f;e6f="perc";e6f+="e";e6f+="n";e6f+="t";Z7e=m7e.inputs.Field;if(!Z7e || Z7e == "field"){Z7e="Close";}b7e.Studies.MA(m7e.inputs["Moving Average Type"],m7e.days,Z7e,0,"MA",c4e,m7e);R7e=m7e.inputs["Shift Type"];i4e=m7e.inputs.Shift;if(!R7e){R7e="percent";W6P=1098932454;G6P=-1185032515;B6P=2;for(var V6P=1;X36.c2P(V6P.toString(),V6P.toString().length,"11549" ^ 0) !== W6P;V6P++){J6f="Shift";J6f+=" Percentage";i4e=m7e.inputs[J6f];X36.T5H(1);B6P+=X36.f5H("2",1);}if(X36.c2P(B6P.toString(),B6P.toString().length,85891) !== G6P){i4e=m7e.inputs[""];}}if(R7e == e6f){X36.P5H(13);b7e.Studies.calculateGenericEnvelope(c4e,m7e,X36.F5H(i4e,100),"MA " + m7e.name);}else if(R7e == "points"){b7e.Studies.calculateGenericEnvelope(c4e,m7e,null,"MA " + m7e.name,null,Number(i4e));}};b7e.Studies.calculateMADev=function(V4e,H4e){var a36=L6EE;var c6f,b6f,M3P,h3P,Y3P,W4e,o4e,b4e,u4e,T4e,r4e,E4e,S4e;c6f="Moving A";a36.l8L();c6f+="verage Type";b6f="C";b6f+="l";b6f+="o";b6f+="se";M3P=1360601274;h3P=-559144945;Y3P=2;for(var p3P=1;a36.v4P(p3P.toString(),p3P.toString().length,26929) !== M3P;p3P++){W4e=H4e.chart.scrubbed;Y3P+=2;}if(a36.c2P(Y3P.toString(),Y3P.toString().length,"41357" >> 1065379488) !== h3P){W4e=H4e.chart.scrubbed;}if(W4e.length < H4e.days + 1){H4e.error=! ![];return;}o4e=H4e.inputs.Field;if(!o4e || o4e == "field"){o4e=b6f;}b4e=H4e.inputs["Points Or Percent"];if(!b4e){b4e="Points";}u4e=H4e.inputs[c6f];if(!u4e){u4e="exponential";}b7e.Studies.MA(u4e,H4e.days,o4e,+"0","_MA",V4e,H4e);T4e=H4e.name + "_hist";for(var K4e=Math.max(H4e.startFrom,H4e.days - 1);K4e < W4e.length;K4e++){r4e=W4e[K4e];E4e=r4e[o4e];if(E4e && typeof E4e == "object"){E4e=E4e[H4e.subField];}S4e=r4e["_MA " + H4e.name];if(S4e || S4e === 0){if(b4e == "Points"){a36.T5H(0);r4e[T4e]=a36.f5H(E4e,S4e);}else {a36.P5H(143);r4e[T4e]=a36.F5H(E4e,100,S4e,"1");}}}H4e.outputMap={};H4e.outputMap[H4e.name + "_hist"]="";};b7e.Studies.studyLibrary=b7e.extend(b7e.Studies.studyLibrary,{"MA Env":{name:v3f,overlay:! ![],seriesFN:b7e.Studies.displayChannel,calculateFN:b7e.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"MA Dev":{name:M3f,calculateFN:b7e.Studies.calculateMADev,seriesFN:b7e.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":h3f,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! !{},seriesFN:b7e.Studies.displayChannel,calculateFN:function(q4e,Q4e){Q4e.inputs["Moving Average Type"]="triangular";b7e.Studies.calculateMAEnvelope(q4e,Q4e);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:+"0.1",step:+"0.1"}}}});}};h2S=k4e=>{var D4e,Y3f;L6EE.l8L();D4e=typeof _CIQ !== "undefined"?_CIQ:k4e.CIQ;if(!D4e.Studies){Y3f="p";Y3f+="ar";Y3f+="abolicSAR feature requires first activ";Y3f+="ating studies feature.";console.error(Y3f);}else {D4e.Studies.calculatePSAR=function(C4e,w4e){var k36=L6EE;var s3f,F4e,M4e,U4e,t4e,B4e,L4e,x4e,p3f,A4e,O3f,J4e,O4e,y4e;s3f="M";s3f+="i";s3f+="nimum";s3f+=" AF";k36.t8L();F4e=w4e.chart.scrubbed;M4e=0;U4e=null;t4e=! !"";B4e=+"0";L4e=parseFloat(w4e.inputs[s3f]);x4e=parseFloat(w4e.inputs["Maximum AF"]);if(w4e.startFrom > "0" * 1){p3f="R";p3f+="e";p3f+="sult ";B4e=F4e[w4e.startFrom - 1][p3f + w4e.name];k36.T5H(6);var B8E=k36.f5H(18,27,10);A4e=F4e[w4e.startFrom - B8E]["_state " + w4e.name];if(A4e && A4e.length == "3" * 1){M4e=A4e[0];U4e=A4e[1];k36.T5H(23);t4e=A4e[k36.F5H(0,"2")];}}for(var I4e=w4e.startFrom - 1;I4e < F4e.length - 1;I4e++){O3f="_s";O3f+="tate";O3f+=" ";if(I4e < 0)continue;if(F4e[I4e].futureTick)break;J4e=B4e;if(t4e){if(!U4e || U4e < F4e[I4e].High){U4e=F4e[I4e].High;k36.P5H(4);M4e=Math.min(k36.F5H(L4e,M4e),x4e);}k36.T5H(144);B4e=k36.f5H(J4e,M4e,J4e,U4e);O4e=Math.min(F4e[Math.max(1,I4e) - +"1"].Low,F4e[I4e].Low);if(B4e > F4e[I4e + 1].Low){B4e=U4e;P4e();}else if(B4e > O4e){B4e=O4e;}}else {if(!U4e || U4e > F4e[I4e].Low){U4e=F4e[I4e].Low;k36.T5H(4);M4e=Math.min(k36.f5H(L4e,M4e),x4e);}k36.T5H(144);B4e=k36.f5H(J4e,M4e,J4e,U4e);y4e=Math.max(F4e[Math.max("1" << 142674784,I4e) - 1].High,F4e[I4e].High);if(B4e < F4e[I4e + ("1" | 1)].High){B4e=U4e;P4e();}else if(B4e < y4e){B4e=y4e;}}k36.T5H(4);F4e[k36.F5H(1,I4e)][O3f + w4e.name]=[M4e,U4e,t4e];if(!isNaN(F4e[I4e].High) || !isNaN(F4e[I4e].Low)){k36.P5H(4);F4e[k36.f5H(1,I4e)]["Result " + w4e.name]=B4e;}}function P4e(){M4e=0;U4e=null;t4e=!t4e;}};D4e.Studies.studyLibrary=D4e.extend(D4e.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!"",calculateFN:D4e.Studies.calculatePSAR,seriesFN:D4e.Studies.displayPSAR2,inputs:{"Minimum AF":+"0.02","Maximum AF":0.2}}});}};G2S=N4e=>{var z3f,Y4e,u3f,X3f,g3f;z3f="und";z3f+="ef";z3f+="in";L6EE.t8L();z3f+="ed";Y4e=typeof _CIQ !== z3f?_CIQ:N4e.CIQ;if(!Y4e.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {u3f="#";u3f+="e3";u3f+="6460";X3f="aut";X3f+="o";g3f="fi";g3f+="bonacci";Y4e.Studies.calculatePivotPoints=function(n4e,f4e){var t36=L6EE;var E3f,Q3f,w3f,v4e,h4e,G4e,s4e,F3f,j4e,e4e,g4e,d4e,d3f,k3f,I3f,f3f,o3f,z4e,p4e,N3f,D3f;E3f="milliseco";E3f+="nd";Q3f="se";Q3f+="c";Q3f+="ond";w3f="da";w3f+="y";v4e=f4e.chart.scrubbed;h4e="day";G4e=n4e.layout.interval;s4e=n4e.layout.timeUnit;if(G4e == w3f){h4e="month";}else if(Y4e.ChartEngine.isDailyInterval(G4e)){h4e="year";}else if(G4e == "second" || G4e == "millisecond" || s4e == Q3f || s4e == E3f){h4e="15min";}else {F3f="m";F3f+="inu";F3f+="te";j4e=n4e.layout.periodicity;if(G4e != F3f){j4e*=G4e;}if(j4e >= 30){h4e="week";}}e4e=null;function l4e(){t36.P5H(0);var P8E=t36.f5H(19,18);t36.P5H(0);var V8E=t36.F5H(27,24);d4e.pivotPoint=(d4e.high + d4e.low + v4e[X4e - P8E].Close) / V8E;d4e.prevHigh=d4e.high;d4e.prevLow=d4e.low;d4e.hlSpread=d4e.high - d4e.low;d4e.high=d4e.low=0;}g4e=+"7" - Y4e.getFromNS(n4e.chart,"market.beginningDayOfWeek",+"0");d4e={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:"0" - 0,hlSpread:0};if(f4e.startFrom > 1 && v4e[f4e.startFrom - +"1"]["_pointers " + f4e.name]){d4e=Y4e.clone(v4e[f4e.startFrom - 1]["_pointers " + f4e.name]);}for(var X4e=Math.max(1,f4e.startFrom);X4e < v4e.length;X4e++){d3f="f";d3f+="ibonacci";k3f="P";k3f+="ivot ";I3f="15m";I3f+="in";f3f="d";f3f+="a";f3f+="y";o3f="ye";o3f+="a";o3f+="r";if(!v4e[X4e - 1])continue;d4e.high=Math.max(d4e.high,v4e[X4e - 1].High);d4e.low=Math.min(d4e.low > 0?d4e.low:v4e[X4e - 1].Low,v4e[X4e - 1].Low);if(f4e.inputs.Continuous){l4e();}else if(h4e == o3f && v4e[X4e].DT.getYear() != v4e[X4e - 1].DT.getYear()){l4e();}else if(h4e == "month" && v4e[X4e].DT.getMonth() != v4e[X4e - 1].DT.getMonth()){l4e();}else if(h4e == "week" && (v4e[X4e].DT.getDay() + g4e) % 7 < (v4e[X4e - 1].DT.getDay() + g4e) % +"7"){l4e();}else if(h4e == f3f){if(e4e === null){e4e=Y4e.Studies.getMarketOffset({stx:n4e,localQuoteDate:v4e[X4e].DT,shiftToDateBoundary:!0});}z4e=new Date(new Date(+v4e[X4e].DT).setMilliseconds(v4e[X4e].DT.getMilliseconds() + e4e));p4e=new Date(new Date(+v4e[X4e - +"1"].DT).setMilliseconds(v4e[X4e - 1].DT.getMilliseconds() + e4e));if(p4e.getDate() !== z4e.getDate() && p4e.getDay() !== 0 && n4e.chart.market.isMarketDate(z4e)){e4e=null;l4e();}}else if(h4e == I3f && (v4e[X4e].DT.getHours() != v4e[X4e - 1].DT.getHours() || Math.floor(v4e[X4e].DT.getMinutes() / 15) != Math.floor(v4e[X4e - 1].DT.getMinutes() / +"15"))){l4e();}v4e[X4e][k3f + f4e.name]=d4e.pivotPoint;if(f4e.inputs.Type.toLowerCase() == d3f){v4e[X4e]["Resistance 1 " + f4e.name]=d4e.pivotPoint + ("0.382" - 0) * d4e.hlSpread;v4e[X4e]["Resistance 2 " + f4e.name]=d4e.pivotPoint + 0.618 * d4e.hlSpread;v4e[X4e]["Resistance 3 " + f4e.name]=d4e.pivotPoint + d4e.hlSpread;v4e[X4e]["Support 1 " + f4e.name]=d4e.pivotPoint - 0.382 * d4e.hlSpread;v4e[X4e]["Support 2 " + f4e.name]=d4e.pivotPoint - 0.618 * d4e.hlSpread;v4e[X4e]["Support 3 " + f4e.name]=d4e.pivotPoint - d4e.hlSpread;}else {N3f="S";N3f+="upport 3";N3f+=" ";D3f="Resi";D3f+="st";D3f+="a";D3f+="nce 2 ";v4e[X4e]["Resistance 1 " + f4e.name]=+"2" * d4e.pivotPoint - d4e.prevLow;v4e[X4e][D3f + f4e.name]=d4e.pivotPoint + d4e.hlSpread;v4e[X4e]["Resistance 3 " + f4e.name]=d4e.prevHigh + ("2" - 0) * (d4e.pivotPoint - d4e.prevLow);t36.T5H(145);var U8E=t36.f5H(36,1,12,4,19);v4e[X4e]["Support 1 " + f4e.name]=U8E * d4e.pivotPoint - d4e.prevHigh;v4e[X4e]["Support 2 " + f4e.name]=d4e.pivotPoint - d4e.hlSpread;t36.T5H(4);var a8E=t36.f5H(2,0);v4e[X4e][N3f + f4e.name]=d4e.prevLow - a8E * (d4e.prevHigh - d4e.pivotPoint);}v4e[X4e]["_pointers " + f4e.name]=Y4e.clone(d4e);}};Y4e.Studies.displayPivotPoints=function(m4e,a4e,i3e){var t3f,x3f,l3f,S3f,R4e,Z4e;a4e.noSlopes=!a4e.inputs.Continuous;Y4e.Studies.displaySeriesAsLine(m4e,a4e,i3e);if(a4e.inputs.Shading){t3f="Suppor";t3f+="t 2 ";x3f="S";x3f+="u";x3f+="ppor";x3f+="t 1";l3f="Su";l3f+="pport 1";l3f+=" ";S3f="Resistance 1";S3f+=" ";R4e=m4e.panels[a4e.panel];Z4e={noSlopes:a4e.noSlopes,opacity:a4e.parameters.opacity?a4e.parameters.opacity:0.2,skipTransform:R4e.name != a4e.chart.name,yAxis:a4e.getYAxis(m4e)};if(!a4e.highlight && m4e.highlightedDraggable){Z4e.opacity*=0.3;}Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:"Resistance 3 " + a4e.name,bottomBand:"Resistance 2 " + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs["Resistance 3"])},Z4e));Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:"Resistance 2 " + a4e.name,bottomBand:S3f + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs["Resistance 2"])},Z4e));Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:"Resistance 1 " + a4e.name,bottomBand:"Pivot " + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs["Resistance 1"])},Z4e));Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:l3f + a4e.name,bottomBand:"Pivot " + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs[x3f])},Z4e));Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:"Support 2 " + a4e.name,bottomBand:"Support 1 " + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs["Support 2"])},Z4e));Y4e.prepareChannelFill(m4e,Y4e.extend({panelName:a4e.panel,topBand:"Support 3 " + a4e.name,bottomBand:t3f + a4e.name,color:Y4e.Studies.determineColor(a4e.outputs["Support 3"])},Z4e));}};Y4e.Studies.studyLibrary=Y4e.extend(Y4e.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:Y4e.Studies.displayPivotPoints,calculateFN:Y4e.Studies.calculatePivotPoints,inputs:{Type:["standard",g3f],Continuous:! !"",Shading:!"1"},outputs:{Pivot:X3f,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":u3f,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};n2S=H3e=>{var m3f,c3e,K3f;m3f="u";m3f+="nde";L6EE.t8L();m3f+="fin";m3f+="ed";c3e=typeof _CIQ !== m3f?_CIQ:H3e.CIQ;if(!c3e.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {K3f="au";K3f+="t";K3f+="o";c3e.Studies.calculatePrettyGoodOscillator=function(S3e,E3e){var A3f,T3f,j4P,q4P,J4P,o3e;A3f="t";A3f+="r";A3f+="ue";A3f+="Range";T3f="expon";T3f+="ential";j4P=303239577;q4P=-413739508;J4P=2;L6EE.t8L();for(var b4P=1;L6EE.c2P(b4P.toString(),b4P.toString().length,16943) !== j4P;b4P++){o3e=E3e.chart.scrubbed;J4P+=2;}if(L6EE.v4P(J4P.toString(),J4P.toString().length,72156) !== q4P){o3e=E3e.chart.scrubbed;}if(o3e.length < E3e.days + 1){E3e.error=! !"1";return;}c3e.Studies.MA(T3f,E3e.days,A3f,0,"_EMA",S3e,E3e);c3e.Studies.MA("simple",E3e.days,"Close",0,"_SMA",S3e,E3e);for(var r3e=Math.max(1,E3e.startFrom);r3e < o3e.length;r3e++){if(!o3e[r3e]["_SMA " + E3e.name] || !o3e[r3e]["_EMA " + E3e.name])continue;o3e[r3e]["Result " + E3e.name]=(o3e[r3e].Close - o3e[r3e]["_SMA " + E3e.name]) / o3e[r3e]["_EMA " + E3e.name];}};c3e.Studies.studyLibrary=c3e.extend(c3e.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:c3e.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:K3f}}}});}};e2S=b3e=>{var Z3f,W3e,V3f,P3f;Z3f="u";Z3f+="ndefined";W3e=typeof _CIQ !== Z3f?_CIQ:b3e.CIQ;if(!W3e.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {V3f="a";V3f+="uto";P3f="au";P3f+="t";P3f+="o";W3e.Studies.calculatePMO=function(q3e,u3e){var E36=L6EE;var B3f,G3f,W3f,i3f,y3f,V3e,K3e,Q3e,T3e,D3e;B3f="exponen";B3f+="t";E36.l8L();B3f+="ial";G3f="exponen";G3f+="ti";G3f+="a";G3f+="l";W3f="_R";W3f+="O";W3f+="C";W3f+="x10 ";i3f="C";i3f+="lo";i3f+="s";i3f+="e";y3f="Signal";y3f+=" P";y3f+="erio";y3f+="d";V3e={Smooth:Number(u3e.inputs["Smoothing Period"]) - 1,Double:Number(u3e.inputs["Double Smoothing Period"]) - 1,Signal:Number(u3e.inputs[y3f])};K3e=u3e.chart.scrubbed;if(K3e.length < V3e.Smooth + V3e.Double){u3e.error=! ![];return;}Q3e=u3e.inputs.Field;if(!Q3e || Q3e == "field"){Q3e=i3f;}for(T3e=u3e.startFrom;T3e < K3e.length;T3e++){if(!K3e[T3e])continue;if(!K3e[T3e - 1])continue;E36.T5H(0);D3e=K3e[E36.f5H(T3e,1)][Q3e];if(D3e){E36.P5H(146);var L8E=E36.f5H(19,3,5118,982,16);E36.T5H(4);var R8E=E36.f5H(1,0);K3e[T3e]["_ROCx10 " + u3e.name]=L8E * (K3e[T3e][Q3e] / D3e - R8E);}}W3e.Studies.MA("exponential",V3e.Smooth,W3f + u3e.name,"0" & 2147483647,"_EMAx10",q3e,u3e);W3e.Studies.MA(G3f,V3e.Double,"_EMAx10 " + u3e.name,"0" & 2147483647,"PMO",q3e,u3e);W3e.Studies.MA(B3f,V3e.Signal,"PMO " + u3e.name,0,"PMOSignal",q3e,u3e);u3e.zoneOutput="PMO";};W3e.Studies.studyLibrary=W3e.extend(W3e.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:W3e.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":+"10"},outputs:{PMO:P3f,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-("2.5" - 0),studyOverSoldColor:V3f}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};l2S=F3e=>{var U3f,k3e,x3P,t3P,g3P,e3f,J3f,q3f;U3f="u";L6EE.l8L();U3f+="ndefine";U3f+="d";k3e=typeof _CIQ !== U3f?_CIQ:F3e.CIQ;if(!k3e.Studies){x3P=410018873;t3P=2023833876;g3P=2;for(var u3P=1;L6EE.c2P(u3P.toString(),u3P.toString().length,8288) !== x3P;u3P++){console.error("");g3P+=2;}if(L6EE.c2P(g3P.toString(),g3P.toString().length,79016) !== t3P){console.error("priceVolumeOscillator feature requires first activating studies feature.");}}else {e3f="a";e3f+="u";e3f+="to";J3f="Po";J3f+="i";J3f+="nt";J3f+="s";q3f="Volume ";q3f+="Oscilla";q3f+="tor";k3e.Studies.calculatePriceOscillator=function(y3e,I3e){var N36=L6EE;var L3f,a3f,A3e,O3e,J3e,B3e,w3e,L3e,U3e,M3e,t3e,r3f,R3f,H3f;L3f="f";L3f+="i";L3f+="el";L3f+="d";a3f="Moving Aver";a3f+="age T";a3f+="ype";A3e=I3e.chart.scrubbed;O3e=Number(I3e.inputs["Short Cycle"]);J3e=Number(I3e.inputs["Long Cycle"]);if(A3e.length < Math.max(O3e,J3e) + ("1" >> 1954831968)){I3e.error=! !"1";return;}B3e=I3e.inputs.Field;w3e=I3e.inputs[a3f];if(!w3e){w3e="simple";}if(!B3e || B3e == L3f){B3e="Close";}if(I3e.parameters.isVolume){B3e="Volume";w3e="exponential";}L3e=I3e.inputs["Points Or Percent"];if(!L3e){L3e="Percent";}k3e.Studies.MA(w3e,O3e,B3e,0,"_Short MA",y3e,I3e);k3e.Studies.MA(w3e,J3e,B3e,0,"_Long MA",y3e,I3e);for(var x3e=Math.max(J3e,I3e.startFrom);x3e < A3e.length;x3e++){U3e=A3e[x3e];if(!U3e)continue;M3e=U3e["_Short MA " + I3e.name];t3e=U3e["_Long MA " + I3e.name];if((M3e || M3e === 0) && (t3e || t3e === 0)){r3f="Resu";r3f+="l";r3f+="t ";R3f="Po";R3f+="i";R3f+="n";R3f+="ts";if(L3e == R3f){N36.P5H(0);U3e[r3f + I3e.name]=N36.f5H(M3e,t3e);}else {N36.P5H(143);U3e["Result " + I3e.name]=N36.F5H(M3e,100,t3e,"1");}if(I3e.outputs["Increasing Bar"]){H3f="R";H3f+="e";H3f+="sult ";U3e[I3e.name + "_hist"]=U3e[H3f + I3e.name];I3e.outputMap={};I3e.outputMap[I3e.name + "_hist"]="";}}}};k3e.Studies.displayRAVI=function(C3e,P3e,h3e){var O36=L6EE;var n3f,f3e,N3e,G3e,n3e,v3e,s3e,j3e,j3f,C3f,Y3e,X3e,e3e,l3e;n3f="De";n3f+="cr";n3f+="easing ";n3f+="Bar";f3e=C3e.panels[P3e.panel];N3e=P3e.getContext(C3e);G3e=P3e.getYAxis(C3e);n3e=C3e.pixelFromPrice(0,f3e,G3e);O36.T5H(40);var r8E=O36.F5H(15,13);v3e=C3e.layout.candleWidth - r8E;if(v3e < 2){v3e=+"1";}s3e=k3e.Studies.determineColor(P3e.outputs["Increasing Bar"]);j3e=k3e.Studies.determineColor(P3e.outputs[n3f]);C3e.startClip(P3e.panel);C3e.canvasColor("stx_histogram");if(!P3e.underlay){N3e.globalAlpha=1;}if(!P3e.highlight && C3e.highlightedDraggable){N3e.globalAlpha*=0.3;}for(var d3e=+"0";d3e < h3e.length;d3e++){j3f="#";j3f+="CC";j3f+="CCC";j3f+="C";C3f="#C";C3f+="CCCCC";Y3e=h3e[d3e];O36.T5H(0);X3e=h3e[O36.f5H(d3e,1)];if(!X3e){X3e=C3e.getPreviousBar(C3e.chart,P3e.name + "_hist",d3e);}if(!Y3e)continue;e3e=0;l3e=0;if(P3e.parameters && P3e.parameters.studyOverZonesEnabled){e3e=parseFloat(P3e.parameters.studyOverBoughtValue);l3e=parseFloat(P3e.parameters.studyOverSoldValue);}if(!X3e){N3e.fillStyle=C3f;}else if(Y3e[P3e.name + "_hist"] > e3e && X3e[P3e.name + "_hist"] < Y3e[P3e.name + "_hist"]){N3e.fillStyle=s3e;}else if(Y3e[P3e.name + "_hist"] < l3e && X3e[P3e.name + "_hist"] > Y3e[P3e.name + "_hist"]){N3e.fillStyle=j3e;}else {N3e.fillStyle=j3f;}if(Y3e.candleWidth){v3e=Math.floor(Math.max(1,Y3e.candleWidth - 2));}N3e.fillRect(Math.floor(C3e.pixelFromBar(d3e,f3e.chart) - v3e / 2),Math.floor(n3e),Math.floor(v3e),Math.floor(C3e.pixelFromPrice(Y3e[P3e.name + "_hist"],f3e,G3e) - n3e));}C3e.endClip();};k3e.Studies.studyLibrary=k3e.extend(k3e.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:k3e.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:q3f,calculateFN:k3e.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[J3f,"Percent"]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:k3e.Studies.displayRAVI,calculateFN:k3e.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:e3f}},attributes:{studyOverBoughtValue:{min:"0" << 1347103264,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};s2S=z3e=>{var b3f,g3e,J6P,e6P,b6P,c3f,Y1f;L6EE.t8L();b3f="u";b3f+="n";b3f+="define";b3f+="d";g3e=typeof _CIQ !== b3f?_CIQ:z3e.CIQ;if(!g3e.Studies){J6P=-1286077203;e6P=-1802618468;b6P=+"2";for(var v3P=1;L6EE.c2P(v3P.toString(),v3P.toString().length,91779) !== J6P;v3P++){c3f="pri";c3f+="meNumber fe";c3f+="ature requires first activating studies feature.";console.error(c3f);b6P+=+"2";}if(L6EE.c2P(b6P.toString(),b6P.toString().length,"94931" << 1843366112) !== e6P){console.error("");}}else {Y1f="Prime Nu";Y1f+="mb";Y1f+="er ";Y1f+="Oscillator";g3e.Studies.calculatePrimeNumber=function(b5e,Z3e){var x36=L6EE;var R3e,E5e,m3e,a3e,p3e,M1f,v1f,h1f,i5e,S5e,W5e;R3e=[];E5e=Z3e.chart.scrubbed;function c5e(u5e){var T5e;if(u5e <= 0){return ![];}else if(u5e != Math.floor(u5e)){return !{};}else if(R3e[u5e] === ! !{} || R3e[u5e] === !"1"){return R3e[u5e];}T5e=parseInt(Math.sqrt(u5e),10);for(var K5e=2;K5e <= T5e;K5e++){if(u5e % K5e === 0){R3e[u5e]=!{};return !{};}}R3e[u5e]=! !"1";return ! !1;}x36.t8L();for(var H5e=Z3e.startFrom;H5e < E5e.length;H5e++){m3e=E5e[H5e];if(!m3e)continue;a3e=m3e.High;if(!isNaN(a3e)){for(var o5e=0;a3e > 0 && a3e <= 10;o5e++){x36.T5H(0);a3e*=x36.f5H("10",0);}if(c5e(a3e)){a3e+=2;}a3e=Math.ceil(a3e);if(a3e % ("2" * 1) === 0){a3e++;}while(!c5e(a3e)){a3e+=2;}a3e/=Math.pow(+"10",o5e);}p3e=m3e.Low;if(!isNaN(p3e)){for(var r5e=+"0";p3e > 0 && p3e <= 10;r5e++){p3e*=10;}if(c5e(p3e)){p3e-=+"2";}p3e=Math.floor(p3e);if(p3e % 2 === 0){p3e--;}if(p3e > 0){while(!c5e(p3e)){p3e-=2;}p3e/=Math.pow(10,r5e);}}if(Z3e.type == "Prime Number Bands"){M1f="Prime ";M1f+="Bands Bottom ";v1f="Prime Bands";v1f+=" Top ";if(!isNaN(a3e)){m3e[v1f + Z3e.name]=a3e;}if(!isNaN(p3e)){m3e[M1f + Z3e.name]=Math.max(0,p3e);}}else {h1f="R";h1f+="e";h1f+="sult";h1f+=" ";i5e=0;x36.T5H(4);var H8E=x36.F5H(9,2104100279);S5e=Z3e.inputs["Tolerance Percentage"] * (a3e - p3e) / ("100" >> H8E);x36.T5H(0);var n8E=x36.f5H(40,38);W5e=a3e + p3e - n8E * m3e.Close;if(W5e < S5e){i5e=1;}else if(W5e > S5e){i5e=-1;}if(i5e){m3e[h1f + Z3e.name]=i5e;}}}};g3e.Studies.studyLibrary=g3e.extend(g3e.Studies.studyLibrary,{"Prime Number":{name:Y1f,range:"-1 to 1",calculateFN:g3e.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !{},calculateFN:g3e.Studies.calculatePrimeNumber,seriesFN:g3e.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};j2S=Q5e=>{var s1f,V5e,p1f,S1f;s1f="undefi";s1f+="ned";V5e=typeof _CIQ !== s1f?_CIQ:Q5e.CIQ;L6EE.l8L();if(!V5e.Studies){p1f="pr";p1f+="ing feature requires first";p1f+=" activating studies f";p1f+="eature.";console.error(p1f);}else {S1f="Pri";S1f+="ng's Know Sure Thing";V5e.Studies.calculateKST=function(M5e,q5e){var U36=L6EE;var o1f,w1f,z1f,O1f,F5e,U5e,I5e,B5e,t5e,k5e,D5e,E1f,Q1f,F1f,w5e;o1f="K";o1f+="S";o1f+="TSign";o1f+="al";w1f="Heavie";w1f+="st SMA Perio";w1f+="d";z1f="Heavy SMA Pe";z1f+="riod";O1f="Heaviest R";O1f+="ate of";O1f+=" Ch";O1f+="ange Period";F5e=q5e.chart.scrubbed;U5e=q5e.inputs.Field;if(!U5e || U5e == "field"){U5e="Close";}I5e={};B5e={};U36.P5H(29);I5e[U36.f5H("1",2147483647)]=Number(q5e.inputs["Lightest Rate of Change Period"]);I5e[2]=Number(q5e.inputs["Light Rate of Change Period"]);I5e[3]=Number(q5e.inputs["Heavy Rate of Change Period"]);I5e[4]=Number(q5e.inputs[O1f]);B5e[1]=Number(q5e.inputs["Lightest SMA Period"]);B5e[2]=Number(q5e.inputs["Light SMA Period"]);B5e[3]=Number(q5e.inputs[z1f]);B5e[4]=Number(q5e.inputs[w1f]);t5e=Number(q5e.inputs["Signal Period"]);for(k5e=q5e.startFrom;k5e < F5e.length;k5e++){if(!F5e[k5e])continue;for(D5e=1;D5e <= 4;D5e++){if(k5e >= I5e[D5e] && F5e[k5e - I5e[D5e]] && F5e[k5e - I5e[D5e]][U5e]){U36.P5H(4);var C8E=U36.f5H(2544,283);U36.P5H(61);var j8E=U36.f5H(2446,2,612);U36.T5H(0);var q8E=U36.f5H(4637,17);U36.T5H(48);var J8E=U36.F5H(16,37,105,16);U36.T5H(147);var e8E=U36.f5H(4,16,1,15,20);F5e[k5e]["_ROC" + D5e + ((518.33,C8E) > (j8E,q8E)?!{}:" ") + q5e.name]=J8E * (F5e[k5e][U5e] / F5e[k5e - I5e[D5e]][U5e] - e8E);}}}for(D5e=1;D5e <= 4;D5e++){E1f="_";E1f+="SMA";Q1f="_R";Q1f+="O";Q1f+="C";V5e.Studies.MA("simple",B5e[D5e],Q1f + D5e + (("459.17" * 1,+"122.89") !== 5034?" ":(0x113a,"a")) + q5e.name,0,E1f + D5e,M5e,q5e);}for(k5e=q5e.startFrom;k5e < F5e.length;k5e++){F5e[k5e]["KST " + q5e.name]=null;for(D5e=1;D5e <= +"4";D5e++){F1f="K";F1f+="ST ";U36.P5H(4);var b8E=U36.f5H(6551,409);U36.P5H(44);var c8E=U36.f5H(761655,15,54600,14);w5e=F5e[k5e]["_SMA" + D5e + (864.3 == (b8E,c8E)?"J":" ") + q5e.name];if(w5e || w5e === "0" << 1698162816){U36.P5H(1);F5e[k5e][F1f + q5e.name]+=U36.F5H(D5e,w5e);}}}V5e.Studies.MA("simple",t5e,"KST " + q5e.name,0,o1f,M5e,q5e);};V5e.Studies.calculateSpecialK=function(N5e,O5e){var o36=L6EE;var I1f,f1f,L5e,y5e,x5e,P5e,C5e,J5e,A5e,k1f,D1f,d1f,N1f,Y5e;I1f="d";I1f+="a";I1f+="il";I1f+="y";f1f="fiel";f1f+="d";L5e=O5e.chart.scrubbed;y5e=O5e.inputs.Field;if(!y5e || y5e == f1f){y5e="Close";}x5e=O5e.inputs.Interval;if(!x5e){x5e=I1f;}P5e={daily:[10,15,20,30,50,"65" >> 1835266496,75,100,195,265,+"390","530" * 1],weekly:[+"4",5,6,8,10,13,15,20,+"39",52,78,104]};C5e={daily:[10,10,10,15,50,65,75,100,+"130",+"130",130,195],weekly:[4,+"5",6,8,10,13,15,"20" >> 832857984,26,26,26,39]};for(J5e=O5e.startFrom;J5e < L5e.length;J5e++){if(!L5e[J5e])continue;for(A5e=0;A5e < P5e[x5e].length;A5e++){k1f="_R";k1f+="O";k1f+="C";if(J5e >= P5e[x5e][A5e] && L5e[J5e - P5e[x5e][A5e]] && L5e[J5e - P5e[x5e][A5e]][y5e]){o36.P5H(6);var v6E=o36.f5H(14,8,94);o36.P5H(148);var M6E=o36.f5H(8,74,8,2,10);L5e[J5e][k1f + A5e + " " + O5e.name]=v6E * (L5e[J5e][y5e] / L5e[J5e - P5e[x5e][A5e]][y5e] - M6E);}}}for(A5e=0;A5e < C5e[x5e].length;A5e++){D1f="_";D1f+="MA";d1f="_";d1f+="R";d1f+="O";d1f+="C";V5e.Studies.MA(x5e == "daily"?"simple":"exponential",C5e[x5e][A5e],d1f + A5e + " " + O5e.name,+"0",D1f + A5e,N5e,O5e);}for(J5e=O5e.startFrom;J5e < L5e.length;J5e++){L5e[J5e]["Result " + O5e.name]=null;for(A5e=0;A5e < C5e[x5e].length;A5e++){N1f="Res";N1f+="ult ";o36.T5H(149);var h6E=o36.f5H(16,1182,589,1);o36.T5H(0);var Y6E=o36.F5H(840,11);o36.P5H(150);var s6E=o36.f5H(3,5421,14,546,9);o36.P5H(64);var p6E=o36.f5H(14,4,825,46035);Y5e=L5e[J5e]["_MA" + A5e + (h6E < 763.49?Y6E < s6E?(! ![],+"323.42"):(p6E,! !{}):" ") + O5e.name];if(Y5e || Y5e === ("0" ^ 0)){o36.T5H(151);L5e[J5e][N1f + O5e.name]+=o36.F5H(1,Y5e,A5e,4);}}}};V5e.Studies.studyLibrary=V5e.extend(V5e.Studies.studyLibrary,{"Pring KST":{name:S1f,calculateFN:V5e.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":+"20","Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:V5e.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};g2S=v5e=>{L6EE.l8L();var d5e,X5e,J1f,q1f,j1f,C1f,n1f,H1f,r1f,R1f,L1f,a1f;d5e=typeof _CIQ !== "undefined"?_CIQ:v5e.CIQ;X5e=typeof _timezoneJS !== "undefined"?_timezoneJS:v5e.timezoneJS;if(!d5e.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!d5e.Studies.studyLibrary.PVAT){J1f="st";J1f+="ep";q1f="#f";q1f+="e";q1f+="64";q1f+="1c";j1f="0 to ma";j1f+="x";C1f="#";C1f+="b";C1f+="8";C1f+="2c0c";n1f="#cfbd";n1f+="0e";H1f="#f";H1f+="e64";H1f+="1c";r1f="-1";r1f+="0";r1f+="0";r1f+="%";R1f="No";R1f+="ne";L1f="+";L1f+="1";L1f+="00%";a1f="+12";a1f+="5";a1f+="%";d5e.Studies.initProjectedVolume=function(G5e,l5e,h5e,s5e,j5e,g5e){var l1f,f5e,e5e;l1f="A";l1f+="n";l1f+="chor Time";var {market:n5e}=G5e.chart;f5e="00";f5e+=":";f5e+="00";if(n5e){f5e=n5e.getNormalOpen();}if(f5e.match(/^[\d]{2}:[\d]{2}$/)){f5e+=":00";}if(!h5e["Anchor Time"] || !h5e[l1f].length){h5e["Anchor Time"]=f5e;}e5e=d5e.Studies.initializeFN(G5e,l5e,h5e,s5e,j5e,g5e);if(!G5e.currentlyImporting){e5e.defaultAnchorTime=f5e;}return e5e;};d5e.Studies.validateProjectedVolumeLookback=function(m5e,Z5e){var {interval:z5e, periodicity:p5e}=m5e.layout;var {"Lookback Days":a5e}=Z5e.inputs;L6EE.T5H(152);L6EE.l8L();return L6EE.f5H(a5e,z5e,p5e,10);};d5e.Studies.calculateProjectedVolume=function(c8e,R5e){var s36=L6EE;var W1f,T1f,m1f,u1f,X1f,g1f,t1f,x1f,s8e,u8e,K8e,g8e,z8e,y8e,P8e,H8e,C8e,D2v,E8e,m3P,T3P,A3P,Y8e,N8e,p8e,d8e,K1f,T8e,v8e,k2v,b8e,F2v,B8e,o8e,A8e,S8e,D8e,m8e,Z8e,R8e,i2v,f8e,h8e,x8e,B2v,c2v,A1f,k8e,F8e,O8e,w2v,G8e,Z1f,r8e,H2v,E2v,n8e,o2v,w8e,i1f,y1f;W1f="P";W1f+="V ";T1f="H";T1f+="H";T1f+=":";T1f+="mm";m1f="Market.Symbology.";m1f+="isForexSymb";function S2v(y2v,P2v,C2v){s36.l8L();while(P2v){y2v=new Date(new Date(y2v).setDate(y2v.getDate() + (C2v?"1" | 0:-1)));if(W8e.isMarketDate(y2v)){P2v--;}}return y2v;}m1f+="o";m1f+="l";u1f=":";u1f+="0";u1f+="0";function I8e(O2v){return {hours:O2v.getHours(),minutes:O2v.getMinutes()};}function M2v(d2v){var v2v;d2v.setHours(0);d2v.setMinutes(+"0");v2v=d5e.Studies.getMarketOffset({stx:c8e,localQuoteDate:d2v});return new Date(d2v.getTime() + v2v);}X1f="h";X1f+="eikin";X1f+="as";X1f+="hi";g1f="oh";g1f+="lc";t1f="m";t1f+="i";t1f+="n";t1f+="ute";x1f="P";x1f+="A";x1f+="V";var {interval:u2v, timeUnit:e8e, aggregationType:l8e}=c8e.layout;var {symbol:K2v, scroll:T2v, scrubbed:i8e, market:W8e}=c8e.chart;function b2v(N2v){return c8e.dateFromTick(N2v,null,! ![],"scrubbed");}s8e=R5e.type === x1f;u8e=R5e.study?R5e.study.name:R5e.type;if(d5e.ChartEngine.isDailyInterval(u2v)){R5e.error=`${u8e} is Intraday Only`;}else if(e8e === "tick"){R5e.error=`Tick mode not supported for ${u8e}`;}else if(e8e !== t1f){R5e.error=`Sub-minute periodicities not supported for ${u8e}`;}else if(!l8e || ![g1f,X1f].includes(l8e)){R5e.error=`Aggregation type not supported for ${u8e}`;}else if(!d5e.Studies.validateProjectedVolumeLookback(c8e,R5e)){R5e.error=`Selected lookback/periodicity combo not supported for ${u8e}`;}if(R5e.error){return;}if(R5e.inputs["Anchor Selector"]){d5e.Studies.initAnchorHandle(c8e,R5e);}else {d5e.Studies.removeAnchorHandle(c8e,R5e);}K8e=W8e?W8e.getNormalOpen():"00:00";if(K8e.match(/^[\d]{2}:[\d]{2}$/)){K8e+=u1f;}if(!c8e.currentlyImporting){if(!R5e.defaultAnchorTime){R5e.defaultAnchorTime=K8e;}else if(K8e !== R5e.defaultAnchorTime){R5e.defaultAnchorTime=K8e;R5e.inputs["Anchor Time"]=K8e;d5e.Studies.repositionAnchor(c8e,R5e);return;}}var {"Lookback Days":t8e, "Anchor Time":V2v}=R5e.inputs;var [Q2v,q2v,j8e = 0]=V2v.split(":");g8e=d5e.getFn(m1f)(K2v);z8e=R5e.getDependents(c8e);s36.t8L();y8e=0;P8e=[];z8e.forEach(({inputs:t2v, outputMap:A2v})=>{s36.l8L();if(t2v.Period){y8e=Math.max(parseInt(t2v.Period),y8e);P8e.push(...Object.keys(A2v));}});R5e.dependentsOutputMap=P8e;C8e=M8e(i8e.length - 1,! ![]);D2v=Math.ceil(i8e.length - 1 - T2v);s36.T5H(0);E8e=M8e(s36.f5H(D2v,y8e));if(g8e && i8e[E8e] && d5e.dateToStr(i8e[E8e].DT,T1f) !== K8e){s36.P5H(19);E8e=M8e(s36.f5H("1",E8e));;}if(!g8e && R5e.startFrom > E8e && i8e[E8e] && i8e[E8e]["V " + R5e.name] !== undefined && P8e.every(J2v=>{s36.t8L();return ![undefined,null].includes(i8e[E8e][J2v]);}) && C8e !== ! !0){H8e=C8e;;}else {m3P=-1038245091;T3P=-1257610760;A3P=2;for(var Z3P=1;s36.c2P(Z3P.toString(),Z3P.toString().length,69613) !== m3P;Z3P++){H8e=E8e;A3P+=2;}if(s36.c2P(A3P.toString(),A3P.toString().length,73164) !== T3P){H8e=E8e;}}Y8e=S2v(b2v(E8e),t8e);s36.P5H(15);Y8e.setHours(0,+"0",s36.f5H("0",763058112));N8e=M8e(0,! !"1");p8e=(N8e || N8e === +"0") && W2v(S2v(i8e[N8e].DT,t8e,! ![]));if(i8e[0].DT > Y8e){if(c8e.quoteDriver){c8e.quoteDriver.extendHistoricalData({from:Y8e});if(p8e > 0){H8e=p8e;}else {return;}}else {return R5e.error=`Not enough data to calculate ${u8e}`;}}function W2v(Y2v){return c8e.tickFromDate(Y2v,null,null,! !1,"scrubbed");}if(H8e < 0 || H8e > i8e.length - 1){return;}d8e=i8e.length - R5e.startFrom === 1 && R5e.cachedFutureTicks && R5e.cachedLastProjection && +R5e.cachedLastProjection.DT === +i8e[i8e.length - 1].DT && i8e[H8e]["PV " + R5e.name];if(d8e){s36.T5H(56);var O6E=s36.F5H(5,0,11,19,2);i8e[i8e.length - O6E]["PV " + R5e.name]=R5e.cachedLastProjection.projectedValue;R5e.appendFutureTicks(c8e,R5e.cachedFutureTicks);H8e=R5e.startFrom;}else {K1f="P";K1f+="V";K1f+=" ";R5e.cachedFutureTicks=null;R5e.cachedLastProjection=null;T8e=[C8e];v8e=[];for(var a8e=+"0";a8e < t8e;a8e++){k2v=M8e(T8e[+"0"] - +"1");T8e.unshift(k2v);;}while(T8e[t8e] >= H8e){b8e=T8e.pop();if(!i8e[b8e]){return r2v(b8e);}F2v=I8e(i8e[b8e].DT);var {hours:V8e, minutes:U8e}=F2v;B8e=W8e.getClose(i8e[b8e].DT);s36.P5H(45);o8e=void s36.f5H(970016384,"0");if(!B8e){o8e={hours:24,minutes:0};}else {A8e=W8e.getNextClose(i8e[b8e].DT);o8e=I8e(B8e);while(!(o8e.hours === 0 && o8e.minutes === +"0") && B8e.getDate() === A8e.getDate()){B8e=A8e;A8e=W8e.getNextClose(A8e);}o8e=I8e(B8e);if(o8e.hours === 0){o8e.hours=+"24";}}S8e=T8e.slice();for(var J8e=0;J8e < S8e.length;J8e++){D8e=S8e[J8e];if(!i8e[D8e]){return r2v(D8e);}var {hours:L8e, minutes:X8e}=I8e(i8e[D8e].DT);if(L8e < V8e || L8e === V8e && X8e < U8e){do {D8e++;({hours:L8e, minutes:X8e}=I8e(i8e[D8e].DT));}while(!(L8e === V8e && X8e === U8e));}S8e[J8e]=D8e;}while(V8e < o8e.hours || V8e === o8e.hours && U8e < o8e.minutes){m8e=! !"";Z8e=void 0;R8e=void 0;i2v=0;f8e=0;for(var Q8e=0;Q8e < S8e.length;Q8e++){h8e=S8e[Q8e];if(h8e === null)continue;x8e=i8e[h8e];if(!x8e){return r2v(h8e);}var {hours:I2v, minutes:U2v}=I8e(x8e.DT);B2v=x8e.DT.getDate();if(I2v === V8e && U2v === U8e){i2v+=x8e.Volume;f8e++;S8e[Q8e]++;if(i8e[S8e[Q8e]].DT.getDate() !== B2v){S8e[Q8e]=null;}else if(!m8e){({hours:Z8e, minutes:R8e}=I8e(i8e[S8e[Q8e]].DT));m8e=!"";;}}}V8e=Z8e;U8e=R8e;if(f8e === +"0")break;s36.P5H(13);c2v=s36.f5H(i2v,f8e);if(i8e[b8e]){A1f="P";A1f+="V ";i8e[b8e][A1f + R5e.name]=c2v;}else {v8e.push({["PV " + R5e.name]:c2v});}b8e++;}T8e.unshift(M8e(T8e[+"0"] - 1));;}R5e.cachedLastProjection={DT:i8e[i8e.length - 1].DT,projectedValue:i8e[i8e.length - 1][K1f + R5e.name]};R5e.cachedFutureTicks=v8e;R5e.appendFutureTicks(c8e,v8e);}k8e=null;F8e=+"0";O8e=0;function r2v(x2v){console.error(`Expected data for ${b2v(x2v).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}if(d8e && s8e){while(H8e > 0){s36.T5H(0);G8e=i8e[s36.f5H(H8e,1)]["V " + R5e.name];if(G8e || G8e === 0){F8e=G8e;break;}H8e--;}}for(var q8e=H8e;q8e < i8e.length;q8e++){Z1f="Am";Z1f+="erica/New";Z1f+="_";Z1f+="York";r8e=i8e[q8e];H2v=r8e.Volume;E2v=r8e["PV " + R5e.name];if(!r8e.futureTick){w2v=q8e;}if(k8e === null){k8e=d5e.Studies.getMarketOffset({stx:c8e,localQuoteDate:i8e[q8e].DT,shiftToDateBoundary:! ![]});}n8e=new Date(new Date(r8e.DT).getTime() + k8e);o2v=i8e[q8e - 1] && new Date(new Date(i8e[q8e - 1].DT).getTime() + k8e);w8e=new X5e.Date(r8e.DT,W8e.market_def.market_tz || Z1f);w8e.setHours(Q2v,q2v,j8e);s36.T5H(4);w8e=new Date(s36.f5H(k8e,w8e));w8e.setDate(n8e.getDate());if(o2v && n8e.getDate() !== o2v.getDate()){k8e=null;F8e=0;O8e=0;}if(n8e < w8e){i1f="P";i1f+="V";i1f+=" ";y1f="V";y1f+=" ";r8e[y1f + R5e.name]=0;r8e[i1f + R5e.name]=0;continue;}if(s8e){F8e+=H2v;O8e+=E2v;}else {F8e=H2v;O8e=E2v;}r8e["V " + R5e.name]=F8e;if(!d8e){r8e["PV " + R5e.name]=O8e;}if([NaN,null,undefined].includes(F8e) && !r8e.futureTick){R5e.error=`${u8e} requires volume`;return;}}R5e.cachedLastProjection.projectedValue=i8e[w2v][W1f + R5e.name];function M8e(G2v,n2v){var f2v,h2v,X2v;f2v=b2v(G2v);h2v=W8e.getOpen(f2v) || M2v(f2v);X2v=W2v(h2v);if(!n2v){return X2v;}if(X2v < 0){X2v=W2v(S2v(h2v,1,!""));}if(X2v >= i8e.length){return ![];}s36.l8L();return X2v;}R5e.outputMap={};R5e.outputMap["V " + R5e.name]="";R5e.outputMap["PV " + R5e.name]="Average Line";z8e.forEach(L2v=>{L2v.startFrom=H8e;s36.l8L();L2v.study.calculateFN(c8e,L2v);});};d5e.Studies.displayProjectedVolume=function(l2v,e2v,s2v){var q36=L6EE;var U1f,B1f,G1f,z2v,j2v,p2v,a2v,m2v,R2v,i6v;U1f="P";U1f+="V";U1f+=" ";B1f="stx_volume";B1f+="_unde";B1f+="rla";B1f+="y_up";G1f="V";G1f+=" ";if(e2v.error){return d5e.Studies.removeAnchorHandle(l2v,e2v);}var {"Alert Threshold":g2v = ""}=e2v.inputs;q36.T5H(129);var z6E=q36.f5H(12,2,11);q36.T5H(91);var w6E=q36.F5H(16,67,17);z2v=parseInt(g2v.slice(+"0",z6E),+"10") / w6E;j2v=e2v.outputs["Alert Bar"];if(typeof j2v === "object"){j2v=j2v.color;}e2v.volumeField=G1f + e2v.name;e2v.alignStepToSide=! !{};e2v.extendToEndOfLastBar=! ![];e2v.lineWidth=+"2";p2v=l2v.canvasStyle(B1f).opacity;a2v=l2v.canvasStyle("stx_volume_underlay_down").opacity;e2v.colorFunction=function(H6v){q36.l8L();var V1f,P1f,u6v,c6v,K6v,E6v,o6v,r6v;V1f="V";V1f+=" ";P1f="P";P1f+="V";P1f+=" ";var {Open:S6v, Close:W6v, iqPrevClose:b6v}=H6v;u6v=l2v.colorByCandleDirection?S6v:b6v;q36.T5H(153);c6v=q36.F5H(u6v,W6v);K6v=H6v[P1f + e2v.name];E6v=H6v[V1f + e2v.name];q36.P5H(154);o6v=q36.F5H("1",z2v,K6v);r6v=z2v < 0?E6v < o6v:E6v > o6v;return {fill_color:r6v && j2v || (c6v?this.fill_color_down:this.fill_color_up),border_color:c6v?this.border_color_down:this.border_color_up,opacity:r6v?1:c6v?a2v:p2v,border_opacity:c6v?a2v:p2v};};m2v=e2v.study?e2v.study.name:e2v.type;var {loadingMore:Z2v}=l2v.chart;R2v=s2v.some(T6v=>{return T6v && T6v[e2v.volumeField] && T6v["PV " + e2v.name];});i6v=s2v["0" ^ 0] && !s2v[0].futureTick && (s2v[0][U1f + e2v.name] === undefined || (e2v.dependentsOutputMap || []).some(V6v=>{return [undefined,null].includes(s2v[0][V6v]);}));if(!R2v && Z2v){return e2v.error=`Fetching data for ${m2v}`;}q36.t8L();d5e.Studies.createVolumeChart(l2v,e2v,s2v);d5e.Studies.displaySeriesAsLine(l2v,e2v,s2v);if(e2v.anchorHandle){d5e.Studies.displayAnchorHandleAndLine(l2v,e2v,s2v);}if(i6v){d5e.Studies.calculateProjectedVolume(l2v,e2v);}};d5e.Studies.studyLibrary=d5e.extend(d5e.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:d5e.Studies.calculateProjectedVolume,seriesFN:d5e.Studies.displayProjectedVolume,initializeFN:d5e.Studies.initProjectedVolume,removeFN:d5e.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%",a1f,L1f,"+75%","+50%","+25%",R1f,"-25%","-50%","-75%",r1f,"-125%","-150%"],"Anchor Selector":! !"1"},outputs:{"Average Line":H1f,"Alert Bar":n1f,"Up Volume":"#8cc176","Down Volume":C1f},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:j1f,yAxis:{ground:! !"1",initialMarginTop:0,zoom:0},calculateFN:d5e.Studies.calculateProjectedVolume,seriesFN:d5e.Studies.displayProjectedVolume,initializeFN:d5e.Studies.initProjectedVolume,removeFN:d5e.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":q1f,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:J1f},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};z2S=q6v=>{var e1f,Q6v;e1f="undefine";e1f+="d";Q6v=typeof _CIQ !== e1f?_CIQ:q6v.CIQ;if(!Q6v.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {Q6v.Studies.calculatePsychologicalLine=function(M6v,D6v){var F6v,I6v,B6v,U6v,w6v;F6v=D6v.chart.scrubbed;if(F6v.length < D6v.days + 1){D6v.error=!0;return;}I6v=[];L6EE.T5H(22);var Q6E=L6EE.F5H(14,99,14);L6EE.l8L();B6v=Q6E / D6v.days;U6v=0;for(var k6v=Math.max(D6v.startFrom - D6v.days,1);k6v < F6v.length;k6v++){if(F6v[k6v].futureTick)break;w6v=Number(F6v[k6v].Close > F6v[k6v - 1].Close);if(w6v){U6v+=B6v;}I6v.push(w6v);if(I6v.length > D6v.days){U6v-=I6v.shift() * B6v;}if(k6v < D6v.startFrom)continue;if(!isNaN(F6v[k6v].Close)){F6v[k6v]["Result " + D6v.name]=U6v;}}};Q6v.Studies.studyLibrary=Q6v.extend(Q6v.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:Q6v.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};p2S=A6v=>{var t6v,v9f,c1f;t6v=typeof _CIQ !== "undefined"?_CIQ:A6v.CIQ;if(!t6v.Studies){console.error("qstick feature requires first activating studies feature.");}else {v9f="m";v9f+="a";c1f="Q";c1f+="Stick";t6v.Studies.calculateQStick=function(O6v,J6v){var b1f,L6v;b1f="_Close-Op";L6EE.l8L();b1f+="en ";L6v=J6v.chart.scrubbed;if(L6v.length < J6v.days + 1){J6v.error=! ![];return;}for(var x6v=J6v.startFrom;x6v < L6v.length;x6v++){L6v[x6v]["_Close-Open " + J6v.name]=L6v[x6v].Close - L6v[x6v].Open;}t6v.Studies.MA(J6v.inputs["Moving Average Type"],J6v.days,b1f + J6v.name,+"0","Result",O6v,J6v);};t6v.Studies.studyLibrary=t6v.extend(t6v.Studies.studyLibrary,{QStick:{name:c1f,calculateFN:t6v.Studies.calculateQStick,inputs:{Period:"8" << 712954016,"Moving Average Type":v9f}}});}};a2S=P6v=>{var M9f,y6v,E9f,Q9f,w9f;M9f="undef";M9f+="in";M9f+="e";M9f+="d";y6v=typeof _CIQ !== M9f?_CIQ:P6v.CIQ;if(!y6v.Studies){console.error("rainbow feature requires first activating studies feature.");}else {E9f="#00";E9f+="DD00";Q9f="Rainbow Osci";Q9f+="llator";w9f="#";w9f+="7F00FF";y6v.Studies.calculateRainbow=function(s6v,C6v){var C36=L6EE;var Y6v,v6v,e6v,h9f,l6v,h6v,G6v,n6v,X6v,f6v,Y9f,s9f;C36.l8L();function j6v(m6v,a6v){var z6v,p6v;C36.P5H(0);var E6E=C36.f5H(0,1);z6v=Number.MAX_VALUE * E6E;p6v=Number.MAX_VALUE;for(var g6v=a6v - m6v + ("1" >> 802085216);g6v <= a6v;g6v++){if(g6v < +"0")continue;z6v=Math.max(z6v,Y6v[g6v].Close);p6v=Math.min(p6v,Y6v[g6v].Close);}return [p6v,z6v];}Y6v=C6v.chart.scrubbed;if(Y6v.length < C6v.days + 1){C6v.error=! !{};return;}v6v=C6v.inputs.Field;if(!v6v || v6v == "field"){v6v="Close";}e6v=v6v;for(var d6v=1;d6v <= 10;d6v++){h9f="S";h9f+="M";h9f+="A";y6v.Studies.MA("simple",C6v.days,e6v,0,h9f + d6v,s6v,C6v);C36.T5H(155);var F6E=C36.F5H(3984,7984,2,1);C36.P5H(0);var o6E=C36.f5H(70560,61740);C36.T5H(0);var f6E=C36.f5H(6291,9);C36.P5H(156);var I6E=C36.f5H(4073,3,6,3);C36.T5H(115);var k6E=C36.F5H(4152,10,45784,12);C36.P5H(10);var d6E=C36.F5H(7346,15,3);e6v="SMA" + d6v + ((342.97,F6E) != o6E?" ":f6E > (I6E,k6E)?(d6E,"Q"):902.75) + C6v.name;}for(var N6v=Math.max(C6v.startFrom,10);N6v < Y6v.length;N6v++){if(!Y6v[N6v])continue;if(Y6v[N6v].futureTick)break;l6v=0;h6v=0;C36.P5H(115);var D6E=C36.F5H(6,11,67,4);G6v=Number.MAX_VALUE * -("1" * D6E);n6v=Number.MAX_VALUE;for(d6v=1;d6v <= 10;d6v++){C36.P5H(156);var N6E=C36.F5H(18665,17,14897,18);C36.P5H(157);var S6E=C36.F5H(2104,29680,8,14840);C36.P5H(158);var l6E=C36.F5H(1823,3,18,5463,789);C36.T5H(115);var x6E=C36.f5H(17988,5,340368,19);C36.P5H(158);var t6E=C36.F5H(3663,10,11,3669,36740);C36.T5H(136);var g6E=C36.F5H(14,87720,9466282,12,9);C36.P5H(55);var X6E=C36.f5H(31500,5,11,341255);C36.P5H(159);var u6E=C36.f5H(3934,1307,13,3913,12);X6v=Y6v[N6v]["SMA" + d6v + (N6E <= (S6E,l6E)?(x6E,821.45) != (t6E,g6E)?" ":(X6E,u6E):("N",797.10)) + C6v.name];if(X6v || X6v === "0" >> 1444150880){l6v+=X6v;h6v++;G6v=Math.max(G6v,X6v);n6v=Math.min(n6v,X6v);}}if(C6v.name.indexOf("Osc") > -1){f6v=j6v(C6v.inputs["HHV/LLV Lookback"],N6v);if(h6v){Y9f="Z";Y9f+="e";Y9f+="r";Y9f+="o ";C36.P5H(105);var m6E=C36.F5H(2,8,10,60);C36.P5H(10);var T6E=C36.f5H(0,13,12);Y6v[N6v][C6v.name + "_hist"]=m6E * (Y6v[N6v][v6v] - l6v / h6v) / Math.max(0.000001,f6v[T6E] - f6v[0]);C36.P5H(115);var A6E=C36.F5H(106,19,525,5);C36.T5H(10);var K6E=C36.F5H(0,15,14);Y6v[N6v]["Over " + C6v.name]=A6E * (G6v - n6v) / Math.max(0.000001,f6v[K6E] - f6v[0]);Y6v[N6v]["Under " + C6v.name]=-Y6v[N6v]["Over " + C6v.name];Y6v[N6v][Y9f + C6v.name]=0;}}}if(C6v.name.indexOf("Osc") > -("1" * 1)){s9f="Zer";s9f+="o";s9f+=" ";C6v.outputMap={};C6v.outputMap["Over " + C6v.name]="Positive Bar";C6v.outputMap["Under " + C6v.name]="Negative Bar";C6v.outputMap[s9f + C6v.name]="";C6v.outputMap[C6v.name + "_hist"]="";}};y6v.Studies.displayRainbowMA=function(i0v,R6v,H0v){L6EE.l8L();var c0v;c0v=i0v.panels[R6v.panel];for(var Z6v=+"10";Z6v > 0;Z6v--){y6v.Studies.displayIndividualSeriesAsLine(i0v,R6v,c0v,"SMA" + Z6v + " " + R6v.name,H0v);}};y6v.Studies.displayRainbowOsc=function(o0v,E0v,F0v){var O9f,p9f,W0v,S0v,r0v,K0v,T0v,Q0v,q0v,D0v,k0v,u0v,z9f,b0v;O9f="U";O9f+="nde";O9f+="r";O9f+=" ";p9f="Neg";p9f+="ative Bar";y6v.Studies.displaySeriesAsLine(o0v,E0v,F0v);W0v=o0v.panels[E0v.panel];S0v=E0v.getContext(o0v);r0v=E0v.getYAxis(o0v);o0v.startClip(E0v.panel);if(!E0v.highlight && o0v.highlightedDraggable){S0v.globalAlpha*=+"0.3";}K0v=o0v.pixelFromPrice(0,W0v,r0v);T0v=W0v.name != E0v.chart.name;Q0v=y6v.Studies.determineColor(E0v.outputs["Positive Bar"]);S0v.strokeStyle=Q0v;o0v.plotDataSegmentAsLine("Over " + E0v.name,W0v,{skipTransform:T0v,label:!1,yAxis:r0v});q0v=S0v.createLinearGradient(0,K0v,0,r0v.flipped?r0v.bottom:r0v.top);q0v.addColorStop(0,o0v.containerColor);q0v.addColorStop(1,Q0v);y6v.prepareChannelFill(o0v,{skipTransform:T0v,color:q0v,opacity:!E0v.highlight && o0v.highlightedDraggable?0.3:"1" - 0,panelName:E0v.panel,topBand:"Over " + E0v.name,bottomBand:"Zero " + E0v.name,yAxis:r0v});D0v=y6v.Studies.determineColor(E0v.outputs[p9f]);S0v.strokeStyle=D0v;o0v.plotDataSegmentAsLine("Under " + E0v.name,W0v,{skipTransform:T0v,label:![],yAxis:r0v});k0v=S0v.createLinearGradient(0,K0v,0,r0v.flipped?r0v.top:r0v.bottom);k0v.addColorStop(0,o0v.containerColor);k0v.addColorStop(1,D0v);y6v.prepareChannelFill(o0v,{skipTransform:T0v,color:k0v,opacity:!E0v.highlight && o0v.highlightedDraggable?0.3:1,panelName:E0v.panel,topBand:"Zero " + E0v.name,bottomBand:O9f + E0v.name,yAxis:r0v});L6EE.T5H(160);var Z6E=L6EE.F5H(5,18,25);u0v=o0v.layout.candleWidth - Z6E;if(u0v < +"2"){u0v=1;}o0v.canvasColor("stx_histogram");if(!E0v.underlay){S0v.globalAlpha=1;}if(!E0v.highlight && o0v.highlightedDraggable){S0v.globalAlpha*=0.3;}S0v.fillStyle="#CCCCCC";for(var V0v="0" << 1101658720;V0v < F0v.length;V0v++){z9f="_hi";z9f+="st";b0v=F0v[V0v];if(!b0v)continue;if(b0v[E0v.name + "_hist"] > 0){S0v.fillStyle=Q0v;}else if(b0v[E0v.name + z9f] < 0){S0v.fillStyle=D0v;}if(b0v.candleWidth){u0v=Math.floor(Math.max(1,b0v.candleWidth - 2));}S0v.fillRect(Math.floor(o0v.pixelFromBar(V0v,W0v.chart) - u0v / 2),Math.floor(K0v),Math.floor(u0v),Math.floor(o0v.pixelFromPrice(b0v[E0v.name + "_hist"],W0v,r0v) - K0v));}o0v.endClip();};y6v.Studies.studyLibrary=y6v.extend(y6v.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! ![],calculateFN:y6v.Studies.calculateRainbow,seriesFN:y6v.Studies.displayRainbowMA,inputs:{Period:"2" | 0,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:w9f,SMA10:"#FF00FF"}},"Rainbow Osc":{name:Q9f,calculateFN:y6v.Studies.calculateRainbow,seriesFN:y6v.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":E9f,"Negative Bar":"#FF0000"}}});}};m2S=U0v=>{var F9f,I0v,o9f;F9f="unde";F9f+="fin";L6EE.l8L();F9f+="e";F9f+="d";I0v=typeof _CIQ !== F9f?_CIQ:U0v.CIQ;if(!I0v.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {o9f="#F";o9f+="F0000";I0v.Studies.calculateRandomWalk=function(Y0v,t0v){var w0v,x0v,O0v,y0v,A0v,J0v,L0v,P0v,C0v;w0v=t0v.chart.scrubbed;L6EE.t8L();if(w0v.length < t0v.days + 1){t0v.error=! !{};return;}for(var B0v=Math.max(+"2",t0v.startFrom);B0v < w0v.length;B0v++){x0v=0;O0v=w0v[B0v].High;y0v=w0v[B0v].Low;A0v=0;L6EE.P5H(23);J0v=L6EE.F5H(0,"0");for(var M0v=1;M0v <= t0v.days;M0v++){if(w0v[B0v].futureTick)break;if(B0v <= M0v){A0v=J0v=0;break;}x0v+=w0v[B0v - M0v].trueRange;L0v=x0v / M0v * Math.sqrt(M0v);if(L0v){P0v=(O0v - w0v[B0v - M0v].Low) / L0v;C0v=(w0v[B0v - M0v].High - y0v) / L0v;A0v=Math.max(A0v,P0v);J0v=Math.max(J0v,C0v);}}if(!w0v[B0v].futureTick && (!isNaN(O0v) || !isNaN(y0v))){w0v[B0v]["Random Walk High " + t0v.name]=A0v;w0v[B0v]["Random Walk Low " + t0v.name]=J0v;}}};I0v.Studies.studyLibrary=I0v.extend(I0v.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:I0v.Studies.calculateRandomWalk,outputs:{"Random Walk High":o9f,"Random Walk Low":"#0000FF"}}});}};Z2S=d0v=>{var N0v,N9f,D9f,d9f;N0v=typeof _CIQ !== "undefined"?_CIQ:d0v.CIQ;if(!N0v.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {N9f="#";N9f+="FF";N9f+="000";N9f+="0";D9f="#";D9f+="00DD00";d9f="#FF00";d9f+="0";d9f+="0";N0v.Studies.calculateRelativeVigor=function(s0v,v0v){var k9f,f9f,f0v,X0v,h0v,n0v,e0v,I9f,j0v,l0v,G0v;k9f="_";k9f+="h";k9f+="is";k9f+="t";f9f="_";f9f+="Range ";f0v=v0v.chart.scrubbed;if(f0v.length < v0v.days + +"1"){v0v.error=! ![];return;}for(X0v=v0v.startFrom;X0v < f0v.length;X0v++){h0v=f0v[X0v];if(!isNaN(h0v.Close) && !isNaN(h0v.Open)){h0v["_Change " + v0v.name]=h0v.Close - h0v.Open;}if(!isNaN(h0v.High) && !isNaN(h0v.Low)){h0v["_Range " + v0v.name]=h0v.High - h0v.Low;}}N0v.Studies.MA("triangular",4,"_Change " + v0v.name,0,"_Numer",s0v,v0v);N0v.Studies.MA("triangular",4,f9f + v0v.name,0,"_Denom",s0v,v0v);n0v=[];e0v=[];for(X0v=Math.max(v0v.startFrom - v0v.days,+"0");X0v < f0v.length;X0v++){I9f="_De";I9f+="no";I9f+="m ";if(f0v[X0v].futureTick)break;if(f0v[X0v]["_Numer " + v0v.name] === null && f0v[X0v][I9f + v0v.name] === null)continue;n0v.push(f0v[X0v]["_Numer " + v0v.name]);e0v.push(f0v[X0v]["_Denom " + v0v.name]);if(n0v.length > v0v.days){n0v.shift();e0v.shift();}j0v=+"0";l0v=0;for(G0v=+"0";G0v < n0v.length;G0v++){j0v+=n0v[G0v];}for(G0v=+"0";G0v < e0v.length;G0v++){l0v+=e0v[G0v];}if(l0v === 0){l0v=0.00000001;}if(X0v < v0v.startFrom)continue;L6EE.T5H(13);f0v[X0v]["Rel Vig " + v0v.name]=L6EE.F5H(j0v,l0v);}N0v.Studies.MA("triangular",4,"Rel Vig " + v0v.name,0,"RelVigSignal",s0v,v0v);for(X0v=v0v.startFrom;X0v < f0v.length;X0v++){f0v[X0v][v0v.name + "_hist"]=f0v[X0v]["Rel Vig " + v0v.name] - f0v[X0v]["RelVigSignal " + v0v.name];}v0v.outputMap[v0v.name + k9f]="";};N0v.Studies.studyLibrary=N0v.extend(N0v.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:N0v.Studies.displayHistogramWithSeries,calculateFN:N0v.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:d9f,"Increasing Bar":D9f,"Decreasing Bar":N9f}}});}};R2S=z0v=>{var S9f,g0v,t9f;S9f="u";S9f+="nd";S9f+="efi";S9f+="ned";g0v=typeof _CIQ !== S9f?_CIQ:z0v.CIQ;if(!g0v.Studies){console.error("rsi feature requires first activating studies feature.");}else {t9f="a";t9f+="uto";g0v.Studies.calculateRSI=function(S9v,p0v){var A36=L6EE;var H9v,a0v,x9f,i9v,c9v,E9v,o9v,m0v,Z0v,l9f;H9v=p0v.chart.scrubbed;function r9v(u9v,W9v){var b9v;if(W9v === 0){return 100;}A36.P5H(13);b9v=A36.f5H(u9v,W9v);A36.T5H(161);return A36.F5H(b9v,100,1,100);}a0v=p0v.inputs.Field;if(!a0v || a0v == "field"){a0v="Close";}A36.l8L();if(H9v.length < p0v.days + 1){p0v.error=! ![];return;}for(var R0v=p0v.startFrom;R0v < H9v.length;R0v++){x9f="_";x9f+="a";x9f+="v";x9f+="gG ";if(!R0v)continue;i9v=H9v[R0v];A36.P5H(0);c9v=H9v[A36.F5H(R0v,1)];if(!i9v[a0v] && i9v[a0v] !== 0)continue;if(!c9v[a0v] && c9v[a0v] !== "0" - 0)continue;E9v=i9v[a0v] - c9v[a0v];o9v=Math.min(R0v,p0v.days);m0v=c9v["_avgG " + p0v.name];if(!m0v){m0v=0;}A36.T5H(13);m0v-=A36.F5H(m0v,o9v);Z0v=c9v["_avgL " + p0v.name];if(!Z0v){Z0v=+"0";}A36.T5H(13);Z0v-=A36.f5H(Z0v,o9v);if(E9v > 0){A36.T5H(13);m0v+=A36.f5H(E9v,o9v);}else if(E9v <= 0){A36.T5H(13);Z0v-=A36.F5H(E9v,o9v);}else continue;if(R0v >= p0v.days){l9f="R";l9f+="S";l9f+="I ";if((m0v || m0v !== 0) && (Z0v || Z0v !== 0)){i9v[l9f + p0v.name]=r9v(m0v,Z0v);}}i9v[x9f + p0v.name]=m0v;i9v["_avgL " + p0v.name]=Z0v;}p0v.zoneOutput="RSI";};g0v.Studies.studyLibrary=g0v.extend(g0v.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:g0v.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:t9f}}}});}};i6S=T9v=>{L6EE.l8L();var K9v,i9f,y9f;K9v=typeof _CIQ !== "undefined"?_CIQ:T9v.CIQ;if(!K9v.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {i9f="a";i9f+="u";i9f+="t";i9f+="o";y9f="au";y9f+="t";y9f+="o";K9v.Studies.calculateSchaff=function(O9v,V9v){var r36=L6EE;var m9f,u9f,X9f,g9f,D9v,F9v,L9v,I9v,U9v,x9v,B9v,w9v,Z9f,A9f,T9f,k9v,M9v,t9v,A9v,q9v,K9f,J9v;m9f="_M";m9f+="A";m9f+="C";m9f+="D1";u9f="Cl";u9f+="o";u9f+="s";u9f+="e";X9f="Long C";X9f+="ycle";g9f="S";g9f+="h";g9f+="ort Cy";g9f+="cle";D9v=V9v.chart.scrubbed;F9v=V9v.days;function y9v(v9v,d9v,X9v){var C9v,Y9v,P9v;C9v=null;r36.t8L();Y9v=null;for(var N9v=d9v - v9v + 1;N9v <= d9v;N9v++){r36.T5H(0);var y6E=r36.F5H(1764,1512);r36.T5H(22);var i6E=r36.f5H(5950,2443,41650);r36.P5H(38);var W6E=r36.f5H(9359,9361,9349,2);r36.P5H(10);var G6E=r36.F5H(0,3,2);r36.P5H(6);var B6E=r36.f5H(19,0,6183);r36.T5H(48);var P6E=r36.F5H(13,102279,110124,8);r36.P5H(162);var V6E=r36.F5H(116900,7,11,1800260,8345);r36.P5H(58);var U6E=r36.f5H(6,1254,1254);r36.T5H(0);var a6E=r36.F5H(148699,139952);r36.T5H(7);var L6E=r36.F5H(20,10,941,19);r36.T5H(7);var R6E=r36.f5H(7,18,1327,18);P9v=D9v[N9v][X9v + (y6E <= (778.45,649.35)?" ":(+"930.48",i6E) <= (W6E,"503.54" * G6E)?(! !0,B6E):(P6E,V6E) < (U6E,a6E)?("5.57e+3" - 0,L6E):R6E) + V9v.name];if(!P9v)continue;C9v=C9v === null?P9v:Math.min(C9v,P9v);Y9v=Y9v === null?P9v:Math.max(Y9v,P9v);}return [C9v,Y9v];}L9v=Number(V9v.inputs[g9f]);I9v=Number(V9v.inputs[X9f]);if(D9v.length < Math.max(F9v,L9v,I9v) + 1){V9v.error=! !"1";return;}U9v=V9v.inputs.Field;if(!U9v || U9v == "field"){U9v=u9f;}r36.T5H(1);x9v=r36.F5H("0.5",1);K9v.Studies.MA(V9v.inputs["Moving Average Type"],L9v,U9v,0,m9f,O9v,V9v);K9v.Studies.MA(V9v.inputs["Moving Average Type"],I9v,U9v,+"0","_MACD2",O9v,V9v);B9v=0;w9v=0;for(var Q9v=V9v.startFrom;Q9v < D9v.length;Q9v++){Z9f="_";Z9f+="P";Z9f+="F";Z9f+=" ";A9f="_MA";A9f+="C";A9f+="D";T9f="_M";T9f+="AC";T9f+="D";T9f+=" ";k9v=D9v[Q9v];if(Q9v < I9v - 1)continue;M9v=k9v["_MACD1 " + V9v.name];t9v=k9v["_MACD2 " + V9v.name];if(M9v || M9v === +"0" || t9v || t9v === 0){r36.T5H(0);k9v["_MACD " + V9v.name]=r36.F5H(M9v,t9v);}A9v=k9v[T9f + V9v.name];if(Q9v < I9v + (F9v - 1))continue;q9v=y9v(F9v,Q9v,A9f);B9v=q9v[1] > q9v[0]?100 * (A9v - q9v[0]) / (q9v[1] - q9v[0]):B9v;if(A9v || A9v === 0){K9f="_";K9f+="P";K9f+="F";K9f+=" ";k9v["_PF " + V9v.name]=D9v[Q9v - 1]["_PF " + V9v.name]?D9v[Q9v - 1]["_PF " + V9v.name] + x9v * (B9v - D9v[Q9v - 1][K9f + V9v.name]):B9v;}J9v=k9v[Z9f + V9v.name];if(Q9v < I9v + +"2" * (F9v - 1))continue;q9v=y9v(F9v,Q9v,"_PF");w9v=q9v[1] > q9v[0]?100 * (J9v - q9v[0]) / (q9v[1] - q9v[0]):w9v;if(J9v || J9v === +"0"){k9v["Result " + V9v.name]=D9v[Q9v - 1]["Result " + V9v.name]?D9v[Q9v - 1]["Result " + V9v.name] + x9v * (w9v - D9v[Q9v - ("1" >> 395562592)]["Result " + V9v.name]):w9v;}}};K9v.Studies.studyLibrary=K9v.extend(K9v.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:K9v.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":"23" << 1330342656,"Long Cycle":"50" ^ 0,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:75,studyOverBoughtColor:y9f,studyOverSoldValue:25,studyOverSoldColor:i9f}}}});}};c6S=h9v=>{var B8P,P8P,V8P,f9v,W9f;B8P=-248314287;L6EE.t8L();P8P=-598747117;V8P=2;for(var a8P=1;L6EE.v4P(a8P.toString(),a8P.toString().length,10347) !== B8P;a8P++){f9v=typeof _CIQ !== "undefined"?_CIQ:h9v.CIQ;V8P+=2;}if(L6EE.c2P(V8P.toString(),V8P.toString().length,68307) !== P8P){f9v=-_CIQ == ""?_CIQ:h9v.CIQ;}if(!f9v.Studies){W9f="shinohara feature requires f";W9f+="irst activatin";W9f+="g studies feature.";console.error(W9f);}else {f9v.Studies.calculateShinohara=function(s9v,e9v){var w36=L6EE;w36.l8L();var n9v,l9v,G9f,B9f;n9v=e9v.chart.scrubbed;if(n9v.length < e9v.days + 1){e9v.error=! !{};return;}l9v={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(e9v.startFrom > 1){G9f="_accu";G9f+="m";G9f+="s ";l9v=f9v.clone(n9v[e9v.startFrom - 1][G9f + e9v.name]);}for(var G9v=e9v.startFrom;G9v < n9v.length;G9v++){B9f="_acc";B9f+="ums ";l9v.weakNum+=n9v[G9v].High - n9v[G9v].Close;l9v.weakDen+=n9v[G9v].Close - n9v[G9v].Low;if(G9v > 0){w36.P5H(163);var r6E=w36.f5H(50,3,10,2,11);l9v.strongNum+=n9v[G9v].High - n9v[G9v - r6E].Close;w36.T5H(164);var H6E=w36.f5H(17,15,14,1,17);l9v.strongDen+=n9v[G9v - H6E].Close - n9v[G9v].Low;}if(G9v >= e9v.days){l9v.weakNum-=n9v[G9v - e9v.days].High - n9v[G9v - e9v.days].Close;l9v.weakDen-=n9v[G9v - e9v.days].Close - n9v[G9v - e9v.days].Low;w36.P5H(105);var n6E=w36.f5H(103,2,103,98);n9v[G9v]["Weak Ratio " + e9v.name]=n6E * l9v.weakNum / l9v.weakDen;if(G9v > e9v.days){w36.T5H(4);var C6E=w36.f5H(1,0);l9v.strongNum-=n9v[G9v - e9v.days].High - n9v[G9v - e9v.days - C6E].Close;w36.T5H(145);var j6E=w36.f5H(0,47,17,19,10);l9v.strongDen-=n9v[G9v - e9v.days - j6E].Close - n9v[G9v - e9v.days].Low;w36.P5H(71);var q6E=w36.f5H(9,17,1000,2600900,17);n9v[G9v]["Strong Ratio " + e9v.name]=q6E * l9v.strongNum / l9v.strongDen;}}n9v[G9v][B9f + e9v.name]=f9v.clone(l9v);}};f9v.Studies.studyLibrary=f9v.extend(f9v.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:f9v.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};H6S=g9v=>{var j9v,C8P,j8P,q8P,O7f,p7f,s7f,Y7f,h7f,M7f,v7f;L6EE.l8L();j9v=typeof _CIQ !== "undefined"?_CIQ:g9v.CIQ;if(!j9v.Studies){C8P=2050550478;j8P=-1241989517;q8P=2;for(var e8P=1;L6EE.v4P(e8P.toString(),e8P.toString().length,52380) !== C8P;e8P++){console.error("stochastics feature requires first activating studies feature.");q8P+=2;}if(L6EE.v4P(q8P.toString(),q8P.toString().length,93289) !== j8P){console.error("");}}else {O7f="f";O7f+="ie";O7f+="ld";p7f="0 t";p7f+="o 100";s7f="a";s7f+="u";s7f+="t";s7f+="o";Y7f="#";Y7f+="FF0";Y7f+="0";Y7f+="00";h7f="aut";h7f+="o";M7f="e";M7f+="m";M7f+="a";v7f="Stochastic M";v7f+="omentum Index";j9v.Studies.calculateStochastics=function(c1v,z9v){var r9f,R9f,V9f,P9f,m9v,p9v,a9v,R9v,i1v,L9f,a9f,E1v;r9f="%";r9f+="K";r9f+=" ";R9f="_";R9f+="Fa";R9f+="st%K";R9f+=" ";V9f="%K Smo";V9f+="othing ";function H1v(K1v,S1v,Q1v){var b9U=L6EE;var T1v,r1v,o1v,U9f,b1v,u1v,V1v;b9U.T5H(165);T1v=b9U.F5H("1",K1v,Q1v,336474144);b9U.P5H(0);var J6E=b9U.F5H(14,15);r1v=Number.MAX_VALUE * J6E;o1v=Number.MAX_VALUE;for(var W1v=T1v;W1v <= K1v;W1v++){U9f="C";U9f+="l";U9f+="os";U9f+="e";b1v=a9v[W1v][S1v == "Close"?"Low":S1v];u1v=a9v[W1v][S1v == U9f?"High":S1v];if(!b1v && b1v !== 0)continue;if(!u1v && u1v !== 0)continue;o1v=Math.min(o1v,b1v);r1v=Math.max(r1v,u1v);}if(r1v == Number.MAX_VALUE * -1 || o1v == Number.MAX_VALUE){return null;}V1v=r1v == o1v?"0" * 1:(a9v[K1v][S1v] - o1v) / (r1v - o1v) * 100;b9U.l8L();return V1v;}V9f+="Pe";V9f+="riods";P9f="%K Period";P9f+="s";if(!z9v.smooth){z9v.smooth=z9v.inputs.Smooth;}m9v=z9v.inputs.Field;if(!m9v || m9v == "field"){m9v="Close";}p9v=z9v.inputs[P9f];if(!p9v){p9v=z9v.days;}a9v=z9v.chart.scrubbed;if(a9v.length < Math.max(p9v,z9v.days) + 1){z9v.error=! !1;return;}R9v=z9v.inputs[V9f];if(R9v && !z9v.inputs.Fast){z9v.smooth=! !{};}else if(z9v.smooth){R9v=3;}i1v=z9v.inputs["%D Periods"];if(!i1v){i1v=3;}if(z9v.outputs.Fast){L9f="Slo";L9f+="w";a9f="%D";a9f+=" ";z9v.outputMap={};z9v.outputMap["%K " + z9v.name]="Fast";z9v.outputMap[a9f + z9v.name]=L9f;}for(var Z9v=Math.max(p9v,z9v.startFrom);Z9v < a9v.length;Z9v++){E1v=H1v(Z9v,m9v,p9v);if(E1v !== null){a9v[Z9v]["_Fast%K " + z9v.name]=H1v(Z9v,m9v,p9v);}}j9v.Studies.MA("simple",z9v.smooth?R9v:"1" - 0,R9f + z9v.name,0,"%K",c1v,z9v);j9v.Studies.MA("simple",i1v,r9f + z9v.name,"0" << 166852672,"%D",c1v,z9v);};j9v.Studies.calculateStochMomentum=function(F1v,q1v){var e36=L6EE;var e9f,J9f,q9f,j9f,C9f,n9f,H9f,I1v,B1v,w1v,t1v,D1v,k1v,M1v,U1v,c9f,b9f;e9f="_";e9f+="DH";e9f+="L";e9f+="2";J9f="_";J9f+="DHL1 ";q9f="_";q9f+="D";q9f+="HL";q9f+="1";j9f="_";j9f+="H";j9f+="S1 ";C9f="_H";C9f+=" ";n9f="%D ";n9f+="Periods";H9f="%";H9f+="K";H9f+=" Periods";I1v=Number(q1v.inputs[H9f]);B1v=Number(q1v.inputs["%K Smoothing Periods"]);w1v=Number(q1v.inputs["%K Double Smoothing Periods"]);t1v=Number(q1v.inputs[n9f]);D1v=q1v.chart.scrubbed;function A1v(y1v,O1v){var L1v,x1v;e36.t8L();L1v=null;x1v=null;for(var J1v=O1v - y1v + +"1";J1v <= O1v;J1v++){L1v=L1v === null?D1v[J1v].Low:Math.min(L1v,D1v[J1v].Low);x1v=x1v === null?D1v[J1v].High:Math.max(x1v,D1v[J1v].High);}return [L1v,x1v];}if(D1v.length < I1v + B1v + w1v - 1 || D1v.length < t1v){q1v.error=! !"1";return;}for(k1v=Math.max(I1v,q1v.startFrom) - 1;k1v < D1v.length;k1v++){M1v=D1v[k1v];U1v=A1v(I1v,k1v);e36.T5H(166);var e6E=e36.F5H(1,11,2,109,10);e36.P5H(167);var b6E=e36.F5H(3,13,1,13);M1v["_H " + q1v.name]=M1v.Close - (U1v[0] + U1v[e6E]) / b6E;e36.P5H(38);var c6E=e36.f5H(6,0,3,12);M1v["_DHL " + q1v.name]=U1v[c6E] - U1v[0];}j9v.Studies.MA("exponential",B1v,C9f + q1v.name,0,"_HS1",F1v,q1v);j9v.Studies.MA("exponential",w1v,j9f + q1v.name,0,"_HS2",F1v,q1v);j9v.Studies.MA("exponential",B1v,"_DHL " + q1v.name,"0" - 0,q9f,F1v,q1v);j9v.Studies.MA("exponential",w1v,J9f + q1v.name,"0" | 0,e9f,F1v,q1v);for(k1v=I1v - 1;k1v < D1v.length;k1v++){c9f="_D";c9f+="H";c9f+="L";c9f+="2 ";b9f="_";b9f+="H";b9f+="S2 ";e36.T5H(4);var v3E=e36.F5H(1,0);e36.T5H(7);var M3E=e36.f5H(32,2,116,18);D1v[k1v]["%K " + q1v.name]=D1v[k1v][b9f + q1v.name] / ("0.5" * v3E * D1v[k1v][c9f + q1v.name]) * M3E;}j9v.Studies.MA(q1v.inputs["%D Moving Average Type"],t1v,"%K " + q1v.name,0,"%D",F1v,q1v);q1v.zoneOutput="%K";};j9v.Studies.studyLibrary=j9v.extend(j9v.Studies.studyLibrary,{"Stch Mtm":{name:v7f,calculateFN:j9v.Studies.calculateStochMomentum,inputs:{"%K Periods":"10" >> 829816064,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":+"10","%D Moving Average Type":M7f},outputs:{"%K":h7f,"%D":Y7f},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:s7f}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:j9v.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !{}},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:p7f,calculateFN:j9v.Studies.calculateStochastics,inputs:{Field:O7f,"%K Periods":14,Fast:!{},"%K Smoothing Periods":3,"%D Periods":"3" | 0},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};E6S=C1v=>{var z7f,P1v,w7f;z7f="un";z7f+="d";z7f+="efined";L6EE.l8L();P1v=typeof _CIQ !== z7f?_CIQ:C1v.CIQ;if(!P1v.Studies){w7f="supertrend feature requires first acti";w7f+="vating studies feature.";console.error(w7f);}else {P1v.Studies.calculateSupertrend=function(n1v,Y1v){var c36=L6EE;var d1v,o7f,Q7f,v1v,h1v,G1v,X1v,f1v,E7f,F7f;d1v=Y1v.chart.scrubbed;if(d1v.length < Y1v.days + 1){Y1v.error=!0;return;}P1v.Studies.calculateStudyATR(n1v,Y1v);for(var N1v=Y1v.startFrom;N1v < d1v.length;N1v++){o7f="_Down";o7f+="trend ";Q7f="A";Q7f+="T";Q7f+="R";Q7f+=" ";v1v=d1v[N1v];if(!v1v)continue;c36.T5H(168);var h3E=c36.F5H(16,13,15,2);h1v=(v1v.High + v1v.Low) / h3E;G1v=Y1v.inputs.Multiplier * v1v[Q7f + Y1v.name];c36.P5H(0);X1v=c36.F5H(h1v,G1v);c36.P5H(4);f1v=c36.f5H(G1v,h1v);if(N1v){E7f="_Uptr";E7f+="end ";if(d1v[N1v - 1] && d1v[N1v - 1].Close && d1v[N1v - 1].Close > d1v[N1v - 1]["_Uptrend " + Y1v.name] && d1v[N1v - 1][E7f + Y1v.name] > X1v){c36.P5H(0);X1v=d1v[c36.f5H(N1v,1)]["_Uptrend " + Y1v.name];}if(d1v[N1v - 1] && d1v[N1v - 1].Close && d1v[N1v - 1].Close < d1v[N1v - 1]["_Downtrend " + Y1v.name] && d1v[N1v - 1]["_Downtrend " + Y1v.name] < f1v){c36.T5H(0);f1v=d1v[c36.f5H(N1v,1)]["_Downtrend " + Y1v.name];}}c36.P5H(29);v1v["_Direction " + Y1v.name]=c36.F5H("1",2147483647);if(N1v){F7f="_";F7f+="Direction";F7f+=" ";c36.P5H(0);v1v["_Direction " + Y1v.name]=d1v[c36.f5H(N1v,1)][F7f + Y1v.name];if(v1v.Close > d1v[N1v - 1]["_Downtrend " + Y1v.name]){v1v["_Direction " + Y1v.name]=1;}else if(v1v.Close < d1v[N1v - 1]["_Uptrend " + Y1v.name]){v1v["_Direction " + Y1v.name]=-1;}}v1v["_Uptrend " + Y1v.name]=X1v;v1v[o7f + Y1v.name]=f1v;v1v["Trend " + Y1v.name]=v1v["_Direction " + Y1v.name] > 0?X1v:f1v;if(!N1v)continue;}c36.l8L();Y1v.outputMap={};Y1v.outputMap["Trend " + Y1v.name]="";};P1v.Studies.displaySupertrend=function(l1v,e1v,g1v){var z1v,s1v,p1v,r7v,i7v,a1v,m1v,j1v,H7v,E7v;z1v=l1v.panels[e1v.panel];s1v=e1v.getContext(l1v);p1v=e1v.getYAxis(l1v);r7v={skipTransform:z1v.name != e1v.chart.name,skipProjections:! !{},label:l1v.preferences.labels,yAxis:p1v,highlight:e1v.highlight};s1v.strokeStyle=o7v(l1v,g1v[g1v.length - 1]);s1v.lineWidth=2;if(e1v.highlight){s1v.lineWidth=+"1.5";}i7v="Trend " + e1v.name;L6EE.l8L();for(var c7v=0;z1v.chart.transformFunc && p1v != z1v.chart.yAxis && c7v < g1v.length;c7v++){a1v=g1v[c7v];if(a1v && a1v.transform){a1v.transform[i7v]=z1v.chart.transformFunc(l1v,z1v.chart,a1v[i7v]);}}l1v.plotDataSegmentAsLine(i7v,z1v,r7v,o7v);s1v.lineWidth=1;s1v.globalAlpha=1;l1v.startClip(e1v.panel);if(!e1v.highlight && l1v.highlightedDraggable){s1v.globalAlpha*=0.3;}L6EE.P5H(160);var Y3E=L6EE.F5H(18,12,32);m1v=s1v.measureText("\u25B2").width / Y3E;function o7v(W7v,S7v,b7v){L6EE.l8L();if(S7v && S7v["_Direction " + e1v.name] < +"0"){return e1v.outputs.Downtrend;}return e1v.outputs.Uptrend;}for(j1v=0;j1v < g1v.length;j1v++){if(!g1v[j1v] || !g1v[j1v - 1])continue;if(g1v[j1v - 1]["_Direction " + e1v.name] > g1v[j1v]["_Direction " + e1v.name]){s1v.fillStyle=e1v.outputs.Downtrend;s1v.textBaseline="bottom";H7v=l1v.pixelFromPrice(g1v[j1v].High,z1v,p1v);for(var Z1v=5;Z1v <= 45;Z1v+=10){if(p1v.flipped){s1v.fillText(("9430" | 16,788.13) < 13.62?(9157,109.01) <= (115.75,631.64)?!"1":"K":"\u25B2",l1v.pixelFromBar(j1v) - m1v,H7v + Z1v);}else {s1v.fillText(2370 >= (+"9050",1440)?"\u25BC":0xd37,l1v.pixelFromBar(j1v) - m1v,H7v - Z1v);}}}else if(g1v[j1v - 1]["_Direction " + e1v.name] < g1v[j1v]["_Direction " + e1v.name]){s1v.fillStyle=e1v.outputs.Uptrend;s1v.textBaseline="top";E7v=l1v.pixelFromPrice(g1v[j1v].Low,z1v,p1v);for(var R1v=+"5";R1v <= 45;R1v+=10){if(p1v.flipped){s1v.fillText(("9577" - 0,+"5030") != 6285?"\u25BC":(806.28,812.89),l1v.pixelFromBar(j1v) - m1v,E7v - R1v);}else {s1v.fillText("\u25B2",l1v.pixelFromBar(j1v) - m1v,E7v + R1v);}}}}l1v.endClip();};P1v.Studies.studyLibrary=P1v.extend(P1v.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! ![],seriesFN:P1v.Studies.displaySupertrend,calculateFN:P1v.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:+"3"},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:"0.1" - 0,step:0.1}}}});}};o6S=K7v=>{var u7v,f7f,d7f;L6EE.t8L();u7v=typeof _CIQ !== "undefined"?_CIQ:K7v.CIQ;if(!u7v.Studies){f7f="swingIndex feature requires f";f7f+="irst activating studies feat";f7f+="ure.";console.error(f7f);}else {d7f="Accumulative S";d7f+="wing Index";u7v.Studies.calculateSwingIndex=function(A7v,Q7v){var b36=L6EE;var q7v,T7v,D7v,k7f,I7f,F7v,I7v,M7v,t7v,B7v,U7v,k7v,w7v;q7v=Q7v.inputs["Limit Move Value"];if(q7v === null || isNaN(q7v)){q7v=+"99999";}T7v=Q7v.chart.scrubbed;D7v=0;if(Q7v.startFrom > 1){b36.T5H(10);var s3E=b36.F5H(0,9,8);D7v=T7v[Q7v.startFrom - s3E]["Result " + Q7v.name];}for(var V7v=Math.max(1,Q7v.startFrom);V7v < T7v.length;V7v++){k7f="Resu";k7f+="l";k7f+="t";k7f+=" ";I7f="Swin";I7f+="g";F7v=Math.abs(T7v[V7v].High - T7v[V7v - 1].Close);I7v=Math.abs(T7v[V7v].Low - T7v[V7v - 1].Close);M7v=Math.abs(T7v[V7v].High - T7v[V7v].Low);t7v=Math.abs(T7v[V7v - 1].Close - T7v[V7v - 1].Open);B7v=Math.max(F7v,I7v);U7v=Math.max(M7v,B7v);b36.T5H(169);k7v=b36.f5H(t7v,0,"0.25",U7v);if(U7v == F7v){b36.P5H(1);k7v-=b36.f5H(0.5,I7v);}else if(U7v == I7v){b36.P5H(52);k7v-=b36.f5H("0.5",F7v,1);}b36.T5H(38);var p3E=b36.F5H(1,17,49,16);b36.T5H(67);var O3E=b36.f5H(16,13,4,1);b36.T5H(47);var z3E=b36.F5H(7,5,10,76);w7v=p3E * (T7v[V7v].Close - T7v[V7v - "1" * O3E].Close + 0.5 * (T7v[V7v].Close - T7v[V7v].Open) + 0.25 * (T7v[V7v - z3E].Close - T7v[V7v - +"1"].Open)) / k7v * (B7v / q7v);if(k7v === 0 || q7v === +"0"){w7v=0;}if(Q7v.type == I7f){b36.P5H(1);D7v=b36.f5H("0",1);}D7v+=w7v;T7v[V7v][k7f + Q7v.name]=D7v;}};u7v.Studies.studyLibrary=u7v.extend(u7v.Studies.studyLibrary,{"Acc Swing":{name:d7f,calculateFN:u7v.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:u7v.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};r6S=L7v=>{var J7v,D7f,g7f,t7f,x7f;J7v=typeof _CIQ !== "undefined"?_CIQ:L7v.CIQ;L6EE.t8L();if(!J7v.Studies){D7f="trendIntens";D7f+="ity f";D7f+="eature requires ";D7f+="first activating studies feature.";console.error(D7f);}else {g7f="au";g7f+="t";g7f+="o";t7f="fi";t7f+="eld";x7f="0 to ";x7f+="100";J7v.Studies.calculateTrendIntensity=function(X7v,x7v){var K36=L6EE;var l7f,S7f,N7f,P7v,C7v,Y7v,N7v,O7v,y7v,d7v,v7v;l7f="TI";l7f+="I ";S7f="Signa";S7f+="l Pe";S7f+="riod";N7f="m";N7f+="a";P7v=x7v.chart.scrubbed;if(P7v.length < x7v.days + 1){x7v.error=!"";return;}C7v=x7v.inputs.Field;if(!C7v || C7v == "field"){C7v="Close";}J7v.Studies.MA(N7f,x7v.days,C7v,0,"_SMA",X7v,x7v);function f7v(G7v,h7v){if(Math.abs(h7v) < 0.00000001){return +"100";}K36.T5H(170);return K36.f5H(100,G7v,1,100,h7v);}Y7v=0;N7v=0;d7v=[];v7v=Math.ceil(x7v.days / 2);for(O7v=Math.max(0,x7v.startFrom - v7v);O7v < P7v.length;O7v++){if(!P7v[O7v]["_SMA " + x7v.name] && P7v[O7v]["_SMA " + x7v.name] !== +"0")continue;y7v=P7v[O7v][C7v] - P7v[O7v]["_SMA " + x7v.name];if(y7v < 0){K36.T5H(171);N7v+=K36.f5H(y7v,1);}else {Y7v+=y7v;}d7v.push(y7v);if(d7v.length > v7v){y7v=d7v.shift();if(y7v < 0){K36.P5H(171);N7v-=K36.f5H(y7v,1);}else {Y7v-=y7v;}}if(O7v < x7v.startFrom)continue;P7v[O7v]["TII " + x7v.name]=f7v(Y7v,N7v);}J7v.Studies.MA("ema",x7v.inputs[S7f],l7f + x7v.name,0,"Signal",X7v,x7v);};J7v.Studies.studyLibrary=J7v.extend(J7v.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:J7v.Studies.calculateTrendIntensity,range:x7f,inputs:{Period:14,Field:t7f,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:g7f,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};S6S=e7v=>{var n7v,X7f,m7f;n7v=typeof _CIQ !== "undefined"?_CIQ:e7v.CIQ;if(!n7v.Studies){X7f="trix fea";X7f+="ture re";X7f+="quires first activatin";X7f+="g studies feature.";console.error(X7f);}else {m7f="T";m7f+="R";m7f+="IX";n7v.Studies.calculateTRIX=function(R7v,l7v){var Y36=L6EE;var u7f,s7v,g7v,p7v,m7v,Z7v,a7v;u7f="_MA1";u7f+=" ";s7v=l7v.chart.scrubbed;if(s7v.length < l7v.days + 1){l7v.error=! !{};return;}g7v=l7v.name;Y36.P5H(4);p7v=["Close",Y36.F5H(g7v,u7f),Y36.f5H(g7v,"_MA2 "),Y36.f5H(g7v,"_MA3 ")];for(var z7v=0;z7v < p7v.length - +"1";z7v++){n7v.Studies.MA("exponential",l7v.days,p7v[z7v],+"0","_MA" + (z7v + 1).toString(),R7v,l7v);}m7v=p7v[3];for(var j7v=Math.max(1,l7v.startFrom);j7v < s7v.length;j7v++){Y36.P5H(0);Z7v=s7v[Y36.f5H(j7v,1)][m7v];if(!Z7v)continue;a7v=s7v[j7v][m7v];if(a7v || a7v === 0){Y36.T5H(4);s7v[j7v][Y36.f5H(g7v,"Result ")]=Y36.F5H(a7v,Z7v,"1",1985285376,100,Y36.P5H(172));}}};n7v.Studies.studyLibrary=n7v.extend(n7v.Studies.studyLibrary,{TRIX:{name:m7f,calculateFN:n7v.Studies.calculateTRIX}});}};W6S=c4v=>{L6EE.l8L();var i4v,T7f;i4v=typeof _CIQ !== "undefined"?_CIQ:c4v.CIQ;if(!i4v.Studies){T7f="twiggsMoneyFlow feature requires first activat";T7f+="ing studies feature.";console.error(T7f);}else {i4v.Studies.calculateTwiggsMoneyFlow=function(K4v,H4v){var m36=L6EE;var o4v,S4v,r4v,W4v,A7f,Z7f,b4v,u4v,K7f;o4v=H4v.chart.scrubbed;if(o4v.length < H4v.days){H4v.error=! !"1";return;}S4v=0;r4v=0;m36.P5H(6);var w3E=m36.F5H(8,7,0);W4v=o4v[H4v.startFrom - w3E];if(W4v){A7f="_sum";A7f+="V ";if(W4v["_sumMF " + H4v.name]){S4v=W4v["_sumMF " + H4v.name];}if(W4v[A7f + H4v.name]){r4v=W4v["_sumV " + H4v.name];}}for(var E4v=Math.max(1,H4v.startFrom);E4v < o4v.length;E4v++){Z7f="_";Z7f+="s";Z7f+="umMF";Z7f+=" ";b4v=Math.max(o4v[E4v - 1].Close,o4v[E4v].High);u4v=Math.min(o4v[E4v - 1].Close,o4v[E4v].Low);m36.P5H(68);var Q3E=m36.F5H(13,10,7,18);m36.P5H(136);var E3E=m36.F5H(3,4999995,178999803,6,6);o4v[E4v]["_MFV " + H4v.name]=o4v[E4v].Volume * (Q3E * o4v[E4v].Close - b4v - u4v) / (b4v - u4v === 0?E3E:b4v - u4v);if(E4v > H4v.days - 1){m36.P5H(4);var F3E=m36.f5H(1,0);S4v*=(H4v.days - F3E) / H4v.days;m36.T5H(145);var o3E=m36.F5H(17,16,3,13,16);r4v*=(H4v.days - o3E) / H4v.days;}S4v+=o4v[E4v]["_MFV " + H4v.name];r4v+=o4v[E4v].Volume;if(E4v > H4v.days - 1){K7f="Result";K7f+=" ";if(r4v){m36.T5H(13);o4v[E4v][K7f + H4v.name]=m36.F5H(S4v,r4v > ("0" ^ 0)?r4v:999999);}}o4v[E4v][Z7f + H4v.name]=S4v;o4v[E4v]["_sumV " + H4v.name]=r4v;}};i4v.Studies.studyLibrary=i4v.extend(i4v.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:i4v.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};b6S=V4v=>{var y7f,T4v,i7f,W7f,G7f;y7f="und";L6EE.t8L();y7f+="efined";T4v=typeof _CIQ !== y7f?_CIQ:V4v.CIQ;if(!T4v.Studies){i7f="typical";i7f+="Price feat";i7f+="u";i7f+="re requires first activating studies feature.";console.error(i7f);}else if(!T4v.Studies.calculateTypicalPrice){W7f="typi";W7f+="calPrice feature requires first activat";W7f+="ing medianPrice feature.";console.error(W7f);}else {G7f="Weigh";G7f+="ted";G7f+=" Clos";G7f+="e";T4v.Studies.studyLibrary=T4v.extend(T4v.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:T4v.Studies.calculateTypicalPrice,inputs:{Period:"14" - 0}},"Weighted Close":{name:G7f,calculateFN:T4v.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};u6S=q4v=>{L6EE.t8L();var Q4v,a7f;Q4v=typeof _CIQ !== "undefined"?_CIQ:q4v.CIQ;if(!Q4v.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {a7f="U";a7f+="lc";a7f+="er Index";Q4v.Studies.calculateUlcerIndex=function(B4v,D4v){var P7f,B7f,F4v,I4v,k4v,V7f,U7f,U4v;function w4v(L4v,A4v,J4v){L6EE.t8L();var t4v;t4v=null;for(var M4v=A4v - L4v + 1;M4v <= A4v;M4v++){if(M4v < 0)continue;t4v=t4v === null?F4v[M4v][J4v]:Math.max(t4v,F4v[M4v][J4v]);}return t4v;}P7f="C";P7f+="l";P7f+="o";P7f+="se";B7f="fi";B7f+="el";B7f+="d";F4v=D4v.chart.scrubbed;L6EE.t8L();if(F4v.length < 2 * D4v.days - +"1"){D4v.error=!"";return;}I4v=D4v.inputs.Field;if(!I4v || I4v == B7f){I4v=P7f;}for(k4v=Math.max(D4v.startFrom,D4v.days - 1);k4v < F4v.length;k4v++){V7f="_";V7f+="PD";V7f+="2";V7f+=" ";F4v[k4v][V7f + D4v.name]=Math.pow(("100" << 1829668288) * (F4v[k4v][I4v] / w4v(D4v.days,k4v,I4v) - 1),"2" >> 1201919328);}Q4v.Studies.MA("simple",D4v.days,"_PD2 " + D4v.name,0,"_MA",B4v,D4v);for(k4v=Math.max(D4v.startFrom,2 * (D4v.days - ("1" >> 983918528)));k4v < F4v.length;k4v++){U7f="_";U7f+="MA ";U4v=F4v[k4v][U7f + D4v.name];if(U4v || U4v === 0){F4v[k4v]["Result " + D4v.name]=Math.sqrt(U4v);}}};Q4v.Studies.studyLibrary=Q4v.extend(Q4v.Studies.studyLibrary,{Ulcer:{name:a7f,calculateFN:Q4v.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};K6S=O4v=>{var x4v,H7f;x4v=typeof _CIQ !== "undefined"?_CIQ:O4v.CIQ;L6EE.l8L();if(!x4v.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {H7f="Ul";H7f+="timate Osci";H7f+="l";H7f+="lator";x4v.Studies.calculateUltimateOscillator=function(a4v,P4v){var y36=L6EE;var L7f,y4v,Y4v,X4v,f4v,h4v,G4v,d4v,v4v,R7f,r7f,n4v,l4v,s4v,e4v,j4v,g4v,z4v,p4v;L7f="C";L7f+="ycle";L7f+=" 1";y4v=P4v.chart.scrubbed;Y4v=[P4v.inputs[L7f],P4v.inputs["Cycle 2"],P4v.inputs["Cycle 3"]];X4v=Math.max(Y4v[0],Y4v[+"1"],Y4v[2]);if(y4v.length < X4v + 1){P4v.error=! ![];return;}f4v=Y4v[0] * Y4v["1" - 0];y36.P5H(129);var f3E=y36.F5H(10,6,3);h4v=Y4v[0] * Y4v["2" * f3E];y36.l8L();y36.T5H(125);var I3E=y36.f5H(7,44,6);G4v=Y4v["1" - 0] * Y4v[I3E];y36.P5H(30);d4v=[y36.F5H(0,"0"),0,0];v4v=[0,+"0",+"0"];if(P4v.startFrom){R7f="_";R7f+="ac";R7f+="c";R7f+="tr ";if(y4v[P4v.startFrom - 1]["_accbp " + P4v.name]){d4v=y4v[P4v.startFrom - 1]["_accbp " + P4v.name].slice();}if(y4v[P4v.startFrom - 1][R7f + P4v.name]){v4v=y4v[P4v.startFrom - 1]["_acctr " + P4v.name].slice();}}for(var C4v=Math.max(1,P4v.startFrom);C4v < y4v.length;C4v++){r7f="_a";r7f+="c";r7f+="ctr ";n4v=Math.min(y4v[C4v].Low,y4v[C4v - 1].Close);l4v=y4v[C4v].Close - n4v;y36.T5H(7);var k3E=y36.f5H(18,3,15,7);s4v=Math.max(y4v[C4v].High,y4v[C4v - k3E].Close) - n4v;for(var N4v=0;N4v < Y4v.length;N4v++){d4v[N4v]+=l4v;v4v[N4v]+=s4v;if(C4v > Y4v[N4v]){e4v=Math.min(y4v[C4v - Y4v[N4v]].Low,y4v[C4v - Y4v[N4v] - 1].Close);j4v=y4v[C4v - Y4v[N4v]].Close - e4v;y36.T5H(44);var d3E=y36.F5H(38,11,10,5);g4v=Math.max(y4v[C4v - Y4v[N4v]].High,y4v[C4v - Y4v[N4v] - d3E].Close) - e4v;d4v[N4v]-=j4v;v4v[N4v]-=g4v;}}y4v[C4v]["_accbp " + P4v.name]=d4v.slice();y4v[C4v][r7f + P4v.name]=v4v.slice();if(C4v < X4v)continue;y36.T5H(6);var D3E=y36.F5H(19,19,1);y36.T5H(0);var N3E=y36.f5H(6,5);y36.P5H(49);var S3E=y36.F5H(1,17,19);y36.T5H(49);var l3E=y36.f5H(2,9,22);z4v=G4v * d4v[0] / v4v[0] + h4v * d4v[D3E] / v4v[N3E] + f4v * d4v[S3E] / v4v[l3E];y36.P5H(91);p4v=y36.F5H(h4v,f4v,G4v);y36.P5H(117);y4v[C4v]["Result " + P4v.name]=y36.F5H(100,p4v,z4v);}};x4v.Studies.studyLibrary=x4v.extend(x4v.Studies.studyLibrary,{Ultimate:{name:H7f,calculateFN:x4v.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":"14" >> 1495161952,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};T6S=Z4v=>{var m4v,h5f,M5f,v5f;L6EE.l8L();m4v=typeof _CIQ !== "undefined"?_CIQ:Z4v.CIQ;if(!m4v.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {h5f="#ff";h5f+="f6";h5f+="9";h5f+="e";M5f="me";M5f+="d";M5f+="ian";v5f="m";v5f+="e";v5f+="a";v5f+="n";m4v.Studies.calculateValuationLines=function(r3v,R4v,W3v){var j36=L6EE;var V3v,D3v,Q3v,b3v,u3v,K3v,T3v,i3v,c3v,H3v,o3v,S3v,q3v;V3v=R4v.inputs.Field == "field"?"Close":R4v.inputs.Field;D3v=R4v.inputs["Average Type"];Q3v=R4v.inputs["Display Average"];b3v=R4v.inputs["Display 1 Standard Deviation (1\u03C3)"];u3v=R4v.inputs["Display 2 Standard Deviation (2\u03C3)"];K3v=R4v.inputs["Display 3 Standard Deviation (3\u03C3)"];j36.t8L();T3v=[];for(var E3v="0" - 0;E3v < W3v.length;++E3v){if(W3v[E3v] && !isNaN(W3v[E3v][V3v])){T3v.push(W3v[E3v][V3v]);}}i3v=(function(B3v,t3v){var n7f,k3v,I3v,U3v,F3v,w3v,M3v;n7f="m";n7f+="e";n7f+="dia";j36.l8L();n7f+="n";k3v=B3v.length;I3v=0;U3v=0;F3v=0;switch(t3v){case "mean":U3v=k3v;for(;F3v < k3v;++F3v){I3v+=B3v[F3v];}break;case "harmonic":I3v=k3v;for(;F3v < k3v;++F3v){j36.P5H(58);var x3E=j36.f5H(11,87,8);U3v+=x3E / B3v[F3v];}break;case n7f:j36.T5H(13);w3v=Math.floor(j36.f5H(k3v,2));M3v=B3v.slice().sort(function(A3v,J3v){j36.t8L();if(A3v > J3v){return 1;}if(A3v < J3v){return -1;}return +"0";});if(k3v % 2 === 0){j36.T5H(96);var t3E=j36.f5H(16,79,13,10);I3v=M3v[w3v] + M3v[w3v - t3E];U3v=2;}else {I3v=M3v[w3v];U3v=1;}break;}j36.P5H(13);return j36.f5H(I3v,U3v);})(T3v,D3v);c3v=!(b3v || u3v || K3v) || (function(y3v,P3v){var x3v,O3v;x3v=y3v.length;O3v=0;for(var L3v=0;L3v < x3v;++L3v){O3v+=Math.pow(y3v[L3v] - P3v,2);}j36.t8L();j36.T5H(13);return Math.sqrt(j36.f5H(O3v,x3v));})(T3v,i3v);R4v.data={Average:Q3v?[i3v]:null,"1 Standard Deviation (1\u03C3)":b3v?[i3v + c3v,i3v - c3v]:null,"2 Standard Deviation (2\u03C3)":u3v?[i3v + c3v * 2,i3v - c3v * 2]:null,"3 Standard Deviation (3\u03C3)":K3v?[i3v + c3v * 3,i3v - c3v * 3]:null};H3v=c3v;if(!R4v.parameters){R4v.parameters={};}if(K3v){j36.T5H(173);R4v.parameters.range=[j36.F5H(3,i3v,H3v,c3v),j36.F5H(H3v,i3v,"3",c3v,j36.P5H(174))];}else if(u3v){j36.T5H(173);R4v.parameters.range=[j36.f5H(2,i3v,H3v,c3v),j36.F5H(2,c3v,i3v,H3v,j36.P5H(175))];}else if(b3v){j36.P5H(17);R4v.parameters.range=[j36.f5H(i3v,c3v,H3v),j36.F5H(c3v,H3v,i3v,j36.P5H(91))];}else if(Q3v){j36.P5H(0);R4v.parameters.range=[j36.f5H(i3v,H3v),j36.F5H(H3v,i3v,j36.P5H(4))];}if(R4v.panel){o3v=r3v.panels[R4v.panel];S3v=r3v.getYAxisByName(o3v,R4v.name);if(S3v){S3v.decimalPlaces=o3v.chart.yAxis.printDecimalPlaces;q3v={yAxis:S3v};r3v.calculateYAxisRange(o3v,S3v,R4v.parameters.range[0],R4v.parameters.range["1" << 520872992]);r3v.createYAxis(o3v,q3v);r3v.drawYAxis(o3v,q3v);}}};m4v.Studies.displayValuationLines=function(Y3v,d3v){var T36=L6EE;T36.l8L();var J7f,q7f,j7f,C7f,C3v,v3v,f3v,n3v,R3v,i5v,c5v,h3v,G3v,e3v,j3v,g3v,z3v,p3v,l3v,s3v,N3v,a3v,H5v,m3v,c7f,b7f,e7f,Z3v;J7f="ciq-valuati";J7f+="on-deviatio";J7f+="n";J7f+="-line";q7f="ciq-valuation-averag";q7f+="e-line";j7f="M";j7f+="E";j7f+="D";C7f="Aver";C7f+="age Type";C3v=Y3v.panels[d3v.panel];v3v=d3v.getYAxis(Y3v);f3v=d3v.getContext(Y3v);n3v=d3v.data;R3v=d3v.parameters.labels;i5v=d3v.inputs[C7f];c5v={mean:"AVG",median:j7f,harmonic:"HAVG"};h3v=Y3v.canvasStyle(q7f);G3v=Y3v.canvasStyle(J7f);e3v=3;T36.P5H(4);var g3E=T36.f5H(2,0);j3v=Y3v.getCanvasFontSize("stx_yaxis") + e3v * g3E;for(var X3v in n3v){if(!n3v[X3v])continue;T36.P5H(176);g3v=T36.f5H(X3v,"Average");z3v=m4v.Studies.determineColor(d3v.outputs[X3v]);p3v=n3v[X3v];for(l3v=0;l3v < p3v.length;++l3v){c7f="y";c7f+="ax";c7f+="i";c7f+="s";b7f="d";b7f+="ashed";e7f="s";e7f+="olid";s3v=p3v[l3v];N3v=Y3v.pixelFromPrice(s3v,C3v,v3v);if(N3v <= C3v.top || N3v >= C3v.yAxis.bottom)continue;m3v=g3v?{pattern:h3v.borderStyle != "none"?h3v.borderStyle || e7f:"solid",lineWidth:parseFloat(h3v.borderWidth) || 1,opacity:parseFloat(h3v.opacity) || 1,yAxis:v3v}:{pattern:G3v.borderStyle != "none"?G3v.borderStyle || "dashed":b7f,lineWidth:parseFloat(G3v.borderWidth) || +"1",opacity:parseFloat(G3v.opacity) || +"1",yAxis:v3v};Y3v.plotLine(C3v.left,C3v.right,N3v,N3v,z3v,"line",f3v,C3v,m3v);if(R3v === c7f){Y3v.createYAxisLabel(C3v,Y3v.formatYAxisPrice(s3v,C3v),N3v,z3v,null,f3v,v3v);continue;}N3v+=Math.floor(m3v.lineWidth / 2);if(N3v + j3v >= C3v.yAxis.bottom)continue;a3v=(g3v?c5v[i5v] + ": ":X3v[0] + "\u03C3: ") + Y3v.formatYAxisPrice(s3v,C3v);H5v=f3v.measureText(a3v).width;Z3v=C3v.right - H5v - e3v;if(v3v && v3v.position == "left"){Z3v=C3v.left + e3v;}T36.T5H(177);f3v.strokeText(a3v,Z3v,T36.F5H(N3v,j3v,2,0.5));}}};m4v.Studies.studyLibrary=m4v.extend(m4v.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(E5v,o5v,r5v){m4v.Studies.calculateValuationLines(E5v,o5v,r5v);m4v.Studies.displayValuationLines(E5v,o5v);},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":[v5f,M5f,"harmonic"],"Display Average":! !"1","Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":h5f}}});}};V6S=W5v=>{var S5v,f5f,o5f,F5f;S5v=typeof _CIQ !== "undefined"?_CIQ:W5v.CIQ;if(!S5v.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {f5f="fi";f5f+="el";f5f+="d";o5f="Relative Vola";o5f+="t";o5f+="ility";F5f="f";F5f+="ie";F5f+="l";F5f+="d";S5v.Studies.calculateRelativeVolatility=function(F5v,b5v){var p36=L6EE;var s5f,Y5f,k5v,Q5v,u5v,T5v,V5v,p5f,z5f,K5v,D5v,O5f,Y6P,s6P,p6P;s5f="m";s5f+="a";Y5f="f";Y5f+="ie";Y5f+="ld";b5v.days=Number(b5v.inputs["Smoothing Period"]);k5v=Number(b5v.inputs["STD Period"]);Q5v=b5v.chart.scrubbed;if(Q5v.length < b5v.days + k5v){b5v.error=!"";return;}u5v=b5v.inputs.Field;if(!u5v || u5v == Y5f){u5v="Close";}b5v.std=new S5v.Studies.StudyDescriptor(b5v.name,"sdev",b5v.panel);b5v.std.chart=b5v.chart;b5v.std.days=k5v;function I5v(U5v,B5v){if(U5v + B5v === 0){return 100;}p36.T5H(178);return p36.F5H("100",U5v,U5v,B5v);}b5v.std.startFrom=b5v.startFrom;b5v.std.inputs={Field:u5v,"Standard Deviations":"1" & 2147483647,Type:s5f};b5v.std.outputs={_STD:null};S5v.Studies.calculateStandardDeviation(F5v,b5v.std);T5v=0;V5v=+"0";if(b5v.startFrom > 1){p5f="_a";p5f+="vg";p5f+="L";p5f+=" ";T5v=Q5v[b5v.startFrom - 1]["_avgG " + b5v.name] || 0;V5v=Q5v[b5v.startFrom - "1" * 1][p5f + b5v.name] || 0;}for(var q5v=Math.max(b5v.startFrom,b5v.days);q5v < Q5v.length;q5v++){z5f="_av";z5f+="gG ";K5v=Q5v[q5v];p36.T5H(19);D5v=Q5v[p36.F5H("1",q5v)];if(!K5v[u5v] && K5v[u5v] !== "0" * 1)continue;if(!D5v[u5v] && D5v[u5v] !== ("0" ^ 0))continue;if(!K5v["_STD " + b5v.name] && K5v["_STD " + b5v.name] !== 0)continue;if(K5v[u5v] > D5v[u5v]){p36.T5H(78);var X3E=p36.f5H(17,106,10,15);T5v=(T5v * (b5v.days - X3E) + K5v["_STD " + b5v.name]) / b5v.days;p36.T5H(129);var u3E=p36.F5H(2,0,1);V5v=V5v * (b5v.days - "1" * u3E) / b5v.days;}else {O5f="_";O5f+="S";O5f+="TD";O5f+=" ";p36.T5H(0);var m3E=p36.f5H(5,4);V5v=(V5v * (b5v.days - m3E) + K5v[O5f + b5v.name]) / b5v.days;p36.T5H(47);var T3E=p36.f5H(4,15,15,76);T5v=T5v * (b5v.days - T3E) / b5v.days;}K5v["Rel Vol " + b5v.name]=I5v(T5v,V5v);K5v[z5f + b5v.name]=T5v;K5v["_avgL " + b5v.name]=V5v;}p36.T5H(1);Y6P=p36.F5H("1598517060",1);s6P=-993392338;p6P=2;for(var z6P=1;p36.v4P(z6P.toString(),z6P.toString().length,66557) !== Y6P;z6P++){b5v.zoneOutput="";p36.T5H(23);p6P+=p36.f5H(2,"2");}if(p36.v4P(p6P.toString(),p6P.toString().length,11813) !== s6P){b5v.zoneOutput="Rel Vol";}};S5v.Studies.calculateHistoricalVolatility=function(y5v,w5v){var P36=L6EE;var w5f,M5v,L5v,x5v,N5v,J5v,t5v,y4P,i4P,W4P,E5f,P5v,C5v,Q5f,Y5v;function d5v(v5v){if(isNaN(v5v)){v5v=+"365";}if(y5v.layout.interval == "day"){return v5v;}else if(y5v.layout.interval == "week"){return 52;}else if(y5v.layout.interval == "month"){return 12;}return v5v;}w5f="f";w5f+="ie";w5f+="l";w5f+="d";M5v=w5v.chart.scrubbed;if(M5v.length < w5v.days + ("1" & 2147483647)){w5v.error=!"";return;}L5v=w5v.inputs.Field;if(!L5v || L5v == w5f){L5v="Close";}x5v=w5v.inputs["Standard Deviations"];if(x5v < 0){x5v=1;}P36.T5H(124);var A3E=P36.f5H(9,4,113,1);N5v=A3E * Math.sqrt(d5v(w5v.inputs["Days Per Year"])) * x5v;J5v=[];t5v=0;if(w5v.startFrom > 1){P36.T5H(96);var K3E=P36.f5H(10,131,13,0);P36.T5H(1);t5v=M5v[w5v.startFrom - K3E]["_state " + w5v.name][P36.f5H("0",1)];y4P=-1410346772;i4P=779709123;W4P=2;for(var B4P=1;P36.v4P(B4P.toString(),B4P.toString().length,70417) !== y4P;B4P++){J5v=M5v[w5v.startFrom + 0]["" - w5v.name][3].slice();W4P+=2;}if(P36.c2P(W4P.toString(),W4P.toString().length,91300) !== i4P){J5v=M5v[w5v.startFrom - "1" * 1]["_state " + w5v.name][1].slice();}}for(var A5v=Math.max(1,w5v.startFrom);A5v < M5v.length;A5v++){E5f="_";E5f+="stat";E5f+="e ";P36.P5H(0);P5v=M5v[P36.F5H(A5v,1)][L5v];if(P5v){C5v=Math.log(M5v[A5v][L5v] / P5v);J5v.push(C5v);t5v+=C5v;if(A5v >= w5v.days){Q5f="Resu";Q5f+="l";Q5f+="t ";Y5v=0;t5v/=w5v.days;for(var O5v=0;O5v < J5v.length;O5v++){Y5v+=Math.pow(J5v[O5v] - t5v,2);}t5v*=w5v.days;t5v-=J5v.shift();M5v[A5v][Q5f + w5v.name]=Math.sqrt(Y5v / w5v.days) * N5v;}}M5v[A5v][E5f + w5v.name]=[t5v,J5v.slice()];}};S5v.Studies.studyLibrary=S5v.extend(S5v.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:S5v.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:F5f,"Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:o5f,range:"0 to 100",calculateFN:S5v.Studies.calculateRelativeVolatility,inputs:{Field:f5f,"STD Period":10,"Smoothing Period":+"14"},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};Q6S=f5v=>{var l8P,x8P,t8P,X5v,I5f;l8P=-1123891410;L6EE.t8L();x8P=-620381211;t8P=2;for(var X8P=+"1";L6EE.v4P(X8P.toString(),X8P.toString().length,94248) !== l8P;X8P++){X5v=-_CIQ === ""?_CIQ:f5v.CIQ;t8P+=2;}if(L6EE.v4P(t8P.toString(),t8P.toString().length,70187) !== x8P){X5v=typeof _CIQ !== "undefined"?_CIQ:f5v.CIQ;}if(!X5v.Studies){I5f="volumeProfile f";I5f+="eature";I5f+=" requires first activ";I5f+="ating studies feature.";console.error(I5f);}else {X5v.Studies.displayVolumeProfile=function(n5v,s5v,K8v){var N5f,l5v,g5v,a5v,R5v,i8v,S8v,G5v,k5f,m5v,e5v,T8v,Z5v,p5v,D5f,d5f,h5v,W8v,b8v,E8v,o8v,j5v,V8v,u8v,Q8v,r8v;N5f="stx_volume_pr";N5f+="ofile";if(!n5v || !n5v.chart.dataSet){return;}l5v=n5v.chart;g5v=s5v.parameters.numberOfBars;a5v=s5v.parameters.widthPercentage;R5v=s5v.parameters.displayBorder;i8v=s5v.parameters.displayVolume;if(!g5v || g5v < 0){g5v=30;}g5v=Math.ceil(g5v);if(!a5v || a5v < 0){a5v=0.25;}if(R5v !== !{}){R5v=!0;}if(i8v !== !""){i8v=![];}S8v=(l5v.highValue - l5v.lowValue) / g5v;if(S8v === +"0"){return;}G5v=[];for(var c8v=l5v.lowValue;c8v < l5v.highValue + 0.1;c8v+=S8v){G5v.push([c8v,0]);}if(G5v.length < 2){k5f="c";k5f+="h";k5f+="a";k5f+="rt";n5v.displayErrorAsWatermark(k5f,n5v.translateIf("Not enough data to render the Volume Profile"));return;}m5v=0;for(var H8v=+"0";H8v < K8v.length;H8v++){e5v=K8v[H8v];if(!e5v)continue;T8v=e5v.Volume;if(s5v.panel == l5v.name && e5v.transform){e5v=e5v.transform;}Z5v=G5v[0][0];p5v=0;for(var z5v=1;z5v < G5v.length;z5v++){p5v=G5v[z5v][0];if(e5v.Low >= Z5v && e5v.Low <= p5v || e5v.Low < Z5v && e5v.High > p5v || e5v.High >= Z5v && e5v.High <= p5v){G5v[z5v][1]+=T8v;if(G5v[z5v][1] > m5v){m5v=G5v[z5v][1];}}Z5v=p5v;}}function q8v(L8v,U8v){var m9U=L6EE;var w8v,B8v,F8v,k8v,I8v,M8v,t8v,A8v,J8v;if(!U8v){j5v-=2;}r8v.canvasColor(L8v);h5v.beginPath();w8v=G5v[0][+"0"];m9U.t8L();B8v=j5v;for(var D8v=1;D8v < G5v.length;D8v++){if(G5v[D8v][1]){m9U.T5H(160);var Z3E=m9U.F5H(9,15,25);F8v=Math.round(j5v - G5v[D8v][Z3E] * V8v / m5v) - 0.5;k8v=Math.round(r8v.pixelFromTransformedValue(w8v,E8v)) + 0.5;I8v=Math.round(r8v.pixelFromTransformedValue(G5v[D8v][0],E8v)) + 0.5;if(!U8v){k8v-=0.5;I8v+=0.5;F8v+=0.5;}if(k8v > o8v){k8v=o8v;}if(I8v < o8v){h5v.moveTo(j5v,k8v);h5v.lineTo(j5v,I8v);h5v.lineTo(F8v,I8v);h5v.lineTo(F8v,k8v);if(U8v){if(B8v > F8v || D8v == 1){h5v.lineTo(B8v,k8v);};}else {h5v.lineTo(j5v,k8v);if(i8v){M8v=X5v.condenseInt(G5v[D8v][1]);m9U.T5H(0);t8v=m9U.f5H(k8v,I8v);if(b8v <= t8v - 2){try{A8v=h5v.measureText(M8v).width;}catch(x8v){A8v=+"0";}h5v.textBaseline="top";J8v=h5v.fillStyle;h5v.fillStyle=u8v;m9U.T5H(17);h5v.fillText(M8v,m9U.F5H(F8v,A8v,3),m9U.F5H(I8v,b8v,2,t8v,2,m9U.T5H(179)));h5v.fillStyle=J8v;}}}}B8v=F8v;}else {B8v=j5v;;}w8v=G5v[D8v][0];}if(!s5v.highlight && n5v.highlightedDraggable){h5v.globalAlpha*=0.3;}if(!U8v){h5v.fill();}h5v.strokeStyle=u8v;if(U8v){h5v.stroke();}h5v.closePath();}if(m5v === 0){D5f="Not enough data";D5f+=" to render the Volume Profile";d5f="c";d5f+="hart";n5v.displayErrorAsWatermark(d5f,n5v.translateIf(D5f));return;}n5v.setStyle("stx_volume_profile","color",X5v.Studies.determineColor(s5v.outputs["Bars Color"]));h5v=s5v.getContext(n5v);W8v="stx-float-date";n5v.canvasFont(W8v,h5v);b8v=n5v.getCanvasFontSize(W8v);E8v=l5v.panel;o8v=E8v.yAxis.bottom;j5v=Math.round(l5v.right) - +"0.5";V8v=l5v.width * a5v;u8v=n5v.canvasStyle("stx_volume_profile").borderTopColor;Q8v=!X5v.isTransparent(n5v.canvasStyle(N5f).borderTopColor) && R5v;L6EE.t8L();r8v=n5v;q8v("stx_volume_profile",!"1");if(Q8v){q8v("stx_volume_profile",! ![]);}h5v.globalAlpha=1;};X5v.Studies.studyLibrary=X5v.extend(X5v.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:X5v.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},parameters:{init:{displayBorder:! !{},displayVolume:![],numberOfBars:30,widthPercentage:"0.25" - 0}},attributes:{yaxisDisplayValue:{hidden:! !"1"},panelName:{hidden:! !1},flippedEnabled:{hidden:! !{}}}}});}};q6S=y8v=>{L6EE.t8L();var O8v,Z5f,K5f,A5f,T5f,m5f,u5f,X5f;O8v=typeof _CIQ !== "undefined"?_CIQ:y8v.CIQ;if(!O8v.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {Z5f="#b82c0";Z5f+="c";K5f="0";K5f+=" ";K5f+="t";K5f+="o max";A5f="#";A5f+="FF00";A5f+="00";T5f="f";T5f+="i";T5f+="e";T5f+="ld";m5f="a";m5f+="ut";m5f+="o";u5f="m";u5f+="a";X5f="fi";X5f+="e";X5f+="ld";O8v.Studies.calculateOnBalanceVolume=function(n8v,Y8v){var S5f,P8v,N8v,G8v,v8v,X8v,d8v,f8v,h8v;S5f="fi";S5f+="eld";P8v=Y8v.inputs.Field;if(!P8v || P8v == S5f){P8v="Close";}N8v=Y8v.inputs["Min Tick Value"];G8v=! !0;if(!N8v && N8v !== 0){G8v=!0;N8v=0;}v8v=Y8v.chart.scrubbed;X8v=0;for(var C8v=Y8v.startFrom;C8v < v8v.length;C8v++){d8v=v8v[C8v];if(!C8v || !d8v[P8v])continue;if(v8v[C8v - 1][P8v]){L6EE.T5H(0);f8v=v8v[L6EE.F5H(C8v,1)];}if(!f8v)continue;if(d8v[P8v] - f8v[P8v] > N8v){X8v=1;}else if(f8v[P8v] - d8v[P8v] > N8v){X8v=- +"1";}else if(G8v){X8v=0;}h8v=f8v["Result " + Y8v.name];if(!h8v){h8v=0;}h8v+=d8v.Volume * X8v;d8v["Result " + Y8v.name]=h8v;}};O8v.Studies.calculatePriceVolumeTrend=function(z8v,j8v){var B36=L6EE;var s8v,e8v,g8v,O3P,z3P,w3P;s8v=j8v.inputs.Field;if(!s8v || s8v == "field"){s8v="Close";}e8v=j8v.chart.scrubbed;g8v=0;if(j8v.startFrom > 1){O3P=941693604;z3P=-775150544;w3P=2;for(var E3P="1" ^ 0;B36.c2P(E3P.toString(),E3P.toString().length,54786) !== O3P;E3P++){B36.P5H(49);var y3E=B36.F5H(1,4,5);g8v=e8v[j8v.startFrom - y3E]["Result " + j8v.name];w3P+=2;}if(B36.v4P(w3P.toString(),w3P.toString().length,18141) !== z3P){B36.P5H(58);var i3E=B36.F5H(5,145,30);g8v=e8v[j8v.startFrom / i3E]["" * j8v.name];}}for(var l8v=Math.max(1,j8v.startFrom);l8v < e8v.length;l8v++){if(!e8v[l8v][s8v])continue;if(!e8v[l8v - ("1" >> 214970176)][s8v])continue;B36.P5H(180);var W3E=B36.f5H(2,15,19,11,5);B36.T5H(0);var G3E=B36.F5H(21,20);g8v+=e8v[l8v].Volume * (e8v[l8v][s8v] - e8v[l8v - "1" * W3E][s8v]) / e8v[l8v - G3E][s8v];e8v[l8v]["Result " + j8v.name]=g8v;}};O8v.Studies.calculateVolumeIndex=function(o2N,p8v){var u36=L6EE;var x5f,l5f,i2N,a8v,c2N,g5f,t5f,Z8v,H2N,R8v,E2N;x5f="Ind";x5f+="ex ";l5f="C";l5f+="l";u36.t8L();l5f+="o";l5f+="se";i2N=p8v.inputs.Field;if(!i2N || i2N == "field"){i2N=l5f;}a8v=p8v.chart.scrubbed;if(a8v.length < p8v.days + +"1"){p8v.error=! !{};return;}c2N=+"100";if(p8v.startFrom > 1){u36.T5H(6);var B3E=u36.f5H(12,27,16);c2N=a8v[p8v.startFrom - B3E][x5f + p8v.name];}for(var m8v=Math.max("1" - 0,p8v.startFrom);m8v < a8v.length;m8v++){g5f="Pos V";g5f+="o";g5f+="l";t5f="objec";t5f+="t";Z8v=a8v[m8v][i2N];H2N=a8v[m8v].Volume;if(Z8v && typeof Z8v == "object"){H2N=Z8v.Volume;Z8v=Z8v[p8v.subField];}u36.P5H(0);R8v=a8v[u36.F5H(m8v,1)][i2N];E2N=a8v[m8v - 1].Volume;if(R8v && typeof R8v == t5f){E2N=R8v.Volume;R8v=R8v[p8v.subField];}if(!Z8v)continue;if(!R8v)continue;if(p8v.type == g5f && H2N > E2N || p8v.type == "Neg Vol" && H2N < E2N){u36.T5H(13);c2N*=u36.F5H(Z8v,R8v);}a8v[m8v]["Index " + p8v.name]=c2N;}O8v.Studies.MA(p8v.inputs["Moving Average Type"],p8v.days,"Index " + p8v.name,0,"MA",o2N,p8v);};O8v.Studies.studyLibrary=O8v.extend(O8v.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:O8v.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:X5f,"Moving Average Type":u5f},outputs:{Index:m5f,MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:O8v.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:O8v.Studies.calculateVolumeIndex,inputs:{Period:255,Field:T5f,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:A5f}},"Price Vol":{name:"Price Volume Trend",calculateFN:O8v.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:O8v.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":"0.5" - 0}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(r2N,S2N){if(O8v.Studies.calculateRateOfChange){O8v.Studies.calculateRateOfChange(r2N,S2N);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");O8v.Studies.calculateRateOfChange=function(W2N,b2N){};}},parameters:{init:{isVolume:! ![]}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:K5f,yAxis:{ground:!"",initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:O8v.Studies.createVolumeChart,calculateFN:O8v.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":Z5f},customRemoval:! !"1",removeFN:function(u2N,K2N){u2N.layout.volumeUnderlay=!{};u2N.changeOccurred("layout");},attributes:{panelName:{hidden:! !"1"}}}});}};D6S=V2N=>{var y5f,T2N,P5f;y5f="u";y5f+="nde";y5f+="fined";T2N=typeof _CIQ !== y5f?_CIQ:V2N.CIQ;if(!T2N.Studies){console.error("vortex feature requires first activating studies feature.");}else {P5f="aut";P5f+="o";T2N.Studies.calculateVortex=function(t2N,Q2N){var S36=L6EE;S36.t8L();var F2N,I2N,q2N,i5f,B5f,D2N,U2N,B2N,w2N,M2N,G5f,W5f;F2N=Q2N.chart.scrubbed;I2N=Q2N.days;if(F2N.length < I2N + +"1"){Q2N.error=! !{};return;}q2N={tr:0,vmPlus:0,vmMinus:0};if(Q2N.startFrom > 1){i5f="_to";i5f+="tal";i5f+="s ";q2N=T2N.clone(F2N[Q2N.startFrom - 1][i5f + Q2N.name]);}for(var k2N=Math.max(Q2N.startFrom,1);k2N < F2N.length;k2N++){B5f="_";B5f+="Tru";B5f+="e Ra";B5f+="nge ";D2N=F2N[k2N];S36.T5H(0);U2N=F2N[S36.f5H(k2N,1)];B2N=Math.abs(D2N.High - U2N.Low);w2N=Math.abs(D2N.Low - U2N.High);M2N=Math.max(D2N.High,U2N.Close) - Math.min(D2N.Low,U2N.Close);q2N.tr+=M2N;q2N.vmPlus+=B2N;q2N.vmMinus+=w2N;if(k2N > I2N){G5f="_VM";G5f+="M";G5f+="i";G5f+="nus ";W5f="_V";W5f+="MPlus";W5f+=" ";S36.P5H(0);q2N.tr-=F2N[S36.F5H(k2N,I2N)]["_True Range " + Q2N.name];S36.T5H(0);q2N.vmPlus-=F2N[S36.f5H(k2N,I2N)][W5f + Q2N.name];S36.P5H(0);q2N.vmMinus-=F2N[S36.F5H(k2N,I2N)][G5f + Q2N.name];}D2N[B5f + Q2N.name]=M2N;D2N["_VMPlus " + Q2N.name]=B2N;D2N["_VMMinus " + Q2N.name]=w2N;if(k2N >= I2N){D2N["+VI " + Q2N.name]=q2N.vmPlus / q2N.tr;D2N["-VI " + Q2N.name]=q2N.vmMinus / q2N.tr;}D2N["_totals " + Q2N.name]=T2N.clone(q2N);}};T2N.Studies.studyLibrary=T2N.extend(T2N.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:T2N.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:P5f}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:+"1",step:"0.01"}}}});}};k6S=J2N=>{var V5f,A2N;V5f="undefi";V5f+="n";V5f+="e";V5f+="d";A2N=typeof _CIQ !== V5f?_CIQ:J2N.CIQ;if(!A2N.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {A2N.Studies.calculateMFI=function(N2N,L2N){var a5f,x2N,C2N,y2N,P2N,Y2N,O2N,U5f;a5f="_h";a5f+="ist";x2N=L2N.chart.scrubbed;y2N=0;P2N=L2N.inputs["Scale Factor"];if(!P2N){P2N=L2N.study.inputs["Scale Factor"];}Y2N=Math.pow(+"10",Number(P2N));if(L2N.startFrom > 1){L6EE.T5H(4);var P3E=L6EE.F5H(1,0);y2N=x2N[L2N.startFrom - ("1" | P3E)]["_high " + L2N.name];}for(O2N=L2N.startFrom;O2N < x2N.length;O2N++){if(!x2N[O2N])continue;if(x2N[O2N].Volume){U5f="_";U5f+="hi";U5f+="s";U5f+="t";x2N[O2N][L2N.name + U5f]=C2N=Y2N * (x2N[O2N].High - x2N[O2N].Low) / x2N[O2N].Volume;x2N[O2N]["_high " + L2N.name]=y2N=Math.max(y2N,C2N);}}L2N.outputMap={};L2N.outputMap[L2N.name + a5f]="";};A2N.Studies.displayMFI=function(v2N,d2N,l2N){var z76=L6EE;var s2N,h2N,e2N,j2N,n2N,g2N,z2N,p2N,a2N,c4P,v0P,M0P,R5f,L5f,X2N,f2N;s2N=v2N.panels[d2N.panel];h2N=d2N.getContext(v2N);e2N=d2N.getYAxis(v2N);j2N=e2N.flipped?e2N.top:e2N.bottom;z76.T5H(0);var V3E=z76.f5H(15,13);n2N=v2N.layout.candleWidth - V3E;if(n2N < 2){n2N=1;}g2N=A2N.Studies.determineColor(d2N.outputs.Green);z2N=A2N.Studies.determineColor(d2N.outputs.Fade);p2N=A2N.Studies.determineColor(d2N.outputs.Fake);a2N=A2N.Studies.determineColor(d2N.outputs.Squat);v2N.canvasColor("stx_histogram");if(!d2N.underlay){h2N.globalAlpha=1;}h2N.fillStyle="#CCCCCC";v2N.startClip(d2N.panel);c4P=-1023391047;v0P=348182564;M0P=2;for(var Y0P=1;z76.c2P(Y0P.toString(),Y0P.toString().length,24325) !== c4P;Y0P++){if(~d2N.highlight || v2N.highlightedDraggable){h2N.globalAlpha-=538;}M0P+=2;}if(z76.v4P(M0P.toString(),M0P.toString().length,+"31487") !== v0P){if(!d2N.highlight && v2N.highlightedDraggable){h2N.globalAlpha+=519;}}if(!d2N.highlight && v2N.highlightedDraggable){h2N.globalAlpha*=0.3;}for(var G2N=0;G2N < l2N.length;G2N++){R5f="_h";R5f+="is";R5f+="t";L5f="_h";L5f+="ist";X2N=l2N[G2N];z76.T5H(0);f2N=l2N[z76.F5H(G2N,1)];if(!f2N){f2N=v2N.getPreviousBar(v2N.chart,d2N.name + "_hist",G2N);}if(!X2N)continue;if(!f2N);else if(f2N[d2N.name + L5f] < X2N[d2N.name + "_hist"]){if(f2N.Volume < X2N.Volume){h2N.fillStyle=g2N;}else if(f2N.Volume > X2N.Volume){h2N.fillStyle=p2N;}}else if(f2N[d2N.name + "_hist"] > X2N[d2N.name + R5f]){if(f2N.Volume < X2N.Volume){h2N.fillStyle=a2N;}else if(f2N.Volume > X2N.Volume){h2N.fillStyle=z2N;}}if(X2N.candleWidth){n2N=Math.floor(Math.max(1,X2N.candleWidth - 2));}h2N.fillRect(Math.floor(v2N.pixelFromBar(G2N,s2N.chart) - n2N / 2),Math.floor(j2N),Math.floor(n2N),Math.floor(v2N.pixelFromPrice(X2N[d2N.name + "_hist"],s2N,e2N) - j2N));}v2N.endClip();};A2N.Studies.studyLibrary=A2N.extend(A2N.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:A2N.Studies.displayMFI,calculateFN:A2N.Studies.calculateMFI,yAxis:{ground:!""},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};w6S={CIQ:i2S,SplinePlotter:F6S,timezoneJS:I6S,$$:U6S,$$$:B6S};export {c2S as aggregations};export {H2S as drawingAdvanced};export {E2S as equationsAdvanced};export {o2S as highPerformanceMarkers};export {r2S as renderersAdvanced};export {S2S as accumulationDistribution};export {W2S as adx};export {b2S as alligator};export {u2S as aroon};export {K2S as atr};export {T2S as awesomeOscillator};export {V2S as balanceOfPower};export {Q2S as bollinger};export {q2S as cci};export {D2S as centerOfGravity};export {k2S as chaikin};export {F2S as chande};export {I2S as choppiness};export {U2S as comparisonStudies};export {B2S as coppock};export {w2S as darvasBox};export {M2S as detrended};export {t2S as disparity};export {A2S as easeOfMovement};export {J2S as ehlerFisher};export {L2S as elder};L6EE.t8L();export {x2S as fractalChaos};export {O2S as highLowStudies};export {y2S as ichimoku};export {P2S as intradayMomentum};export {C2S as keltner};export {Y2S as klinger};export {N2S as linearRegression};export {d2S as macd};export {v2S as massIndex};export {X2S as moneyFlow};export {f2S as movingAverages};export {h2S as parabolicSAR};export {G2S as pivotPoints};export {n2S as prettyGoodOscillator};export {e2S as priceMomentumOscillator};export {l2S as priceVolumeOscillator};export {s2S as primeNumber};export {j2S as pring};export {g2S as projectedVolume};export {z2S as psychologicalLine};export {p2S as qstick};export {a2S as rainbow};export {m2S as randomWalk};export {Z2S as relativeVigor};export {R2S as rsi};export {i6S as schaffTrendCycle};export {c6S as shinohara};export {H6S as stochastics};export {E6S as supertrend};export {o6S as swingIndex};export {r6S as trendIntensity};export {S6S as trix};export {W6S as twiggsMoneyFlow};export {b6S as typicalPrice};export {u6S as ulcerIndex};export {K6S as ultimateOscillator};export {T6S as valuationLines};export {V6S as volatilityIndex};export {Q6S as volumeProfile};export {q6S as volumeStudies};export {D6S as vortex};export {k6S as williamsMFI};export {i2S as CIQ, F6S as SplinePlotter, I6S as timezoneJS, U6S as $$, B6S as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(w6S.CIQ || i2S).activateImports(c2S,H2S,E2S,o2S,r2S,S2S,W2S,b2S,u2S,K2S,T2S,V2S,Q2S,q2S,D2S,k2S,F2S,I2S,U2S,B2S,w2S,M2S,t2S,A2S,J2S,L2S,x2S,O2S,y2S,P2S,C2S,Y2S,N2S,d2S,v2S,X2S,f2S,h2S,G2S,n2S,e2S,l2S,s2S,j2S,g2S,z2S,p2S,a2S,m2S,Z2S,R2S,i6S,c6S,H6S,E6S,o6S,r6S,S6S,W6S,b6S,u6S,K6S,T6S,V6S,Q6S,q6S,D6S,k6S,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
