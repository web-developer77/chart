/**
 *	8.2.0
 *	Generation date: 2021-03-29T06:25:04.887Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-04-28"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
D3mm[13858]=(function(){var d=2;for(;d !== 9;){switch(d){case 2:d=typeof globalThis === '\u006f\x62\u006a\x65\x63\x74'?1:5;break;case 5:var c;try{var U=2;for(;U !== 6;){switch(U){case 7:delete m['\u0054\u006e\x4b\x45\x74'];U=6;break;case 9:delete c['\u006d\u0056\x4b\u0079\x5f'];var m=Object['\u0070\x72\x6f\x74\u006f\u0074\x79\u0070\u0065'];U=7;break;case 3:throw "";U=9;break;case 4:U=typeof mVKy_ === '\x75\x6e\u0064\u0065\x66\u0069\u006e\x65\x64'?3:9;break;case 2:Object['\x64\x65\u0066\x69\u006e\u0065\u0050\x72\u006f\x70\x65\u0072\x74\x79'](Object['\u0070\x72\u006f\u0074\u006f\x74\u0079\x70\x65'],'\u0054\x6e\u004b\x45\u0074',{'\x67\x65\x74':function(){var C=2;for(;C !== 1;){switch(C){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});c=TnKEt;c['\u006d\x56\x4b\u0079\u005f']=c;U=4;break;}}}catch(j){c=window;}return c;break;case 1:return globalThis;break;}}})();D3mm[179297]=J1SS(D3mm[13858]);D3mm[348054]=M7rr(D3mm[13858]);function M7rr(z6o){function i8o(W6o){var h6o=2;for(;h6o !== 5;){switch(h6o){case 2:var R6o=[arguments];return R6o[0][0].Function;break;}}}var U6o=2;for(;U6o !== 57;){switch(U6o){case 18:X6o[88]="tra";X6o[93]="__abs";X6o[26]="";X6o[26]="s7";U6o=27;break;case 13:X6o[4]="Y7";X6o[8]="w";X6o[3]="z7";X6o[38]="ct";X6o[87]="7r";X6o[88]="";U6o=18;break;case 64:var H8o=function(F6o,y6o,f6o,v6o){var B6o=2;for(;B6o !== 5;){switch(B6o){case 2:var i6o=[arguments];X8o(X6o[0][0],i6o[0][0],i6o[0][1],i6o[0][2],i6o[0][3]);B6o=5;break;}}};U6o=63;break;case 30:X6o[46]+=X6o[90];X6o[46]+=X6o[90];X6o[62]=X6o[93];X6o[62]+=X6o[88];U6o=43;break;case 8:X6o[1]="resid";X6o[9]="";X6o[6]="ual";X6o[9]="__";U6o=13;break;case 61:H8o(L8o,"test",X6o[30],X6o[20]);U6o=60;break;case 62:H8o(N8o,X6o[69],X6o[80],X6o[19]);U6o=61;break;case 43:X6o[62]+=X6o[38];X6o[74]=X6o[3];X6o[74]+=X6o[90];X6o[74]+=X6o[90];U6o=39;break;case 59:H8o(N8o,X6o[62],X6o[80],X6o[46]);U6o=58;break;case 2:var X6o=[arguments];X6o[2]="";X6o[2]="optimiz";X6o[7]="e";X6o[5]="";X6o[5]="n";U6o=8;break;case 46:X6o[41]=X6o[9];X6o[41]+=X6o[2];X6o[41]+=X6o[7];U6o=64;break;case 39:X6o[20]=X6o[8];X6o[20]+=X6o[87];X6o[20]+=X6o[90];X6o[19]=X6o[4];U6o=54;break;case 58:H8o(i8o,"apply",X6o[30],X6o[73]);U6o=57;break;case 60:H8o(d8o,"push",X6o[30],X6o[74]);U6o=59;break;case 27:X6o[90]="";X6o[90]="r";X6o[51]="";X6o[51]="E7";U6o=23;break;case 23:X6o[30]=3;X6o[30]=1;X6o[80]=5;X6o[80]=0;U6o=34;break;case 50:X6o[69]+=X6o[6];X6o[14]=X6o[5];X6o[14]+=X6o[87];X6o[14]+=X6o[90];U6o=46;break;case 34:X6o[73]=X6o[51];X6o[73]+=X6o[90];X6o[73]+=X6o[90];X6o[46]=X6o[26];U6o=30;break;case 54:X6o[19]+=X6o[90];X6o[19]+=X6o[90];X6o[69]=X6o[9];X6o[69]+=X6o[1];U6o=50;break;case 63:H8o(N8o,X6o[41],X6o[80],X6o[14]);U6o=62;break;}}function d8o(u6o){var g6o=2;for(;g6o !== 5;){switch(g6o){case 2:var L6o=[arguments];return L6o[0][0].Array;break;}}}function X8o(S6o,M6o,G6o,q6o,D6o){var V6o=2;for(;V6o !== 6;){switch(V6o){case 9:J6o[7]="";J6o[7]="de";try{var m6o=2;for(;m6o !== 8;){switch(m6o){case 3:try{var Y6o=2;for(;Y6o !== 3;){switch(Y6o){case 5:J6o[6]+=J6o[1];J6o[0][0].Object[J6o[6]](J6o[9],J6o[0][4],J6o[8]);Y6o=3;break;case 2:J6o[6]=J6o[7];J6o[6]+=J6o[5];Y6o=5;break;}}}catch(q8o){}J6o[9][J6o[0][4]]=J6o[8].value;m6o=8;break;case 2:J6o[8]={};J6o[4]=(1,J6o[0][1])(J6o[0][0]);J6o[9]=[J6o[4],J6o[4].prototype][J6o[0][3]];J6o[8].value=J6o[9][J6o[0][2]];m6o=3;break;}}}catch(D8o){}V6o=6;break;case 2:var J6o=[arguments];J6o[1]="rty";J6o[5]="";J6o[5]="";J6o[5]="finePrope";V6o=9;break;}}}function N8o(l6o){var x6o=2;for(;x6o !== 5;){switch(x6o){case 2:var a6o=[arguments];return a6o[0][0];break;}}}function L8o(b6o){var T6o=2;for(;T6o !== 5;){switch(T6o){case 2:var e6o=[arguments];return e6o[0][0].RegExp;break;}}}}function D3mm(){}function J1SS(L0V){function T0V(r0V,c0V,A0V,V0V,W0V){var w0V=2;for(;w0V !== 13;){switch(w0V){case 2:var j0V=[arguments];j0V[6]="";j0V[6]="Property";j0V[3]="ne";w0V=3;break;case 6:j0V[8]=0;try{var n0V=2;for(;n0V !== 8;){switch(n0V){case 2:j0V[7]={};j0V[2]=(1,j0V[0][1])(j0V[0][0]);j0V[1]=[j0V[8],j0V[2].prototype][j0V[0][3]];j0V[7].value=j0V[1][j0V[0][2]];n0V=3;break;case 3:try{var U0V=2;for(;U0V !== 3;){switch(U0V){case 2:j0V[5]=j0V[4];j0V[5]+=j0V[3];j0V[5]+=j0V[6];U0V=4;break;case 4:j0V[0][0].Object[j0V[5]](j0V[1],j0V[0][4],j0V[7]);U0V=3;break;}}}catch(E0V){}j0V[1][j0V[0][4]]=j0V[7].value;n0V=8;break;}}}catch(s0V){}w0V=13;break;case 3:j0V[4]="";j0V[4]="";j0V[4]="defi";j0V[8]=6;w0V=6;break;}}}var M0V=2;for(;M0V !== 11;){switch(M0V){case 2:var N0V=[arguments];N0V[1]="";N0V[1]="S";N0V[5]="1S";N0V[3]="";N0V[3]="V";N0V[4]=1;M0V=7;break;case 12:g0V(d0V,"charCodeAt",N0V[4],N0V[9]);M0V=11;break;case 7:N0V[9]=N0V[3];N0V[9]+=N0V[5];N0V[9]+=N0V[1];M0V=13;break;case 13:var g0V=function(S0V,H0V,K0V,i0V){var C0V=2;for(;C0V !== 5;){switch(C0V){case 2:var u0V=[arguments];T0V(N0V[0][0],u0V[0][0],u0V[0][1],u0V[0][2],u0V[0][3]);C0V=5;break;}}};M0V=12;break;}}function d0V(m0V){var x0V=2;for(;x0V !== 5;){switch(x0V){case 2:var k0V=[arguments];return k0V[0][0].String;break;}}}}D3mm[119593]=(function(){var j6o=2;for(;j6o !== 9;){switch(j6o){case 2:var k6o=[arguments];k6o[4]=undefined;k6o[8]={};k6o[8].D9G=function(){var o6o=2;for(;o6o !== 90;){switch(o6o){case 58:K6o[50]=0;o6o=57;break;case 49:K6o[8].z7rr(K6o[9]);K6o[8].z7rr(K6o[21]);K6o[8].z7rr(K6o[1]);o6o=46;break;case 77:K6o[46]=0;o6o=76;break;case 4:K6o[8]=[];K6o[3]={};K6o[3].q7G=['K7G'];K6o[3].l7G=function(){var Y8G=typeof n7rr === 'function';return Y8G;};o6o=7;break;case 25:K6o[25].l7G=function(){var x8G=function(){return decodeURIComponent('%25');};var I8G=!(/\x32\u0035/).w7rr(x8G + []);return I8G;};K6o[21]=K6o[25];K6o[39]={};K6o[39].q7G=['K7G'];K6o[39].l7G=function(){var F8G=false;var e8G=[];try{for(var T8G in console){e8G.z7rr(T8G);}F8G=e8G.length === 0;}catch(i8G){}var P8G=F8G;return P8G;};K6o[94]=K6o[39];K6o[88]={};o6o=33;break;case 61:K6o[26]='k7G';K6o[36]='l7G';o6o=59;break;case 1:o6o=k6o[4]?5:4;break;case 33:K6o[88].q7G=['U7G'];K6o[88].l7G=function(){var b8G=function(){return ('X').toLowerCase();};var q8G=(/\x78/).w7rr(b8G + []);return q8G;};K6o[19]=K6o[88];K6o[95]={};K6o[95].q7G=['K7G'];K6o[95].l7G=function(){var O8G=typeof s7rr === 'function';return O8G;};K6o[10]=K6o[95];o6o=43;break;case 71:K6o[46]++;o6o=76;break;case 68:o6o=42?68:67;break;case 18:K6o[5]={};K6o[5].q7G=['U7G'];K6o[5].l7G=function(){var E8G=function(){return atob('PQ==');};var y8G=!(/\x61\x74\x6f\u0062/).w7rr(E8G + []);return y8G;};K6o[1]=K6o[5];K6o[25]={};K6o[25].q7G=['U7G'];o6o=25;break;case 46:K6o[8].z7rr(K6o[6]);K6o[8].z7rr(K6o[32]);K6o[37]=[];K6o[59]='Z7G';K6o[68]='Q7G';K6o[80]='q7G';o6o=61;break;case 37:K6o[70].l7G=function(){var Q8G=function(){return ('x').toLocaleUpperCase();};var a8G=(/\x58/).w7rr(Q8G + []);return a8G;};K6o[73]=K6o[70];K6o[8].z7rr(K6o[10]);K6o[8].z7rr(K6o[94]);K6o[8].z7rr(K6o[4]);K6o[8].z7rr(K6o[19]);K6o[8].z7rr(K6o[73]);o6o=49;break;case 57:o6o=K6o[50] < K6o[8].length?56:69;break;case 11:K6o[2]={};K6o[2].q7G=['U7G'];K6o[2].l7G=function(){var z8G=function(){return escape('=');};var s8G=(/\u0033\x44/).w7rr(z8G + []);return s8G;};K6o[4]=K6o[2];o6o=18;break;case 67:k6o[4]=71;return 94;break;case 70:K6o[50]++;o6o=57;break;case 7:K6o[6]=K6o[3];K6o[7]={};K6o[7].q7G=['K7G'];K6o[7].l7G=function(){var w8G=typeof Y7rr === 'function';return w8G;};K6o[9]=K6o[7];o6o=11;break;case 2:var K6o=[arguments];o6o=1;break;case 56:K6o[62]=K6o[8][K6o[50]];try{K6o[72]=K6o[62][K6o[36]]()?K6o[59]:K6o[68];}catch(K8G){K6o[72]=K6o[68];}o6o=77;break;case 59:K6o[11]='i7G';o6o=58;break;case 5:return 81;break;case 43:K6o[33]={};K6o[33].q7G=['U7G'];K6o[33].l7G=function(){var M8G=function(){return ('c').indexOf('c');};var g8G=!(/['"]/).w7rr(M8G + []);return g8G;};K6o[32]=K6o[33];K6o[70]={};K6o[70].q7G=['U7G'];o6o=37;break;case 75:K6o[13]={};K6o[13][K6o[11]]=K6o[62][K6o[80]][K6o[46]];K6o[13][K6o[26]]=K6o[72];K6o[37].z7rr(K6o[13]);o6o=71;break;case 69:o6o=(function(O6o){var r6o=2;for(;r6o !== 22;){switch(r6o){case 24:C6o[6]++;r6o=16;break;case 14:r6o=typeof C6o[4][C6o[7][K6o[11]]] === 'undefined'?13:11;break;case 15:C6o[9]=C6o[8][C6o[6]];C6o[1]=C6o[4][C6o[9]].h / C6o[4][C6o[9]].t;r6o=26;break;case 23:return C6o[2];break;case 18:C6o[2]=false;r6o=17;break;case 13:C6o[4][C6o[7][K6o[11]]]=(function(){var n6o=2;for(;n6o !== 9;){switch(n6o){case 2:var I6o=[arguments];I6o[1]={};I6o[1].h=0;n6o=4;break;case 4:I6o[1].t=0;return I6o[1];break;}}}).E7rr(this,arguments);r6o=12;break;case 4:C6o[4]={};C6o[8]=[];C6o[6]=0;r6o=8;break;case 20:C6o[4][C6o[7][K6o[11]]].h+=true;r6o=19;break;case 16:r6o=C6o[6] < C6o[8].length?15:23;break;case 8:C6o[6]=0;r6o=7;break;case 19:C6o[6]++;r6o=7;break;case 25:C6o[2]=true;r6o=24;break;case 2:var C6o=[arguments];r6o=1;break;case 11:C6o[4][C6o[7][K6o[11]]].t+=true;r6o=10;break;case 1:r6o=C6o[0][0].length === 0?5:4;break;case 5:return;break;case 10:r6o=C6o[7][K6o[26]] === K6o[59]?20:19;break;case 26:r6o=C6o[1] >= 0.5?25:24;break;case 7:r6o=C6o[6] < C6o[0][0].length?6:18;break;case 6:C6o[7]=C6o[0][0][C6o[6]];r6o=14;break;case 17:C6o[6]=0;r6o=16;break;case 12:C6o[8].z7rr(C6o[7][K6o[11]]);r6o=11;break;}}})(K6o[37])?68:67;break;case 76:o6o=K6o[46] < K6o[62][K6o[80]].length?75:70;break;}}};return k6o[8];break;}}})();D3mm.P6o=function(){return typeof D3mm[119593].D9G === 'function'?D3mm[119593].D9G.apply(D3mm[119593],arguments):D3mm[119593].D9G;};D3mm[530602]="D25";D3mm.l0V=function(){return typeof D3mm[554136].o5E === 'function'?D3mm[554136].o5E.apply(D3mm[554136],arguments):D3mm[554136].o5E;};D3mm.Q6o=function(){return typeof D3mm[119593].D9G === 'function'?D3mm[119593].D9G.apply(D3mm[119593],arguments):D3mm[119593].D9G;};D3mm[354811]=205;D3mm[13858].a400=D3mm;D3mm.C7G=function(){return typeof D3mm[632475].T7G === 'function'?D3mm[632475].T7G.apply(D3mm[632475],arguments):D3mm[632475].T7G;};D3mm.H7G=function(){return typeof D3mm[632475].O7G === 'function'?D3mm[632475].O7G.apply(D3mm[632475],arguments):D3mm[632475].O7G;};D3mm[554136]=(function(){var w5E=function(p5E,Z5E){var K5E=Z5E & 0xffff;var a5E=Z5E - K5E;return (a5E * p5E | 0) + (K5E * p5E | 0) | 0;},B5E=function(x5E,f5E,e5E){var G5E=0xcc9e2d51,D5E=0x1b873593;var i5E=e5E;var z5E=f5E & ~0x3;for(var b5E=0;b5E < z5E;b5E+=4){var H5E=x5E.V1SS(b5E) & 0xff | (x5E.V1SS(b5E + 1) & 0xff) << 8 | (x5E.V1SS(b5E + 2) & 0xff) << 16 | (x5E.V1SS(b5E + 3) & 0xff) << 24;H5E=w5E(H5E,G5E);H5E=(H5E & 0x1ffff) << 15 | H5E >>> 17;H5E=w5E(H5E,D5E);i5E^=H5E;i5E=(i5E & 0x7ffff) << 13 | i5E >>> 19;i5E=i5E * 5 + 0xe6546b64 | 0;}H5E=0;switch(f5E % 4){case 3:H5E=(x5E.V1SS(z5E + 2) & 0xff) << 16;case 2:H5E|=(x5E.V1SS(z5E + 1) & 0xff) << 8;case 1:H5E|=x5E.V1SS(z5E) & 0xff;H5E=w5E(H5E,G5E);H5E=(H5E & 0x1ffff) << 15 | H5E >>> 17;H5E=w5E(H5E,D5E);i5E^=H5E;}i5E^=f5E;i5E^=i5E >>> 16;i5E=w5E(i5E,0x85ebca6b);i5E^=i5E >>> 13;i5E=w5E(i5E,0xc2b2ae35);i5E^=i5E >>> 16;return i5E;};return {o5E:B5E};})();D3mm.n7G=function(){return typeof D3mm[632475].O7G === 'function'?D3mm[632475].O7G.apply(D3mm[632475],arguments):D3mm[632475].O7G;};D3mm[362990]=D3mm[119593];D3mm[632475]=(function(B7G){return {T7G:function(){var w7G,d7G=arguments;switch(B7G){case 51:w7G=d7G[1] - d7G[2] / d7G[0];break;case 30:w7G=d7G[1] - (d7G[2] - d7G[0]);break;case 72:w7G=d7G[1] * d7G[2] - d7G[0];break;case 105:w7G=(d7G[0] * d7G[1] + d7G[2]) / +d7G[3];break;case 98:w7G=-(d7G[1] - d7G[0]) * d7G[3] + d7G[2];break;case 156:w7G=(d7G[0] * d7G[3] - d7G[2]) * d7G[4] - d7G[1];break;case 129:w7G=d7G[1] + d7G[0] - d7G[3] + d7G[2];break;case 10:w7G=d7G[0] + d7G[1] - d7G[2];break;case 40:w7G=d7G[0] + (d7G[2] - d7G[1]);break;case 169:w7G=d7G[3] - d7G[4] / (d7G[0] + d7G[1] / d7G[2]);break;case 152:w7G=d7G[1] * (d7G[4] / d7G[3] - (d7G[2] | d7G[0]));break;case 100:w7G=d7G[4] * d7G[0] / d7G[3] * d7G[1] + d7G[2];break;case 137:w7G=d7G[2] / d7G[3] - d7G[1] + d7G[0] - d7G[4];break;case 16:w7G=(d7G[2] + d7G[3] + d7G[0] + d7G[1]) / d7G[4];break;case 134:w7G=(d7G[4] - d7G[0] - d7G[1]) / d7G[3] + d7G[2];break;case 31:w7G=(d7G[2] - d7G[1]) / d7G[0];break;case 144:w7G=d7G[0] * d7G[2] / (d7G[1] + d7G[3]);break;case 78:w7G=(d7G[0] + d7G[1]) / d7G[2] - d7G[3] - d7G[4];break;case 8:w7G=(d7G[2] - d7G[3]) * d7G[1] - d7G[0];break;case 99:w7G=(d7G[0] - d7G[1]) * d7G[3] + d7G[2];break;case 133:w7G=(-d7G[1] - d7G[3]) / d7G[0] + d7G[2];break;case 36:w7G=(d7G[2] + d7G[0]) * d7G[3] - d7G[1];break;case 171:w7G=(d7G[3] | d7G[4]) * (d7G[0] / d7G[2] - d7G[1]);break;case 71:w7G=d7G[1] / d7G[3] / d7G[4] + d7G[0] + d7G[2];break;case 116:w7G=(d7G[1] - d7G[2]) / d7G[4] - d7G[0] + d7G[3];break;case 74:w7G=(d7G[1] / d7G[4] - d7G[3]) / d7G[0] + d7G[2];break;case 108:w7G=d7G[2] * d7G[1] - d7G[3] - d7G[0] - d7G[4];break;case 130:w7G=d7G[3] * d7G[4] / d7G[2] / d7G[0] - d7G[1];break;case 73:w7G=(d7G[3] - d7G[2]) / (d7G[4] - d7G[0]) > d7G[1];break;case 84:w7G=d7G[0] + (d7G[2] - d7G[3]) / d7G[1];break;case 96:w7G=-d7G[1] + d7G[3] - d7G[2] + d7G[0];break;case 67:w7G=(d7G[4] + d7G[0]) * d7G[1] / d7G[3] - d7G[2];break;case 132:w7G=(d7G[1] / d7G[3] + d7G[0]) * d7G[4] - d7G[2];break;case 70:w7G=d7G[0] + d7G[4] - d7G[3] + d7G[1] - d7G[2];break;case 125:w7G=+d7G[2] * d7G[0] / d7G[1];break;case 20:w7G=d7G[1] / d7G[0];break;case 118:w7G=d7G[0] - d7G[2] - d7G[1] - d7G[3];break;case 11:w7G=d7G[1] + d7G[3] - d7G[2] - d7G[0];break;case 179:w7G=d7G[1] == d7G[0];break;case 113:w7G=d7G[0] + d7G[3] + d7G[2] + d7G[1];break;case 153:w7G=d7G[4] - d7G[2] - d7G[3] - d7G[1] + d7G[0];break;case 138:w7G=d7G[4] - d7G[3] + d7G[0] - d7G[1] - d7G[2];break;case 50:w7G=(d7G[0] + d7G[2] + d7G[3]) * d7G[1] - d7G[4];break;case 81:w7G=d7G[2] / (d7G[0] ^ d7G[1]);break;case 90:w7G=(d7G[2] * d7G[4] - d7G[0] * d7G[5]) / (d7G[1] * d7G[6] - d7G[3]);break;case 4:w7G=d7G[2] / (d7G[0] - d7G[1]);break;case 150:w7G=d7G[2] + d7G[3] * (d7G[0] - d7G[1]);break;case 55:w7G=(d7G[4] + d7G[2]) * d7G[0] + d7G[3] - d7G[1];break;case 54:w7G=d7G[0] - d7G[1] / +d7G[2];break;case 77:w7G=d7G[1] / d7G[3] - d7G[0] + d7G[2];break;case 68:w7G=(d7G[2] + d7G[4]) / d7G[1] * d7G[0] - d7G[3];break;case 111:w7G=d7G[0] - d7G[3] - (d7G[1] - d7G[2]);break;case 62:w7G=+d7G[1] * d7G[2] - d7G[0];break;case 14:w7G=(-d7G[0] + d7G[2]) / d7G[3] - d7G[1];break;case 15:w7G=-d7G[0] + d7G[1];break;case 9:w7G=(d7G[1] + d7G[0]) / d7G[2];break;case 89:w7G=d7G[4] * (d7G[1] * d7G[0] + d7G[2]) / d7G[3];break;case 64:w7G=(d7G[0] - d7G[1]) / (d7G[3] - d7G[2]);break;case 26:w7G=(d7G[1] + d7G[4] + d7G[3]) / d7G[0] - d7G[2];break;case 42:w7G=d7G[1] * d7G[3] - d7G[2] - d7G[0];break;case 56:w7G=(d7G[2] - d7G[5]) / (d7G[4] - d7G[1]) > d7G[3] >> d7G[0];break;case 32:w7G=(d7G[0] + d7G[3]) / d7G[1] - d7G[2];break;case 75:w7G=(d7G[6] - d7G[1]) * (d7G[4] - d7G[0]) / (d7G[2] - d7G[5]) + d7G[3];break;case 29:w7G=d7G[0] << d7G[1];break;case 160:w7G=d7G[1] * (d7G[2] + d7G[0]);break;case 85:w7G=d7G[3] - d7G[1] * (d7G[2] - d7G[0]);break;case 33:w7G=d7G[3] / d7G[1] + d7G[2] - d7G[0];break;case 151:w7G=(d7G[2] + d7G[1]) / d7G[0] + d7G[4] - d7G[3];break;case 48:w7G=d7G[0] / d7G[2] - d7G[1];break;case 46:w7G=d7G[0] % d7G[1];break;case 173:w7G=(d7G[2] + d7G[1]) / d7G[0] + d7G[3];break;case 35:w7G=(d7G[0] - d7G[2]) * d7G[1] * d7G[4] - d7G[3];break;case 145:w7G=d7G[1] + d7G[0] - d7G[2] - d7G[3] + d7G[4];break;case 86:w7G=d7G[1] - (d7G[0] ^ d7G[2]);break;case 128:w7G=d7G[1] * d7G[3] * d7G[5] + (d7G[2] - d7G[4] * d7G[0]) * d7G[6];break;case 93:w7G=(d7G[1] + d7G[0]) / +d7G[2];break;case 18:w7G=d7G[0] | d7G[1];break;case 69:w7G=d7G[3] * d7G[1] / d7G[0] + d7G[2];break;case 181:w7G=d7G[4] + (d7G[2] / (d7G[0] * d7G[3]) - d7G[5] / (d7G[6] >> d7G[1]));break;case 167:w7G=-d7G[3] * d7G[2] / d7G[4] * d7G[0] + d7G[1];break;case 122:w7G=(d7G[3] + d7G[4] - d7G[2]) * d7G[0] - d7G[1];break;case 82:w7G=d7G[1] / (d7G[2] << d7G[0]);break;case 166:w7G=-d7G[3] * d7G[4] * d7G[1] / d7G[2] + d7G[0];break;case 58:w7G=d7G[1] / d7G[2] + d7G[0];break;case 174:w7G=(d7G[1] + d7G[0]) / d7G[4] - d7G[3] + d7G[2];break;case 182:w7G=d7G[0] - (d7G[1] & d7G[2]);break;case 109:w7G=d7G[1] * d7G[0] * d7G[2] - d7G[3];break;case 115:w7G=(-d7G[4] - d7G[1]) / d7G[0] / d7G[3] + d7G[2];break;case 13:w7G=d7G[3] + d7G[0] + d7G[2] - d7G[1];break;case 21:w7G=(d7G[2] * d7G[0] + d7G[1]) * d7G[4] - d7G[3];break;case 44:w7G=((d7G[4] << d7G[0]) + d7G[3]) * d7G[2] % d7G[1];break;case 57:w7G=-d7G[2] / d7G[0] + d7G[1];break;case 45:w7G=d7G[3] % d7G[2] / d7G[0] * d7G[1];break;case 155:w7G=d7G[1] * d7G[3] + d7G[0] - d7G[4] - d7G[2];break;case 61:w7G=d7G[2] - d7G[1] - d7G[0];break;case 0:w7G=d7G[0] >> d7G[1];break;case 88:w7G=d7G[3] * (d7G[0] + d7G[1]) / d7G[2];break;case 112:w7G=(d7G[4] - (d7G[1] + d7G[2])) / (d7G[3] ^ d7G[0]);break;case 22:w7G=d7G[0] + d7G[1] * d7G[2];break;case 79:w7G=d7G[3] - d7G[0] + d7G[1] + d7G[4] - d7G[2];break;case 97:w7G=d7G[1] - d7G[3] - d7G[0] + d7G[2];break;case 158:w7G=d7G[3] / (d7G[0] * d7G[2]) <= d7G[1];break;case 162:w7G=d7G[2] - d7G[0] + d7G[3] - d7G[1];break;case 175:w7G=d7G[0] * d7G[1] * d7G[2] / d7G[3];break;case 143:w7G=(d7G[4] - d7G[0] + d7G[2]) * d7G[3] + d7G[1];break;case 178:w7G=d7G[1] + d7G[0] * +d7G[3] + d7G[2];break;case 59:w7G=(d7G[3] - d7G[4]) / d7G[1] + d7G[2] - d7G[0];break;case 87:w7G=(d7G[3] - d7G[0]) * d7G[1] + d7G[2] + d7G[4];break;case 104:w7G=(d7G[0] * d7G[2] + d7G[3]) / d7G[1];break;case 126:w7G=d7G[0] * d7G[2] / d7G[1] - d7G[3];break;case 157:w7G=(d7G[2] % d7G[3] + d7G[0]) * d7G[1];break;case 106:w7G=(d7G[1] + d7G[0] * d7G[2]) / d7G[3];break;case 123:w7G=(d7G[1] + d7G[0]) * d7G[2];break;case 165:w7G=-d7G[1] * d7G[0] + d7G[3] + d7G[2];break;case 120:w7G=d7G[1] * d7G[0] / d7G[2];break;case 83:w7G=d7G[2] / (d7G[0] | d7G[1]);break;case 92:w7G=d7G[1] * d7G[0] + d7G[2];break;case 49:w7G=d7G[1] + d7G[3] + d7G[2] - d7G[0] - d7G[4];break;case 76:w7G=d7G[0] / d7G[2] + d7G[1] + d7G[3];break;case 41:w7G=d7G[0] ^ d7G[1];break;case 6:w7G=d7G[0] - d7G[1];break;case 183:w7G=d7G[1] - +d7G[0];break;case 101:w7G=d7G[0] + (d7G[4] - d7G[3]) / (d7G[6] - d7G[2]) * (d7G[5] - d7G[1]);break;case 149:w7G=d7G[3] * (d7G[1] / d7G[2] - d7G[0]);break;case 172:w7G=-d7G[1] / d7G[2] + d7G[0] - d7G[3] + d7G[4];break;case 47:w7G=d7G[1] & d7G[0];break;case 43:w7G=+d7G[1] * d7G[0] - d7G[3] - d7G[2];break;case 28:w7G=d7G[4] / d7G[0] * d7G[1] / d7G[2] + d7G[3];break;case 139:w7G=(-d7G[2] + d7G[4]) * d7G[3] / d7G[1] - d7G[0];break;case 94:w7G=d7G[2] * d7G[0] / d7G[4] / d7G[1] + d7G[3];break;case 52:w7G=d7G[2] + d7G[0] / +d7G[1];break;case 177:w7G=d7G[3] + d7G[2] * d7G[0] + d7G[1];break;case 38:w7G=(d7G[1] - d7G[0]) / d7G[3] * d7G[2] + d7G[4];break;case 121:w7G=-d7G[1] / d7G[2] + d7G[3] + d7G[0];break;case 65:w7G=-d7G[1] / d7G[0] * d7G[2] + d7G[3];break;case 102:w7G=d7G[3] / d7G[2] / d7G[0] - d7G[1];break;case 142:w7G=-d7G[4] / d7G[0] * d7G[1] + d7G[3] - d7G[2];break;case 180:w7G=d7G[1] + d7G[2] / d7G[3] + d7G[0];break;case 159:w7G=d7G[0] > d7G[1];break;case 3:w7G=d7G[1] + d7G[0];break;case 12:w7G=(d7G[3] + d7G[2]) / (d7G[0] & d7G[1]);break;case 17:w7G=(d7G[3] - d7G[2] + d7G[0]) / d7G[1] - d7G[4];break;case 107:w7G=(-d7G[0] + d7G[1]) / d7G[3] + d7G[2];break;case 170:w7G=d7G[0] * -d7G[1];break;case 135:w7G=(-d7G[2] + d7G[0]) * d7G[1] - d7G[3];break;case 91:w7G=(d7G[3] - d7G[0] * d7G[1]) / d7G[2];break;case 164:w7G=d7G[0] - d7G[1] / (d7G[3] * d7G[4] + d7G[2]);break;case 176:w7G=d7G[0] - d7G[1] * d7G[2] - d7G[3];break;case 124:w7G=d7G[3] / d7G[0] / d7G[2] + d7G[1];break;case 103:w7G=d7G[0] + +d7G[1];break;case 146:w7G=d7G[1] * d7G[0] * d7G[2];break;case 161:w7G=d7G[4] * d7G[0] * d7G[1] + d7G[3] - d7G[2];break;case 154:w7G=(d7G[0] - d7G[4]) * d7G[3] / d7G[2] - d7G[1];break;case 148:w7G=d7G[1] / d7G[2] / d7G[3] * d7G[0] - d7G[4];break;case 127:w7G=d7G[3] / d7G[2] * d7G[4] * d7G[0] + d7G[1];break;case 147:w7G=d7G[5] - d7G[2] / ((d7G[1] ^ d7G[0]) + d7G[4] / d7G[3]);break;case 60:w7G=(d7G[2] - d7G[1]) / d7G[0] + d7G[3];break;case 34:w7G=-d7G[0] + d7G[1] + d7G[2];break;case 1:w7G=-d7G[3] - d7G[0] - d7G[2] + d7G[1];break;case 117:w7G=(d7G[3] - d7G[1]) * d7G[0] / d7G[4] + d7G[2];break;case 136:w7G=-d7G[1] - d7G[0] + d7G[2];break;case 131:w7G=d7G[1] / d7G[2] * d7G[3] + d7G[4] - d7G[0];break;case 53:w7G=d7G[0] + d7G[1] / d7G[2];break;case 114:w7G=d7G[4] - d7G[0] + d7G[3] - d7G[2] + d7G[1];break;case 163:w7G=d7G[3] / d7G[1] + d7G[0] - d7G[4] + d7G[2];break;case 39:w7G=d7G[1] * d7G[0] < d7G[2];break;case 37:w7G=(d7G[1] - d7G[0]) / d7G[2] / d7G[3] + d7G[4];break;case 24:w7G=-d7G[2] * d7G[0] + d7G[1];break;case 25:w7G=d7G[1] * d7G[0];break;case 66:w7G=(d7G[4] + d7G[2]) / d7G[3] / d7G[0] - d7G[1];break;case 7:w7G=d7G[2] - d7G[1] + d7G[3] + d7G[0];break;case 95:w7G=d7G[2] / d7G[3] / d7G[0] * d7G[1] + d7G[4];break;case 63:w7G=d7G[0] < d7G[1];break;case 110:w7G=d7G[4] + d7G[5] + d7G[1] + d7G[2] + d7G[7] + d7G[3] + d7G[6] + d7G[0];break;case 23:w7G=d7G[1] - d7G[2] * d7G[0];break;case 19:w7G=d7G[1] + d7G[2] + d7G[0];break;case 119:w7G=(d7G[2] - d7G[0] + d7G[3]) * d7G[1] - d7G[4];break;case 80:w7G=d7G[1] * d7G[3] * d7G[0] - d7G[4] - d7G[2];break;case 141:w7G=(-d7G[4] * d7G[3] + d7G[0]) * d7G[1] + d7G[2];break;case 5:w7G=d7G[1] - d7G[2] + d7G[0];break;case 27:w7G=d7G[2] / d7G[1] * d7G[3] + d7G[0];break;case 168:w7G=(d7G[4] * d7G[3] - d7G[0]) / d7G[2] - d7G[1];break;case 2:w7G=(d7G[3] / d7G[0] + d7G[4]) / d7G[2] - d7G[1];break;case 140:w7G=-d7G[0] * d7G[2] - d7G[1] + d7G[3];break;}return w7G;},O7G:function(R7G){B7G=R7G;}};})();D3mm.c7G=function(){return typeof D3mm[632475].T7G === 'function'?D3mm[632475].T7G.apply(D3mm[632475],arguments):D3mm[632475].T7G;};D3mm.g3V=function(){return typeof D3mm[554136].o5E === 'function'?D3mm[554136].o5E.apply(D3mm[554136],arguments):D3mm[554136].o5E;};var p5ii,c94,P94,d94,l94,D94,i94,H94,m94,g94,x94,w94,j94,h94,v94,b94,Y94,I94,S94,e94,E94,N94,Q94,Z94,J94,W94,o94,f94,n94,O94,q94,a94,X94,C94,G94,T94,K94,R94,t94,A94,B94,p94,M94,F94,k94,V94,s94,y94,r94,z94,u94,U94,c54,P54,l54,H54,m54,g54,x54,w54,j54,h54,v54,b54,Y54,I54,S54,e54,E54,n54;p5ii="u";p5ii+="nde";p5ii+="fine";p5ii+="d";import {CIQ as L94, SplinePlotter as Q54, timezoneJS as J54, $$ as W54, $$$ as o54} from "../js/standard.js";c94=a54=>{var q54;q54=typeof _CIQ !== "undefined"?_CIQ:a54.CIQ;q54.Renderer.Aggregations=function(C54){D3mm.P6o();var m1V,X54;m1V="_main_seri";m1V+="es";this.construct(C54);X54=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=! ![];X54.highlightable=! !0;if(X54.name != m1V){console.warn("Aggregations are only allowed on main series.");X54.invalid=! !"1";}};q54.inheritsFrom(q54.Renderer.Aggregations,q54.Renderer.OHLC,!{});q54.Renderer.Aggregations.requestNew=function(A54,B54){var G54,C1V,M1V,R54,w1V,t54;G54=null;for(var K54=0;K54 < A54.length;K54++){C1V="p";C1V+="a";C1V+="nd";C1V+="f";M1V="ka";M1V+="gi";R54=A54[K54];switch(R54){case M1V:case C1V:G54=R54;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":w1V="c";w1V+="andle";G54=w1V;break;default:return null;}}if(G54 === null){return null;}t54=new q54.Renderer[G54 == "candle"?"OHLC":"Aggregations"]({params:q54.extend(B54,{type:G54})});t54.isAggregation=!"";D3mm.P6o();return t54;};q54.Renderer.Aggregations.prototype.drawIndividualSeries=function(k54,M54){var p54,F54,U1V,n1V;if(M54.invalid){return;}p54=this.stx;D3mm.P6o();F54={colors:[]};if(M54.type == "kagi"){p54.drawKagiSquareWave(k54.panel,"stx_kagi_up","stx_kagi_down",M54);F54.colors.push(p54.getCanvasColor("stx_kagi_up"));F54.colors.push(p54.getCanvasColor("stx_kagi_down"));}else if(M54.type == "pandf"){U1V="stx_pand";U1V+="f_down";n1V="stx";n1V+="_pa";n1V+="ndf_up";p54.drawPointFigureChart(k54.panel,n1V,9580 == (542.06,4540)?138.36:"X",M54);F54.colors.push(p54.getCanvasColor("stx_pandf_up"));p54.drawPointFigureChart(k54.panel,"stx_pandf_down","O",M54);F54.colors.push(p54.getCanvasColor(U1V));}return F54;};q54.ChartEngine.prototype.setAggregationType=function(y54){var s54,b3V,z3V,e3V;this.layout.chartType="candle";s54=this.chart;if(s54.baseline.userLevel !== !1){b3V=110251440;z3V=472896481;e3V=2;for(var Z3V=1;D3mm.l0V(Z3V.toString(),Z3V.toString().length,82014) !== b3V;Z3V++){s54.baseline.userLevel=s54.baseline.defaultLevel;s54.panel.yAxis.scroll=q54.ChartEngine.YAxis.prototype.scroll;e3V+=2;}if(D3mm.g3V(e3V.toString(),e3V.toString().length,65987) !== z3V){s54.baseline.userLevel=s54.baseline.defaultLevel;s54.panel.yAxis.scroll=q54.ChartEngine.YAxis.prototype.scroll;}}this.layout.aggregationType=y54;this.setMainSeriesRenderer();if(s54.canvas){this.createDataSet();this.draw();}D3mm.P6o();this.changeOccurred("layout");};q54.ChartEngine.prototype.drawKagiSquareWave=function(d0S,i0S,H0S,m0S){var d2x=D3mm;var P0S,g0S,r54,z54,e0S,x0S,w0S,v0S,b0S,j0S,h0S,Y0S,I0S,L0S,E0S,D0S,c0S,U54,N0S,u54,S0S;P0S=d0S.chart;this.startClip(d0S.name);g0S=P0S.dataSegment;r54=P0S.context;z54=d0S.yAxis;if(z54.flipped){e0S=i0S;i0S=H0S;H0S=e0S;}x0S=this.canvasStyle(i0S);w0S=this.canvasStyle(H0S);this.canvasColor(i0S);if(m0S.border_color_up){r54.strokeStyle=m0S.border_color_up;}v0S=r54.strokeStyle;this.canvasColor(H0S);if(m0S.border_color_down){r54.strokeStyle=m0S.border_color_down;}b0S=r54.strokeStyle;j0S=1;d2x.Q6o();if(x0S.width && parseInt(x0S.width,+"10") <= 25){d2x.n7G(0);j0S=Math.max(d2x.c7G("1",1857130048),q54.stripPX(x0S.width));}h0S=1;if(w0S.width && parseInt(w0S.width,10) <= 25){h0S=Math.max(1,q54.stripPX(w0S.width));}if(this.highlightedDraggable){r54.globalAlpha*=+"0.3";}r54.beginPath();d2x.H7G(1);var K7m=d2x.C7G(14,44,13,16);Y0S=P0S.dataSet.length - P0S.scroll - K7m;I0S=! ![];L0S=null;E0S=null;D0S=null;d2x.H7G(2);var i7m=d2x.c7G(17,0,3,17,2);c0S=d0S.left - 0.5 * this.layout.candleWidth + this.micropixels - i7m;for(var l0S=0;l0S <= g0S.length;l0S++){c0S+=this.layout.candleWidth;U54=g0S[l0S];if(!U54)continue;if(U54.projection)break;D0S=U54.kagiTrend;if(z54.flipped){D0S*=-1;}if(U54.transform && P0S.transformFunc){N0S=U54.kagiPrevOpen;U54=U54.transform;U54.kagiPrevOpen=P0S.transformFunc(this,P0S,N0S);}u54=U54.cache;d2x.n7G(3);S0S=d2x.C7G(l0S,Y0S);if(S0S < d0S.cacheLeft || S0S > d0S.cacheRight || !u54.kagiOpen){u54.kagiOpen=z54.semiLog?z54.height * (1 - (Math.log(Math.max(U54.Open,0)) / Math.LN10 - z54.logLow) / z54.logShadow):(z54.high - U54.Open) * z54.multiplier;u54.kagiClose=z54.semiLog?z54.height * (1 - (Math.log(Math.max(U54.Close,0)) / Math.LN10 - z54.logLow) / z54.logShadow):(z54.high - U54.Close) * z54.multiplier;if(z54.flipped){u54.kagiOpen=z54.bottom - u54.kagiOpen;u54.kagiClose=z54.bottom - u54.kagiClose;}else {u54.kagiOpen+=z54.top;u54.kagiClose+=z54.top;}}E0S=u54.kagiClose;L0S=z54.semiLog?z54.height * (1 - (Math.log(Math.max(U54.kagiPrevOpen,0)) / Math.LN10 - z54.logLow) / z54.logShadow):(z54.high - U54.kagiPrevOpen) * z54.multiplier;if(z54.flipped){L0S=z54.bottom - L0S;}else {L0S+=z54.top;}if(I0S){r54.moveTo(Y0S >= 0?d0S.left:Math.floor(c0S),u54.kagiOpen);r54.lineTo(Math.floor(c0S),u54.kagiOpen);if(u54.kagiClose < u54.kagiOpen){r54.strokeStyle=v0S;r54.lineWidth=j0S;}else {r54.strokeStyle=b0S;r54.lineWidth=h0S;}}else {if(D0S != -1 && u54.kagiClose < L0S && L0S < u54.kagiOpen){r54.lineTo(Math.floor(c0S),L0S);r54.stroke();r54.beginPath();r54.moveTo(Math.floor(c0S),L0S);r54.strokeStyle=v0S;r54.lineWidth=j0S;}else if(D0S != 1 && u54.kagiClose > L0S && L0S > u54.kagiOpen){r54.lineTo(Math.floor(c0S),L0S);r54.stroke();r54.beginPath();r54.moveTo(Math.floor(c0S),L0S);r54.strokeStyle=b0S;r54.lineWidth=h0S;}}r54.lineTo(Math.floor(c0S),u54.kagiClose);if(l0S + 1 < g0S.length){r54.lineTo(Math.floor(c0S + this.layout.candleWidth),u54.kagiClose);}I0S=! !0;}r54.stroke();this.endClip();r54.lineWidth=1;};q54.ChartEngine.prototype.drawPointFigureChart=function(X0S,u0S,C0S,M0S){var A2x=D3mm;var f0S,s0S,Z0S,n0S,O0S,G0S,R0S,t0S,y0S,c8S,Q0S,r0S,q0S,J0S,W0S,F0S,k0S,o0S,T0S,K0S,P8S,V0S,a0S,z0S,B0S,p0S;f0S=X0S.chart;this.startClip(X0S.name);s0S=f0S.dataSegment;Z0S=f0S.context;this.canvasColor(u0S);if(C0S == "X" && M0S.border_color_up){Z0S.strokeStyle=M0S.border_color_up;}else if(C0S == (("8650" & 2147483647,534) < ("4868" & 2147483647)?"O":(4614,+"1350") < 8733?! !0:(0x33b,"0x6ae" << 932573376)) && M0S.border_color_down){Z0S.strokeStyle=M0S.border_color_down;}n0S=this.canvasStyle(u0S);O0S=parseInt(n0S.paddingTop,"10" << 1536410272);G0S=parseInt(n0S.paddingBottom,10);R0S=parseInt(n0S.paddingLeft,10);t0S=parseInt(n0S.paddingRight,+"10");if(n0S.width && parseInt(n0S.width,10) <= 25){Z0S.lineWidth=Math.max(1,q54.stripPX(n0S.width));}else {Z0S.lineWidth=2;}if(this.highlightedDraggable){Z0S.globalAlpha*=0.3;}Z0S.beginPath();y0S=this.chart.state.aggregation.box;c8S=f0S.dataSet.length - f0S.scroll - +"1";Q0S=X0S.yAxis;J0S=y0S * Q0S.multiplier;A2x.H7G(4);W0S=A2x.C7G("2",0,J0S);A2x.P6o();function U0S(l8S,D8S,d8S){A2x.n7G(3);Z0S.moveTo(A2x.c7G(R0S,l8S),A2x.C7G(W0S,d8S,G0S,A2x.n7G(5)));A2x.n7G(6);Z0S.lineTo(A2x.C7G(D8S,t0S),A2x.c7G(W0S,J0S,d8S,O0S,A2x.H7G(7)));A2x.n7G(3);Z0S.moveTo(A2x.C7G(R0S,l8S),A2x.C7G(W0S,J0S,d8S,O0S,A2x.H7G(7)));A2x.n7G(6);Z0S.lineTo(A2x.c7G(D8S,t0S),A2x.c7G(W0S,d8S,G0S,A2x.n7G(5)));}F0S=this.layout.candleWidth;A2x.n7G(8);var r7m=A2x.c7G(209,14,17,2);k0S=X0S.left - F0S + this.micropixels - ("1" | r7m);for(var A0S=+"0";A0S < s0S.length;A0S++){k0S+=F0S;o0S=s0S[A0S];if(!o0S)continue;if(o0S.projection)break;T0S=o0S.pfOpen;K0S=o0S.pfClose;P8S=o0S.pfTrend;V0S=o0S.pfStepBack;if(o0S.transform && f0S.transformFunc){o0S=o0S.transform;T0S=f0S.transformFunc(this,f0S,T0S);K0S=f0S.transformFunc(this,f0S,K0S);}a0S=o0S.cache;A2x.n7G(3);z0S=A2x.C7G(A0S,c8S);if(z0S < X0S.cacheLeft || z0S > X0S.cacheRight || !a0S.pfOpen){if(Q0S.flipped){a0S.pfOpen=Q0S.bottom - (Q0S.high - T0S) * Q0S.multiplier;a0S.pfClose=Q0S.bottom - (Q0S.high - K0S) * Q0S.multiplier;}else {a0S.pfOpen=(Q0S.high - T0S) * Q0S.multiplier + Q0S.top;a0S.pfClose=(Q0S.high - K0S) * Q0S.multiplier + Q0S.top;}}B0S=Math.round(k0S);A2x.n7G(3);p0S=Math.round(A2x.C7G(F0S,k0S));r0S=Math.abs(Math.round((K0S - T0S) / y0S));q0S=a0S.pfOpen;if(C0S == V0S){if(V0S == "X"){A2x.n7G(6);U0S(B0S,p0S,A2x.c7G(q0S,J0S));}else if(V0S == "O"){A2x.H7G(3);L8S(B0S,p0S,A2x.C7G(J0S,q0S));}}if(C0S == P8S){for(;r0S >= 0;r0S--){if(C0S == ((7660,6040) >= 64.58?8850 != (3550,+"5560")?"X":"S":!"")){U0S(B0S,p0S,q0S,J0S,W0S);q0S-=Q0S.flipped?-J0S:J0S;}else if(C0S == (+"224.63" <= "466.21" - 0?"O":(!{},+"0x16df"))){L8S(B0S,p0S,q0S,J0S,W0S);q0S+=Q0S.flipped?-J0S:J0S;}}}}function L8S(H8S,m8S,i8S){A2x.n7G(9);Z0S.moveTo(A2x.C7G(m8S,H8S,2),A2x.c7G(i8S,O0S,W0S,A2x.n7G(10)));A2x.H7G(3);A2x.Q6o();Z0S.bezierCurveTo(A2x.c7G(t0S,m8S),A2x.c7G(i8S,O0S,W0S,A2x.n7G(10)),A2x.c7G(t0S,m8S,A2x.H7G(3)),A2x.C7G(W0S,i8S,G0S,J0S,A2x.H7G(11)),A2x.C7G(m8S,H8S,2,A2x.n7G(9)),A2x.C7G(W0S,i8S,G0S,J0S,A2x.n7G(11)));A2x.n7G(6);Z0S.bezierCurveTo(A2x.C7G(H8S,R0S),A2x.C7G(W0S,i8S,G0S,J0S,A2x.n7G(11)),A2x.C7G(H8S,R0S,A2x.H7G(6)),A2x.C7G(i8S,O0S,W0S,A2x.n7G(10)),A2x.c7G("2",2147483647,m8S,H8S,A2x.n7G(12)),A2x.c7G(i8S,O0S,W0S,A2x.n7G(10)));}Z0S.stroke();this.endClip();Z0S.lineWidth=1;};D3mm.Q6o();q54.ChartEngine.calculateAggregation=function(g8S,w8S,j8S,h8S){var q1V,x1V,x8S,v8S;q1V="lin";q1V+="eb";q1V+="reak";x1V="heik";x1V+="ina";x1V+="shi";v8S=g8S.layout;if([x1V,"heikenashi"].indexOf(w8S) > -1){x8S=q54.calculateHeikinAshi(g8S,j8S,h8S);}else if(w8S == "rangebars"){x8S=q54.calculateRangeBars(g8S,j8S,v8S.rangebars,h8S);}else if(w8S == "kagi"){x8S=q54.calculateKagi(g8S,j8S,v8S.kagi,h8S);}else if(w8S == q1V){x8S=q54.calculateLineBreak(g8S,j8S,v8S.priceLines,h8S);}else if(w8S == "renko"){x8S=q54.calculateRenkoBars(g8S,j8S,v8S.renko,h8S);}else if(w8S == "pandf"){x8S=q54.calculatePointFigure(g8S,j8S,v8S.pandf,h8S);}return x8S;};q54.calculateHeikinAshi=function(q8S,o8S,f8S){var N2x=D3mm;var N8S,b8S,Y8S,Z8S,e8S,I8S,S8S,E8S,n8S,O8S,J8S;if(!o8S.length){return o8S;}if(!f8S){f8S=[];}N8S=[];for(var Q8S=0;Q8S < o8S.length;Q8S++){b8S=o8S[Q8S];if(!b8S)continue;N2x.H7G(13);var c7m=N2x.C7G(14,50,20,2127238640);Y8S=N8S[N8S.length - ("1" >> c7m)];if(!Y8S && !Q8S){N2x.n7G(14);var A7m=N2x.c7G(7,0,12,5);Y8S=f8S[f8S.length - A7m];}if(!Y8S){Y8S=b8S;}Z8S=b8S.Close;e8S=b8S.Open;I8S=b8S.High;S8S=b8S.Low;E8S=Y8S.Open;e8S=e8S || e8S === "0" << 1053633280?e8S:Z8S;I8S=I8S || I8S === +"0"?I8S:Z8S;S8S=S8S || S8S === 0?S8S:Z8S;E8S=E8S || E8S === 0?E8S:Y8S.Close;N2x.H7G(15);var V7m=N2x.C7G(8,10);n8S=(E8S + Y8S.Close) / V7m;N2x.H7G(16);O8S=N2x.C7G(S8S,Z8S,e8S,I8S,4);J8S={DT:b8S.DT,displayDate:b8S.displayDate,Date:b8S.Date,Open:n8S,Close:O8S,High:Math.max(I8S,Math.max(n8S,O8S)),Low:Math.min(S8S,Math.min(n8S,O8S)),Volume:b8S.Volume,iqPrevClose:Y8S.Close};for(var W8S in b8S){if(!J8S[W8S] && J8S[W8S] !== 0){J8S[W8S]=b8S[W8S];}}N8S.push(J8S);}return N8S;};q54.calculateKagi=function(M8S,T8S,G8S,B8S){var H2x=D3mm;var p8S,t8S,e1V,h1V,Z1V,R8S,a8S,k8S,C8S,F8S,X8S;if(!T8S.length){return T8S;}if(!B8S){B8S=[];}p8S=M8S.layout;t8S=M8S.chart;G8S=parseFloat(G8S);H2x.Q6o();t8S.defaultChartStyleConfig.kagi=q54.ChartEngine.isDailyInterval(p8S.interval)?"4" << 1651483424:"0.4" - 0;if(isNaN(G8S) || G8S <= +"0"){e1V=- +"238759884";h1V=-783223427;Z1V=2;for(var o1V=+"1";H2x.g3V(o1V.toString(),o1V.toString().length,6438) !== e1V;o1V++){G8S=t8S.defaultChartStyleConfig.kagi;Z1V+=2;}if(H2x.l0V(Z1V.toString(),Z1V.toString().length,86929) !== h1V){G8S=t8S.defaultChartStyleConfig.kagi;}G8S=t8S.defaultChartStyleConfig.kagi;if(q54.Market.Symbology.isForexSymbol(t8S.symbol)){G8S/=4;}if(p8S.kagi !== null){p8S.kagi=null;M8S.changeOccurred("layout");}}G8S/=100;R8S=[];H2x.H7G(17);var W7m=H2x.C7G(13,3,5,4,3);a8S=B8S[B8S.length - ("1" | W7m)];k8S=a8S?a8S.DT:0;for(var K8S=0;K8S < T8S.length;K8S++){C8S=T8S[K8S];if(!C8S)continue;if(!a8S){H2x.H7G(6);a8S=T8S[H2x.c7G(K8S,1)];}if(!a8S)continue;F8S=a8S.Open || a8S.Open === "0" - 0?a8S.Open:a8S.Close;if(F8S > a8S.Close){if(C8S.Close > a8S.Close * (1 + G8S)){C8S.Open=a8S.Close;}else {if(a8S.Close > C8S.Close){a8S.Close=C8S.Close;}a8S.Volume+=C8S.Volume;if(K8S < T8S.length - 1)continue;}}else if(F8S < a8S.Close){if(C8S.Close < a8S.Close * (1 - G8S)){C8S.Open=a8S.Close;}else {if(a8S.Close < C8S.Close){a8S.Close=C8S.Close;}a8S.Volume+=C8S.Volume;if(K8S < T8S.length - 1)continue;}}else {a8S.Close=C8S.Close;a8S.Volume+=C8S.Volume;if(K8S < T8S.length - 1)continue;}X8S={DT:a8S.DT,displayDate:a8S.displayDate,Date:a8S.Date,Open:a8S.Open,Close:a8S.Close,High:Math.max(a8S.Open,a8S.Close),Low:Math.min(a8S.Open,a8S.Close),Volume:a8S.Volume,iqPrevClose:a8S.iqPrevClose};for(var A8S in a8S){if(!X8S[A8S] && X8S[A8S] !== "0" - 0){X8S[A8S]=a8S[A8S];}}if(R8S.length){X8S.kagiPrevOpen=R8S[R8S.length - ("1" | 1)].Open;}else {X8S.kagiPrevOpen=X8S.Open;}if(X8S.Close > X8S.kagiPrevOpen && X8S.kagiPrevOpen > X8S.Open){X8S.kagiTrend=1;}else if(X8S.Close < X8S.kagiPrevOpen && X8S.kagiPrevOpen < X8S.Open){X8S.kagiTrend=- +"1";}if(k8S < X8S.DT){R8S.push(X8S);}a8S=C8S;t8S.currentQuote={Close:C8S.Close};}return R8S;};q54.calculateLineBreak=function(x3S,D3S,y8S,w3S){var i3S,H3S,r8S,j3S,m3S,V8S,z8S,u8S,c3S,P3S,U8S,s8S,L3S,d3S;if(!D3S.length){return D3S;}if(!w3S){w3S=[];}i3S=x3S.layout;H3S=x3S.chart;H3S.defaultChartStyleConfig.priceLines=3;y8S=parseInt(y8S,10);if(isNaN(y8S) || y8S <= 0){y8S=H3S.defaultChartStyleConfig.priceLines;if(i3S.priceLines !== null){i3S.priceLines=null;x3S.changeOccurred("layout");}}else if(y8S > 10){D3mm.H7G(18);i3S.priceLines=y8S=D3mm.C7G("10",0);}D3mm.P6o();r8S=w3S.slice(-y8S);j3S=r8S.length;m3S=0;a:for(var g3S=0;g3S < D3S.length;g3S++){V8S=D3S[g3S];if(!V8S)continue;m3S+=V8S.Volume;z8S=r8S[r8S.length - +"1"];if(!z8S){z8S={Open:V8S.Open,Close:V8S.Open,High:V8S.Open,Low:V8S.Open};}u8S=z8S.Close;c3S=z8S.High;P3S=z8S.Low;U8S=z8S.Open;c3S=c3S || c3S === 0?c3S:u8S;P3S=P3S || P3S === 0?P3S:u8S;U8S=U8S || U8S === 0?U8S:u8S;s8S={DT:V8S.DT,displayDate:V8S.displayDate,Date:V8S.Date,Close:V8S.Close,Volume:m3S,iqPrevClose:u8S};H3S.currentQuote={Close:V8S.Close};if(V8S.Close > u8S && z8S.Close > U8S){;}else if(V8S.Close < u8S && z8S.Close < U8S){;}else if(V8S.Close > c3S){for(L3S=2;L3S <= y8S;L3S++){d3S=r8S[r8S.length - L3S];if(d3S && V8S.Close <= d3S.High){continue a;}}}else if(V8S.Close < P3S){for(L3S=2;L3S <= y8S;L3S++){d3S=r8S[r8S.length - L3S];if(d3S && V8S.Close >= d3S.Low){continue a;}}}else continue;if(V8S.Close < z8S.Close){s8S.Open=Math.min(U8S,u8S);}else {s8S.Open=Math.max(U8S,u8S);}s8S.Low=Math.min(s8S.Open,s8S.Close);s8S.High=Math.max(s8S.Open,s8S.Close);for(var l3S in V8S){if(!s8S[l3S] && s8S[l3S] !== 0){s8S[l3S]=V8S[l3S];}}r8S.push(s8S);m3S=0;}return r8S.slice(j3S);};q54.calculateRenkoBars=function(N3S,v3S,h3S,Q3S){var E0x=D3mm;var Z3S,e3S,E3S,C3S,f3S,J3S,l1V,n3S,b3S,Y3S,I3S,O3S,S3S,q3S,a3S,X3S;if(!v3S.length){return [];}if(!Q3S){Q3S=[];}Z3S=N3S.layout;e3S=N3S.chart;E3S=e3S.state.aggregation;if(!E3S){E3S=e3S.state.aggregation={};}C3S=Math.min(300,v3S.length);if(!E3S.minMax){E3S.minMax=N3S.determineMinMax(v3S.slice(v3S.length - C3S),["Close","High","Low"]);}function W3S(G3S,T3S){var K3S;G3S=Number(G3S.toFixed(8));T3S=Number(T3S.toFixed(8));K3S={DT:I3S.DT,displayDate:I3S.displayDate,Date:I3S.Date,Open:G3S,Close:T3S,High:Math.max(G3S,T3S),Low:Math.min(G3S,T3S),Volume:0,iqPrevClose:G3S != T3S?G3S:null};for(var R3S in I3S){if(!K3S[R3S] && K3S[R3S] !== 0){K3S[R3S]=I3S[R3S];}}n3S.push(K3S);}E0x.n7G(11);E0x.P6o();var m7m=E0x.c7G(15,15,15,16);f3S=E3S.minMax[m7m] - E3S.minMax[0];J3S=N3S.panels[e3S.name].height;if(!J3S){return [];}E0x.H7G(3);var M7m=E0x.C7G(14,9986);E0x.n7G(19);var C7m=E0x.c7G(2,9197,17);e3S.defaultChartStyleConfig.renko=Math.floor(M7m * f3S / (J3S / +"30")) / ("10000" | C7m);if(h3S === null || isNaN(h3S) || h3S <= 0){h3S=e3S.defaultChartStyleConfig.renko;if(Z3S.renko !== null){Z3S.renko=null;N3S.changeOccurred("layout");}}else {E0x.n7G(20);h3S=Math.max(h3S,E0x.c7G(J3S,f3S));if(Z3S.renko !== h3S){l1V="l";l1V+="ayo";l1V+="u";l1V+="t";Z3S.renko=h3S;N3S.changeOccurred(l1V);}}n3S=[];b3S=null;Y3S=null;I3S=null;if(Q3S.length){E0x.H7G(21);var w7m=E0x.c7G(16,6,1,175,8);O3S=Q3S[Q3S.length - w7m];b3S=O3S.Low - h3S;Y3S=O3S.High + h3S;}for(var o3S=0;o3S < v3S.length;o3S++){S3S=v3S[o3S];if(!S3S)continue;if(!b3S && !Y3S){q3S=S3S.Open || S3S.Open === 0?S3S.Open:S3S.Close;a3S=Math.floor(q3S / h3S) * h3S;X3S=isNaN(a3S)?q3S:a3S;E0x.H7G(6);b3S=E0x.c7G(X3S,h3S);E0x.n7G(3);Y3S=E0x.c7G(h3S,X3S);}while(! !1){if(!I3S){I3S=S3S;}if(S3S.Close <= b3S){E0x.H7G(3);W3S(E0x.C7G(h3S,b3S),b3S);E0x.H7G(22);Y3S=E0x.c7G(b3S,2,h3S);b3S-=h3S;I3S=null;}else if(S3S.Close >= Y3S){E0x.n7G(6);W3S(E0x.C7G(Y3S,h3S),Y3S);E0x.n7G(23);b3S=E0x.C7G(h3S,Y3S,2);Y3S+=h3S;I3S=null;}else break;}e3S.currentQuote=S3S;}if(b3S < v3S[v3S.length - 1].Close && b3S + h3S > v3S[v3S.length - 1].Close){E0x.H7G(3);W3S(E0x.C7G(h3S,b3S),v3S[v3S.length - ("1" | 1)].Close);}else if(Y3S > v3S[v3S.length - ("1" - 0)].Close && Y3S - h3S < v3S[v3S.length - 1].Close){E0x.n7G(6);W3S(E0x.c7G(Y3S,h3S),v3S[v3S.length - ("1" & 2147483647)].Close);}return n3S;};q54.calculateRangeBars=function(c9S,k3S,A3S,l9S){var Z0x=D3mm;var J8V,g8V,d9S,P9S,u3S,w9S,H9S,D9S,T8V,m9S,t3S,V3S,s3S,i9S,y3S,B3S,L9S,r3S,p3S,M3S,F3S,x9S,h9S;J8V="Hi";J8V+="gh";g8V="Clo";function U3S(S9S,I9S){var d8V;while(1){if(!y3S){y3S=S9S;}if(t3S < I9S){t3S=Math.min(I9S,V3S);Z0x.H7G(6);s3S=Math.max(s3S,Z0x.C7G(t3S,A3S));if(I9S < V3S)break;}else if(t3S >= I9S){t3S=Math.max(I9S,s3S);Z0x.H7G(3);V3S=Math.min(V3S,Z0x.c7G(A3S,t3S));if(I9S > s3S)break;}if(typeof t3S == "undefined"){d8V="Uh oh undefined";d8V+=" ";d8V+="in calculateRangeBars:processMove";console.log(d8V);return;}j9S(t3S);y3S=null;g9S();}}g8V+="se";if(!k3S.length){return k3S;}if(!l9S){l9S=[];}d9S=c9S.layout;P9S=c9S.chart;u3S=P9S.state.aggregation;function j9S(Y9S){var v9S;v9S={DT:y3S.DT,displayDate:y3S.displayDate,Date:y3S.Date,Open:Number(i9S.toFixed(8)),Close:Number(Y9S.toFixed(8)),High:Number(V3S.toFixed(+"8")),Low:Number(s3S.toFixed(8)),Volume:0};v9S.iqPrevClose=v9S.Open;for(var b9S in y3S){if(!v9S[b9S] && v9S[b9S] !== 0){v9S[b9S]=y3S[b9S];}}m9S.push(v9S);}function g9S(){Z0x.n7G(3);V3S=Z0x.C7G(A3S,t3S);Z0x.H7G(6);s3S=Z0x.C7G(t3S,A3S);i9S=t3S;}if(!u3S){u3S=P9S.state.aggregation={};}w9S=Math.min(300,k3S.length);if(!u3S.minMax){u3S.minMax=c9S.determineMinMax(k3S.slice(k3S.length - w9S),[g8V,J8V,"Low"]);}Z0x.H7G(10);var n7m=Z0x.C7G(1482136241,19,36);H9S=u3S.minMax["1" >> n7m] - u3S.minMax[0];D9S=c9S.panels[P9S.name].height;if(!D9S){return [];}Z0x.n7G(7);var U7m=Z0x.c7G(15,5,10,10);Z0x.n7G(21);var x7m=Z0x.c7G(10,14,556,34592,8);P9S.defaultChartStyleConfig.range=Math.floor(+"10000" * H9S / (D9S / U7m)) / x7m;if(A3S === null || isNaN(A3S) || A3S < 0){A3S=P9S.defaultChartStyleConfig.range;if(d9S.range !== null){d9S.range=null;c9S.changeOccurred("layout");}}else {Z0x.H7G(20);A3S=Math.max(A3S,Z0x.c7G(D9S,H9S));if(d9S.range !== A3S){T8V="lay";T8V+="o";T8V+="u";T8V+="t";d9S.range=A3S;c9S.changeOccurred(T8V);}}m9S=[];t3S=null;V3S=null;s3S=null;i9S=null;y3S=null;for(var z3S=0;z3S < k3S.length;z3S++){B3S=k3S[z3S];if(!B3S)continue;Z0x.H7G(6);L9S=k3S[Z0x.C7G(z3S,1)];if(!z3S){if(!L9S){Z0x.H7G(24);var q7m=Z0x.c7G(7,50,7);L9S=l9S[l9S.length - q7m];}if(L9S){t3S=L9S.Close;if(t3S || t3S === 0){g9S();}}}if(!L9S)continue;r3S=B3S.Close;p3S=B3S.Open;M3S=B3S.High;F3S=B3S.Low;if(!r3S && r3S !== 0)continue;p3S=p3S || p3S === "0" >> 836909184?p3S:r3S;M3S=M3S || M3S === 0?M3S:r3S;F3S=F3S || F3S === 0?F3S:r3S;if(!t3S && t3S !== +"0"){x9S=Math.floor(p3S / A3S) * A3S;t3S=isNaN(x9S)?p3S:x9S;g9S();U3S(L9S,p3S);}if(z3S){U3S(B3S,p3S);}if(M3S - p3S < p3S - F3S){if(M3S){U3S(B3S,M3S);}if(F3S){U3S(B3S,F3S);}}else {if(F3S){U3S(B3S,F3S);}if(M3S){U3S(B3S,M3S);}}U3S(B3S,r3S);if(z3S == k3S.length - 1 && r3S != i9S){h9S=V3S;Z0x.H7G(3);V3S=Z0x.C7G(A3S,s3S);Z0x.H7G(6);s3S=Z0x.c7G(h9S,A3S);j9S(r3S);}}return m9S;};q54.calculatePointFigure=function(R9S,t9S,B9S,p9S){var s0x=D3mm;var o9S,O9S,M9S,e9S,J9S,G8V,q9S,v8V,T9S,K9S,C9S,W9S,Z9S,f9S,E9S,n9S,G9S,N9S,Q9S,a9S,X9S;if(!t9S.length){return t9S;}function k9S(r9S,y9S){for(var s9S in r9S){if(!y9S[s9S] && y9S[s9S] !== +"0"){y9S[s9S]=r9S[s9S];}}return y9S;}if(!p9S){p9S=[];}o9S=R9S.layout;O9S=R9S.chart;M9S=O9S.state.aggregation;if(!M9S){M9S=O9S.state.aggregation={};}s0x.H7G(0);O9S.defaultChartStyleConfig.box=s0x.C7G("1",375822272);function A9S(z9S,u9S,U9S,L4S,c4S){z9S.High=Math.max(u9S,z9S.High);z9S.Low=Math.min(U9S,z9S.Low);z9S.Close=L4S;z9S.Volume+=c4S;}O9S.defaultChartStyleConfig.reversal=3;if(!B9S){B9S={};}function V9S(P4S,d4S,l4S,D4S,i4S,H4S,m4S,g4S,x4S){return {DT:P4S.DT,Date:P4S.Date,pfOpen:g4S,pfClose:x4S,Open:d4S,Close:i4S,High:l4S,Low:D4S,Volume:H4S,iqPrevClose:m4S};}e9S=B9S.box;if(!e9S){if(o9S.pandf){if(o9S.pandf.box !== null){o9S.pandf.box=null;R9S.changeOccurred("layout");}}e9S=O9S.defaultChartStyleConfig.box;J9S=t9S[t9S.length - 1].Close;if(J9S){if(J9S < 0.25){e9S=+"0.0625";}else if(J9S < "1" - 0){e9S=0.125;}else if(J9S < 5){e9S=0.25;}else if(J9S < 20){e9S=0.5;}else if(J9S < 100){e9S=1;}else if(J9S < 200){e9S=2;}else if(J9S < 500){e9S=4;}else if(J9S < +"1000"){e9S=5;}else if(J9S < ("25000" | 24992)){e9S=50;}else {e9S=+"500";}}if(!q54.ChartEngine.isDailyInterval(o9S.interval)){e9S/=10;}if(q54.Market.Symbology.isForexSymbol(O9S.symbol)){if(J9S){if(J9S < 1){e9S=0.001;}else if(J9S < 2){e9S=+"0.002";}else if(J9S < +"50"){e9S=0.02;}else if(J9S < 200){s0x.n7G(25);e9S=s0x.C7G(1,"0.2");}}if(q54.ChartEngine.isDailyInterval(o9S.interval)){e9S*=+"10";}}O9S.defaultChartStyleConfig.box=e9S;}e9S=parseFloat(e9S);if(isNaN(e9S) || e9S <= 0){if(o9S.pandf){if(o9S.pandf.box !== null){G8V="l";G8V+="ay";G8V+="o";G8V+="ut";o9S.pandf.box=null;R9S.changeOccurred(G8V);}}s0x.n7G(18);O9S.defaultChartStyleConfig.box=e9S=s0x.c7G("1",0);}q9S=Math.ceil(parseFloat(B9S.reversal));if(q9S > 0 && q9S > B9S.reversal){v8V="la";v8V+="y";v8V+="out";o9S.pandf.reversal=q9S;R9S.changeOccurred(v8V);}else if(isNaN(q9S) || q9S <= 0){if(o9S.pandf){if(o9S.pandf.reversal !== null){o9S.pandf.reversal=null;R9S.changeOccurred("layout");}}q9S=O9S.defaultChartStyleConfig.reversal;}M9S.box=e9S;q9S*=e9S;T9S=0.00000001;K9S=(e9S.toString() + ".").split(673.78 <= +"541.69"?(![],6.28e+3):3542 < +"7950"?(9040,193.7) <= 8482?".":1.34e+3:(!{},4.84e+3))[+"1"].length;C9S=[];W9S=0;for(var F9S=0;F9S < t9S.length;F9S++){f9S=t9S[F9S];if(!f9S)continue;W9S+=f9S.Volume;n9S=f9S.Close;G9S=f9S.Open;N9S=f9S.High;Q9S=f9S.Low;G9S=G9S || G9S === 0?G9S:n9S;N9S=N9S || N9S === 0?N9S:n9S;Q9S=Q9S || Q9S === 0?Q9S:n9S;if(!C9S.length && !p9S.length){Z9S=k9S(f9S,V9S(f9S,G9S,N9S,Q9S,n9S,W9S,N9S + e9S,Number((Math.ceil(Q9S / e9S - T9S) * e9S).toFixed(K9S)),Number((Math.floor(N9S / e9S + T9S) * e9S).toFixed(K9S))));Z9S.pfTrend=(9550,2270) >= (670.56,6302)?0x9ca:"X";if(Z9S.pfOpen == Z9S.pfClose){Z9S.pfStepBack="-";}C9S.push(Z9S);W9S=0;continue;}s0x.H7G(26);var l7m=s0x.c7G(1,10,40,19,12);E9S=C9S[C9S.length - l7m];if(!E9S){E9S=q54.clone(p9S[p9S.length - 1]);}if(E9S.pfTrend == ((7080,9018) != (8671,181.14)?"O":("R",7.65e+3))){if(Q9S <= E9S.pfClose - e9S){E9S.pfClose=Number((Math.ceil(Q9S / e9S - T9S) * e9S).toFixed(K9S));if(E9S.pfStepBack == ((5078,1949) <= ("6045" ^ 0)?3240 !== (+"5270",7634)?"O":("B",! !{}):(0x271,! ![]))){E9S.pfStepBack=null;}A9S(E9S,N9S,Q9S,n9S,W9S);}else if(N9S >= E9S.pfClose + q9S){a9S=E9S.pfClose + e9S;X9S=Number((Math.floor(N9S / e9S + T9S) * e9S).toFixed(K9S));Z9S=V9S(f9S,G9S,N9S,Q9S,n9S,W9S,E9S.pfClose,a9S,X9S);if(a9S == X9S){Z9S.pfStepBack=(9659,96) !== 1580?"X":(0x4a0,!{});}if(E9S.pfStepBack == "O"){E9S.pfOpen=a9S;E9S.pfClose=X9S;E9S.pfTrend=9156 !== 6080?"X":(!"","A");A9S(E9S,N9S,Q9S,n9S,W9S);}else {Z9S=k9S(f9S,Z9S);Z9S.pfTrend="X";C9S.push(Z9S);}}else {A9S(E9S,N9S,Q9S,n9S,W9S);}W9S=0;}else if(E9S.pfTrend == (950.77 == (+"2517",115.02)?(0x24b8,"778.89" - 0):883 !== (537.52,"6850" ^ 0)?(9624,4346) != 211.75?"X":0x875:"o")){if(N9S >= E9S.pfClose + e9S){E9S.pfClose=Number((Math.floor(N9S / e9S + T9S) * e9S).toFixed(K9S));if(E9S.pfStepBack == ((122.93,141.68) != (5997,9200)?(86.12,444.75) <= (9590,744.57)?4345 <= 5650?"X":"0xee4" >> 929724864:(5.31e+3,0x1bed):0x792) || E9S.pfStepBack == ((4971,402.84) > (6744,"57" & 2147483647)?"-":(2410,883.12) < (8800,3610)?5400 >= (7983,814.8)?!{}:(0x443,!1):(0x1800,"P"))){E9S.pfStepBack=null;}A9S(E9S,N9S,Q9S,n9S,W9S);}else if(Q9S <= E9S.pfClose - q9S){a9S=E9S.pfClose - e9S;X9S=Number((Math.ceil(Q9S / e9S - T9S) * e9S).toFixed(K9S));Z9S=V9S(f9S,G9S,N9S,Q9S,n9S,W9S,E9S.pfClose,a9S,X9S);if(a9S == X9S){Z9S.pfStepBack=("61.05" * 1,+"43.99") <= (216.75,+"477.65")?+"9546" !== (646.21,+"350")?"O":"0x75e" >> 2081968192:(!{},+"0x108f");}if(E9S.pfStepBack == (6504 <= (+"4920",107)?"E":(4642,4319) <= (1583,359)?"j":"X") || E9S.pfStepBack == (605.98 == 9940?(!"1",!0):(9110,613.02) !== (+"5253",753.7)?"-":(7.09e+3,"910" & 2147483647))){E9S.pfOpen=a9S;E9S.pfClose=X9S;E9S.pfTrend="955.87" - 0 === ("891.65" * 1,"4306" ^ 0)?(53.10,!{}):"O";A9S(E9S,N9S,Q9S,n9S,W9S);if(a9S != X9S && E9S.pfStepBack == (4783 != (3315,6607)?"-":9.42e+3)){E9S.pfStepBack=null;}}else {Z9S=k9S(f9S,Z9S);Z9S.pfTrend=(231.11,3730) === 4510?("E","f"):3630 <= (4530,5480)?655 == "7482" - 0?"0x112f" & 2147483647:"O":345;C9S.push(Z9S);}}else {A9S(E9S,N9S,Q9S,n9S,W9S);}W9S=0;}}return C9S;};};P94=h4S=>{var c0x=D3mm;c0x.Q6o();var w4S,j4S,Q9V,s9V,E9V,y9V,X9V,t9V,d9V,w2V,C2V,M2V,z2V,c8V,r8V,N8V,R8V,Y8V,D8V,f8V;w4S=typeof _CIQ !== "undefined"?_CIQ:h4S.CIQ;j4S=typeof _timezoneJS !== "undefined"?_timezoneJS:h4S.timezoneJS;if(!w4S.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {Q9V="lineColo";Q9V+="r";s9V="lineWid";s9V+="t";s9V+="h";E9V="I";E9V+="V";y9V="I";y9V+="I";X9V="pa";X9V+="tte";X9V+="r";X9V+="n";t9V="co";t9V+="l";t9V+="o";t9V+="r";d9V="fil";d9V+="lCol";d9V+="o";d9V+="r";w2V="co";w2V+="lo";w2V+="r";w2V+="3";C2V="a";C2V+="c";C2V+="tive";C2V+="1";M2V="col";M2V+="o";M2V+="r";z2V="c";z2V+="o";z2V+="lo";z2V+="r";c8V="co";c8V+="lor";r8V="t";r8V+="z";N8V="f";N8V+="o";N8V+="n";N8V+="t";R8V="c";R8V+="ol";R8V+="or";Y8V="patter";Y8V+="n";D8V="c";D8V+="o";D8V+="lor";f8V="l";f8V+="ineW";f8V+="idth";w4S.Drawing.ray=function(){this.name="ray";};w4S.inheritsFrom(w4S.Drawing.ray,w4S.Drawing.line);w4S.Drawing.ray.prototype.calculateOuterSet=function(Y4S){var v4S,b4S;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || w4S.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}v4S={x0:this.p0[0],y0:this.p0[+"1"],x1:this.p1[0],y1:this.p1[1]};c0x.n7G(27);var g0G=c0x.c7G(990,143,143,10);b4S=v4S.x1 + g0G;if(v4S.x0 > v4S.x1){c0x.H7G(28);var J0G=c0x.C7G(6,4,2,660,1020);b4S=v4S.x1 - J0G;}this.v0B=this.v0;this.v1B=w4S.yIntersection(v4S,b4S);this.d0B=this.d0;c0x.Q6o();this.d1B=this.stx.dateFromTick(b4S,Y4S.chart);};w4S.Drawing.ray.prototype.adjust=function(){var I4S;I4S=this.stx.panels[this.panelName];if(!I4S){return;}c0x.n7G(29);this.setPoint(c0x.c7G("0",1213665984),this.d0,this.v0,I4S.chart);c0x.Q6o();this.setPoint(1,this.d1,this.v1,I4S.chart);if(w4S.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,I4S.chart);}};w4S.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=![];c0x.P6o();this.maxSegments=null;};w4S.inheritsFrom(w4S.Drawing.continuous,w4S.Drawing.segment);w4S.Drawing.continuous.prototype.click=function(J4S,e4S,E4S){var S4S,Q4S,N4S,Z4S;S4S=this.stx.panels[this.panelName];if(!S4S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,e4S,E4S,S4S.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(e4S,E4S)){this.stx.undo();return !0;}this.setPoint(1,e4S,E4S,S4S.chart);Q4S=w4S.Drawing.segment;N4S=new Q4S();Z4S=this.serialize(this.stx);N4S.reconstruct(this.stx,Z4S);this.stx.addDrawing(N4S);this.stx.changeOccurred("vector");this.stx.draw();c0x.Q6o();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !"";}this.setPoint(0,e4S,E4S,S4S.chart);return ! !"";};w4S.Drawing.ellipse=function(){this.name="ellipse";};w4S.inheritsFrom(w4S.Drawing.ellipse,w4S.Drawing.BaseTwoPoint);w4S.Drawing.ellipse.prototype.render=function(W4S){var n4S,A4S,X4S,C4S,G4S,O4S,T4S,K4S,R4S,t4S,q4S,o4S,f4S,Z4V,P4V,o4V,a4S,B4S;n4S=this.stx.panels[this.panelName];if(!n4S){return;}A4S=this.stx.pixelFromTick(this.p0[0],n4S.chart);X4S=this.stx.pixelFromTick(this.p1[0],n4S.chart);C4S=this.stx.pixelFromValueAdjusted(n4S,this.p0[0],this.p0["1" - 0]);G4S=this.stx.pixelFromValueAdjusted(n4S,this.p1[0],this.p1["1" ^ 0]);c0x.Q6o();c0x.n7G(30);O4S=c0x.c7G(A4S,A4S,X4S);T4S=X4S;K4S=C4S;R4S=G4S;c0x.n7G(30);t4S=c0x.C7G(C4S,C4S,G4S);c0x.n7G(31);q4S=c0x.C7G(6,t4S,R4S);o4S=this.lineWidth;if(!o4S){o4S=1.1;}f4S=this.color;if(f4S == "auto" || w4S.isTransparent(f4S)){f4S=this.stx.defaultColor;}if(this.highlighted){Z4V=1370857161;P4V=1887807964;o4V=2;for(var N4V="1" * 1;c0x.g3V(N4V.toString(),N4V.toString().length,66944) !== Z4V;N4V++){f4S=this.stx.getCanvasColor("");o4V+=2;}if(c0x.l0V(o4V.toString(),o4V.toString().length,54196) !== P4V){f4S=this.stx.getCanvasColor("stx_highlight_vector");}if(o4S == 0.1){o4S=1.1;}}a4S=this.fillColor;W4S.beginPath();W4S.moveTo(O4S,K4S);c0x.n7G(3);W4S.bezierCurveTo(O4S,c0x.c7G(q4S,R4S),T4S,c0x.c7G(q4S,R4S),T4S,K4S);c0x.H7G(6);W4S.bezierCurveTo(T4S,c0x.C7G(t4S,q4S),O4S,c0x.c7G(t4S,q4S),O4S,K4S);if(a4S && !w4S.isTransparent(a4S) && a4S != "auto"){W4S.fillStyle=a4S;W4S.globalAlpha=0.2;W4S.fill();W4S.globalAlpha=1;}if(f4S && this.pattern != "none"){W4S.strokeStyle=f4S;W4S.lineWidth=o4S;if(W4S.setLineDash){W4S.setLineDash(w4S.borderPatternToArray(o4S,this.pattern));c0x.n7G(0);W4S.lineDashOffset=c0x.c7G("0",988263808);;}W4S.stroke();}W4S.closePath();if(this.highlighted){B4S=this.highlighted == "p1"?!0:!{};this.littleCircle(W4S,X4S,G4S,B4S);}};w4S.Drawing.ellipse.prototype.intersected=function(s4S,y4S,p4S){var M4S,F4S,k4S,V4S;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[+"0"],this.p1[1],p4S)){this.highlighted="p1";return {action:"drag",point:"p1"};}M4S=this.p0[0] - (this.p1[0] - this.p0[0]);c0x.n7G(6);F4S=this.p1[c0x.c7G("0",0)];k4S=this.p1[1];c0x.H7G(32);var T0G=c0x.c7G(14,19,0,5);c0x.n7G(6);var d0G=c0x.C7G(12,11);c0x.n7G(33);var G0G=c0x.c7G(14,2,12,6);V4S=this.p0[T0G] - (this.p1[d0G] - this.p0[G0G]);if(p4S.x0 > Math.max(M4S,F4S) || p4S.x1 < Math.min(M4S,F4S)){return !{};}if(p4S.y1 > Math.max(V4S,k4S) || p4S.y0 < Math.min(V4S,k4S)){return !{};}this.highlighted=! !{};return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:s4S,value:y4S};};w4S.Drawing.ellipse.prototype.configs=["color","fillColor",f8V,"pattern"];w4S.Drawing.ellipse.prototype.reconstruct=function(z4S,r4S){this.stx=z4S;this.color=r4S.col;this.fillColor=r4S.fc;this.panelName=r4S.pnl;this.pattern=r4S.ptrn;this.lineWidth=r4S.lw;this.d0=r4S.d0;this.d1=r4S.d1;this.tzo0=r4S.tzo0;this.tzo1=r4S.tzo1;this.v0=r4S.v0;this.v1=r4S.v1;this.adjust();};w4S.Drawing.ellipse.prototype.serialize=function(){c0x.Q6o();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};w4S.Drawing.channel=function(){var a8V,S5V,H5V,K5V;a8V="ch";a8V+="annel";this.name=a8V;this.dragToDraw=![];S5V=-1922169535;H5V=-27021028;K5V=2;for(var r5V=1;c0x.l0V(r5V.toString(),r5V.toString().length,89154) !== S5V;r5V++){this.p2=1;K5V+=+"2";}if(c0x.g3V(K5V.toString(),K5V.toString().length,97294) !== H5V){this.p2=3;}this.p2=null;};w4S.inheritsFrom(w4S.Drawing.channel,w4S.Drawing.segment);w4S.Drawing.channel.prototype.configs=[D8V,"fillColor","lineWidth","pattern"];w4S.Drawing.channel.prototype.move=function(c6S,u4S,U4S){var L6S;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[u4S,U4S];}else {c0x.H7G(34);var v0G=c0x.C7G(15,8,8);c0x.n7G(35);var f0G=c0x.C7G(1297012592,13,17,49286477817,3);c0x.n7G(10);var a0G=c0x.C7G(0,2,1);L6S=U4S - (this.p1[v0G] - this.p0["1" << f0G]) / (this.p1["0" * a0G] - this.p0[0]) * (u4S - this.p1[0]);this.p2=[this.p1[0],L6S];}this.render(c6S);};w4S.Drawing.channel.prototype.click=function(D6S,d6S,l6S){var P6S;P6S=this.stx.panels[this.panelName];if(!P6S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,d6S,l6S,P6S.chart);this.penDown=!"";return ! !0;}if(this.accidentalClick(d6S,l6S)){this.stx.undo();return ! !"1";}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],P6S.chart);this.penDown=! !"";return ! ![];}this.setPoint(+"1",d6S,l6S,P6S.chart);if(this.p0[0] == this.p1["0" >> 710528800]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return !{};};w4S.Drawing.channel.prototype.boxIntersection=function(x6S,h6S,m6S){var i6S,H6S,g6S,w6S,j6S;i6S=this.p0;c0x.Q6o();H6S=this.p1;g6S=this.p2;if(!i6S || !H6S || !g6S){return ! !"";}if(m6S.x0 > Math.max(i6S[0],H6S[0]) || m6S.x1 < Math.min(i6S["0" | 0],H6S[+"0"])){return ! !"";}c0x.n7G(6);var D0G=c0x.C7G(18,17);c0x.n7G(36);var B0G=c0x.C7G(3,194,12,13);c0x.n7G(37);var t0G=c0x.C7G(5,0,1,1,6);c0x.n7G(5);var X0G=c0x.c7G(14,856957315,17);c0x.n7G(5);var O0G=c0x.c7G(3,12,14);w6S=(H6S[0] - i6S[0]) * ((g6S[D0G] < i6S[B0G]?m6S.y1:m6S.y0) - i6S[t0G]) - (H6S["1" >> X0G] - i6S[O0G]) * (x6S - i6S[0]);c0x.H7G(6);var F0G=c0x.C7G(3,2);c0x.n7G(3);var p0G=c0x.c7G(1,0);c0x.H7G(38);var y0G=c0x.c7G(5,0,19,5,20);c0x.H7G(6);var E0G=c0x.c7G(6,5);c0x.H7G(6);var s0G=c0x.c7G(7,6);c0x.n7G(15);var Q0G=c0x.c7G(17,18);j6S=(g6S[0] - i6S[0]) * ((g6S["1" - 0] > i6S[F0G]?m6S.y1:m6S.y0) - (i6S[p0G] + g6S[y0G] - H6S[E0G])) - (H6S[s0G] - i6S[Q0G]) * (x6S - i6S[0]);c0x.H7G(39);return c0x.c7G(j6S,w6S,0);};w4S.Drawing.channel.prototype.intersected=function(Y6S,I6S,S6S){var b6S,B8V;if(!this.p0 || !this.p1 || !this.p2){return null;}b6S={0:this.p0,1:this.p1,2:this.p2};for(var v6S in b6S){if(this.pointIntersection(b6S[v6S][0],b6S[v6S][1],S6S)){B8V="d";B8V+="rag";c0x.n7G(3);this.highlighted=c0x.c7G(v6S,(+"7046",1926) != 3760?"p":815.95 <= 9260?+"1161" <= (+"492.5",680.95)?(8.47e+3,988.63):(!1,+"4.46e+3"):+"7.85e+3");return {action:B8V,point:((2110,2190) === (7433,"294.01" * 1)?+"121" === 3616?0x375:(0x23f6,0x2163):"p") + v6S};}}if(this.boxIntersection(Y6S,I6S,S6S)){this.highlighted=! !{};return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),p2:w4S.clone(this.p2),tick:Y6S,value:I6S};}return null;};w4S.Drawing.channel.prototype.render=function(e6S){var X8V,t8V,E6S,Z6S,N6S,J6S,W6S,Q6S,O6S,n6S,o6S,o6V,R6V,N6V,f6S,q6S,a6S,X6S;X8V="segmen";X8V+="t";t8V="no";t8V+="n";t8V+="e";E6S=this.stx.panels[this.panelName];if(!E6S){return;}Z6S=this.stx.pixelFromTick(this.p0[+"0"],E6S.chart);N6S=this.stx.pixelFromTick(this.p1[0],E6S.chart);J6S=this.stx.pixelFromValueAdjusted(E6S,this.p0["0" - 0],this.p0[1]);W6S=this.stx.pixelFromValueAdjusted(E6S,this.p1["0" >> 410773952],this.p1[+"1"]);Q6S=null;if(this.p2){Q6S=this.stx.pixelFromValueAdjusted(E6S,this.p2[0],this.p2[+"1"]);}O6S=this.lineWidth;n6S=this.getLineColor();o6S=this.fillColor;if(this.p2 && o6S && !w4S.isTransparent(o6S) && o6S != "auto"){e6S.beginPath();e6S.moveTo(Z6S,J6S);e6S.lineTo(N6S,W6S);e6S.lineTo(N6S,Q6S);c0x.H7G(40);e6S.lineTo(Z6S,c0x.C7G(J6S,W6S,Q6S));e6S.closePath();c0x.H7G(41);o6V=-c0x.c7G("89856551",0);c0x.n7G(25);R6V=c0x.C7G(1,"1332918461");N6V=2;for(var j6V=1;c0x.g3V(j6V.toString(),j6V.toString().length,77170) !== o6V;j6V++){e6S.globalAlpha=652;N6V+=2;}if(c0x.l0V(N6V.toString(),N6V.toString().length,63221) !== R6V){e6S.globalAlpha=+"0.2";}e6S.fillStyle=o6S;e6S.fill();e6S.globalAlpha=1;}f6S={pattern:this.pattern,lineWidth:O6S};if((this.penDown || this.highlighted) && this.pattern == t8V){f6S.pattern="dotted";}this.stx.plotLine(Z6S,N6S,J6S,W6S,n6S,X8V,e6S,E6S,f6S);if(this.p2){c0x.n7G(40);this.stx.plotLine(Z6S,N6S,c0x.c7G(J6S,W6S,Q6S),Q6S,n6S,"segment",e6S,E6S,f6S);}if(this.highlighted){q6S=this.highlighted == "p0"?! !"1":!{};a6S=this.highlighted == "p1"?! !"1":! !"";X6S=this.highlighted == "p2"?! ![]:![];this.littleCircle(e6S,Z6S,J6S,q6S);this.littleCircle(e6S,N6S,W6S,a6S);this.littleCircle(e6S,N6S,Q6S,X6S);}};w4S.Drawing.channel.prototype.reposition=function(R6S,C6S,t6S,A6S){var F8V,O8V,G6S,T6S,K6S;F8V="dr";F8V+="a";F8V+="g";O8V="m";O8V+="ove";if(!C6S){return;}G6S=this.stx.panels[this.panelName];T6S=C6S.tick - t6S;K6S=C6S.value - A6S;if(C6S.action == O8V){c0x.H7G(41);this.setPoint(c0x.c7G("0",0),C6S.p0[0] - T6S,C6S.p0[1] - K6S,G6S.chart);this.setPoint(1,C6S.p1[0] - T6S,C6S.p1[1] - K6S,G6S.chart);this.setPoint(2,C6S.p2[0] - T6S,C6S.p2[1] - K6S,G6S.chart);this.render(R6S);}else if(C6S.action == F8V){this[C6S.point]=[t6S,A6S];this.setPoint(0,this.p0[+"0"],this.p0[1],G6S.chart);this.setPoint(1,this.p1["0" >> 671719008],this.p1[1],G6S.chart);this.setPoint(2,this.p2[0],this.p2[1],G6S.chart);this.render(R6S);}};w4S.Drawing.channel.prototype.adjust=function(){var B6S;B6S=this.stx.panels[this.panelName];if(!B6S){return;}this.setPoint(0,this.d0,this.v0,B6S.chart);c0x.Q6o();this.setPoint(1,this.d1,this.v1,B6S.chart);this.setPoint(2,this.d1,this.v2,B6S.chart);;};w4S.Drawing.channel.prototype.reconstruct=function(M6S,p6S){this.stx=M6S;this.color=p6S.col;this.fillColor=p6S.fc;this.panelName=p6S.pnl;this.pattern=p6S.ptrn;this.lineWidth=p6S.lw;c0x.P6o();this.d0=p6S.d0;this.d1=p6S.d1;this.tzo0=p6S.tzo0;this.tzo1=p6S.tzo1;this.v0=p6S.v0;this.v1=p6S.v1;this.v2=p6S.v2;this.adjust();};w4S.Drawing.channel.prototype.serialize=function(){c0x.P6o();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};w4S.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!"1";this.p2=null;};w4S.inheritsFrom(w4S.Drawing.pitchfork,w4S.Drawing.channel);w4S.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];w4S.Drawing.pitchfork.prototype.move=function(V6S,F6S,k6S){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[F6S,k6S];}else {this.p2=[F6S,k6S];}this.render(V6S);};w4S.Drawing.pitchfork.prototype.intersected=function(u6S,U6S,L7S){var r6S,p8V,z6S,y8V;if(!this.p0 || !this.p1 || !this.p2){return null;}r6S={0:this.p0,1:this.p1,2:this.p2};for(var y6S in r6S){if(this.pointIntersection(r6S[y6S][0],r6S[y6S][1],L7S)){p8V="dr";p8V+="ag";c0x.H7G(3);this.highlighted=c0x.c7G(y6S,"p");return {action:p8V,point:((1590,"145" << 1112451744) < 128.28?!{}:"p") + y6S};}}z6S=this.rays;for(var s6S=0;s6S < z6S.length;s6S++){y8V="segme";y8V+="n";y8V+="t";if(this.lineIntersection(u6S,U6S,L7S,s6S?"ray":y8V,z6S[s6S][0],z6S[s6S][1],! !{})){this.highlighted=! ![];return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),p2:w4S.clone(this.p2),tick:u6S,value:U6S};}}return null;};w4S.Drawing.pitchfork.prototype.render=function(w7S){var c7S,P7S,H7S,j7S,d7S,l7S,h7S,D7S,i7S,Y7S,N5V,u5V,j5V,I7S,S7S,m7S,v7S,b7S,E8V,x7S,e7S,s8V,E7S,N7S,Q7S;c7S=this.stx.panels[this.panelName];if(!c7S){return;}P7S=this.stx;H7S=this.p2;if(!H7S){H7S=this.p1;}j7S=P7S.pixelFromTick(this.p0[0],c7S.chart);d7S=P7S.pixelFromTick(this.p1[0],c7S.chart);l7S=P7S.pixelFromTick(H7S[+"0"],c7S.chart);h7S=P7S.pixelFromValueAdjusted(c7S,this.p0[0],this.p0[1]);D7S=P7S.pixelFromValueAdjusted(c7S,this.p1[+"0"],this.p1[+"1"]);i7S=P7S.pixelFromValueAdjusted(c7S,H7S[0],H7S[1]);Y7S=this.lineWidth;N5V=-381601638;u5V=- +"234446127";j5V=2;for(var L5V=1;c0x.l0V(L5V.toString(),L5V.toString().length,85559) !== N5V;L5V++){I7S=this.getLineColor();S7S={pattern:this.pattern,lineWidth:Y7S};m7S=50;c0x.n7G(42);v7S=c0x.c7G(i7S,2,D7S,h7S);c0x.H7G(43);b7S=c0x.C7G(j7S,"2",l7S,d7S);if(b7S < 0){m7S*=-1;}c0x.n7G(20);v7S*=c0x.c7G(b7S,m7S);j5V+=2;}if(c0x.g3V(j5V.toString(),j5V.toString().length,41197) !== u5V){I7S=this.getLineColor();S7S={pattern:this.pattern,lineWidth:Y7S};m7S=12;c0x.n7G(44);v7S=c0x.C7G(651421760,i7S,D7S,h7S,"4");c0x.n7G(45);b7S=c0x.c7G(d7S,l7S,j7S,3);if(b7S <= 3){m7S-=!2;}c0x.H7G(46);v7S-=c0x.C7G(m7S,b7S);}c0x.H7G(9);this.rays=[[[d7S,D7S],[l7S,i7S]],[[j7S,h7S],[c0x.C7G(l7S,d7S,2),c0x.c7G(i7S,D7S,2)]]];if(!(d7S == l7S && D7S == i7S)){c0x.n7G(6);this.rays.push([[d7S,D7S],[c0x.c7G(d7S,m7S),c0x.C7G(D7S,v7S)]],[[l7S,i7S],[c0x.C7G(l7S,m7S),c0x.C7G(i7S,v7S)]]);}for(var g7S=+"0";g7S < this.rays.length;g7S++){E8V="r";E8V+="ay";x7S=this.rays[g7S];e7S=g7S?E8V:"segment";P7S.plotLine(x7S["0" * 1][0],x7S[+"1"][0],x7S[0][1],x7S[1][1],I7S,e7S,w7S,c7S,S7S);}if(this.highlighted){s8V="p";s8V+="2";E7S=this.highlighted == "p0"?! ![]:! !"";N7S=this.highlighted == "p1"?! !"1":!"1";Q7S=this.highlighted == s8V?!"":!"1";this.littleCircle(w7S,j7S,h7S,E7S);this.littleCircle(w7S,d7S,D7S,N7S);this.littleCircle(w7S,l7S,i7S,Q7S);}};w4S.Drawing.pitchfork.prototype.adjust=function(){var Z7S;Z7S=this.stx.panels[this.panelName];if(!Z7S){return;}this.setPoint(0,this.d0,this.v0,Z7S.chart);this.setPoint(1,this.d1,this.v1,Z7S.chart);this.setPoint(2,this.d2,this.v2,Z7S.chart);};w4S.Drawing.pitchfork.prototype.reconstruct=function(W7S,J7S){this.stx=W7S;this.color=J7S.col;this.panelName=J7S.pnl;this.pattern=J7S.ptrn;this.lineWidth=J7S.lw;this.d0=J7S.d0;this.d1=J7S.d1;c0x.Q6o();this.d2=J7S.d2;this.tzo0=J7S.tzo0;this.tzo1=J7S.tzo1;this.tzo2=J7S.tzo2;this.v0=J7S.v0;this.v1=J7S.v1;this.v2=J7S.v2;this.adjust();};w4S.Drawing.pitchfork.prototype.serialize=function(){c0x.P6o();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};w4S.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=! !"";this.maxSegments=4;this.shape=null;c0x.P6o();this.points=[];};w4S.inheritsFrom(w4S.Drawing.gartley,w4S.Drawing.continuous);w4S.Drawing.gartley.prototype.check=function(f7S,o7S){var i6V,r6V,c6V;if(!o7S){return !0;}c0x.P6o();if(f7S[0] >= o7S[0] || f7S[1] == o7S[1]){return !{};}if(this.segment == 1){if(f7S[1] < o7S[1]){this.shape=(9650,189) !== (6280,+"6510")?"M":(2460,6991) === (591.84,+"7790")?(527.45,42.95):(59.76,0x121f);}else {this.shape="W";}}else if(this.segment == 2){i6V=1380138841;r6V=+"1772485266";c6V=2;for(var V6V=1;c0x.g3V(V6V.toString(),V6V.toString().length,29801) !== i6V;V6V++){if(this.shape != "W" || f7S[2] <= o7S[8]){return ! ![];}else if(this.shape === (("114" | 50) >= 3250?"W":"W") || f7S[8] >= o7S[2]){return !0;}else if(o7S[0] / f7S[0] + this.points[5][9] * f7S[9] > 61632){return ! !"1";}else if(o7S[9] / f7S[0] * (this.points["8" * 1][0] + f7S[3]) < 40386){return ! ![];}c6V+=2;}if(c0x.l0V(c6V.toString(),c6V.toString().length,52290) !== r6V){if(this.shape == "M" && f7S[1] < o7S[1]){return !1;}else if(this.shape == (693 < +"7876"?"W":"n") && f7S[1] > o7S[1]){return ![];}else if((o7S[1] - f7S[1]) / (this.points[0][1] - f7S[1]) < 0.618){return ![];}else if((o7S[1] - f7S["1" ^ 0]) / (this.points[0]["1" ^ 0] - f7S[1]) >= "0.786" - 0){return ![];}}}else if(this.segment == 3){if(this.shape == "M" && f7S[1] > o7S[1]){return !1;}else if(this.shape == "W" && f7S[+"1"] < o7S[1]){return ! !"";}else if((o7S[1] - f7S[+"1"]) / (this.points[+"1"][1] - f7S["1" | 0]) < "0.618" * 1){return !1;}else if((o7S[1] - f7S[1]) / (this.points[1]["1" | 0] - f7S[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == (2532 !== ("574" ^ 0)?"M":(!{},"K")) && (f7S[1] < o7S[1] || o7S[1] < this.points[0][1])){return ![];}else if(this.shape == ((3675,+"101.15") >= 6010?"c":(2430,+"64.16") > (2480,3100)?! !{}:"W") && (f7S[1] > o7S[+"1"] || o7S["1" - 0] > this.points[0][1])){return !{};}else if((this.points[1][1] - o7S[1]) / (this.points[1][1] - this.points["2" * 1][1]) < +"1.27"){return !"1";}else if((this.points[1][+"1"] - o7S[1]) / (this.points["1" - 0][1] - this.points[+"2"][1]) >= "1.618" - 0){return ! !"";}}return ! !1;};w4S.Drawing.gartley.prototype.click=function(a7S,O7S,q7S){var n7S;c0x.P6o();n7S=this.stx.panels[this.panelName];if(!n7S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O7S,q7S,n7S.chart);this.pts=[];this.penDown=! ![];c0x.n7G(47);this.segment=c0x.c7G(2147483647,"1");return ![];}if(this.accidentalClick(O7S,q7S)){this.penDown=! ![];return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(+"1",O7S,q7S,n7S.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],n7S.chart);this.penDown=!{};return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,O7S,q7S,n7S.chart);;}return ![];};w4S.Drawing.gartley.prototype.render=function(C7S){var X7S,y7S,B7S,r7S,p7S,R1V,N1V,u1V,K7S,z7S,M7S,A7S,t7S,T7S,F7S,k7S,V7S,s7S,l3V,g5V,J5V;X7S=this.stx.panels[this.panelName];if(!X7S){return;}y7S=this.stx.pixelFromTick(this.p0[0],X7S.chart);B7S=this.stx.pixelFromTick(this.p1["0" << 1809438144],X7S.chart);r7S=this.stx.pixelFromValueAdjusted(X7S,this.p0[0],this.p0[1]);p7S=this.stx.pixelFromValueAdjusted(X7S,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(C7S,0.618 * this.points[+"0"][1] + 0.382 * this.p0[1],("0.786" - 0) * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){R1V=-410297336;N1V=-787486553;u1V=2;for(var k1V=1;c0x.g3V(k1V.toString(),k1V.toString().length,40767) !== R1V;k1V++){this.drawDropZone(C7S,76280 / this.points[+"2"][2] / (63937 + this.p0[6]),25018 + this.points[2][0] - 77412 % this.p0[9],this.p0[1]);u1V+=2;}if(c0x.l0V(u1V.toString(),u1V.toString().length,23261) !== N1V){this.drawDropZone(C7S,76280 / this.points[2][2] / (63937 + this.p0[6]),25018 + this.points["2" ^ 0][0] - 77412 % this.p0[9],this.p0["1" & 2147483647]);}this.drawDropZone(C7S,"0.618" * 1 * this.points[1][1] + 0.382 * this.p0[1],("0.786" - 0) * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){c0x.H7G(6);var I0G=c0x.C7G(34,32);c0x.H7G(48);var Y0G=c0x.C7G(10,0,10);c0x.H7G(49);var b0G=c0x.C7G(19,0,16,16,12);K7S=1.618 * this.points[I0G][Y0G] - +"0.618" * this.points[+"1"][b0G];if(this.shape == "M"){K7S=Math.max(K7S,this.points[0]["1" - 0]);}else {K7S=Math.min(K7S,this.points[0][1]);}this.drawDropZone(C7S,K7S,1.27 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}z7S=this.lineWidth;M7S=this.getLineColor();A7S={pattern:this.pattern,lineWidth:z7S};if((this.penDown || this.highlighted) && this.pattern == "none"){A7S.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(y7S,B7S,r7S,p7S,M7S,this.name,C7S,X7S,A7S);}t7S=this.fillColor;T7S=[];if(this.points.length){C7S.beginPath();for(var G7S="1" ^ 0;G7S < this.points.length && G7S <= 4;G7S++){F7S=this.stx.pixelFromTick(this.points[G7S - ("1" | 1)][0],X7S.chart);k7S=this.stx.pixelFromTick(this.points[G7S][+"0"],X7S.chart);V7S=this.stx.pixelFromValueAdjusted(X7S,this.points[G7S - 1][+"0"],this.points[G7S - 1][1]);s7S=this.stx.pixelFromValueAdjusted(X7S,this.points[G7S][0],this.points[G7S][1]);if(G7S == 1){T7S.push(F7S,V7S);}T7S.push(k7S,s7S);this.stx.plotLine(F7S,k7S,V7S,s7S,M7S,this.name,C7S,X7S,A7S);}if(this.points.length == 2 || this.points.length == "4" * 1){T7S.push(B7S,p7S);}if(this.points[2]){T7S.push(this.stx.pixelFromTick(this.points[+"2"]["0" * 1],X7S.chart),this.stx.pixelFromValueAdjusted(X7S,this.points[2][0],this.points[2][1]));}if(t7S && t7S != "auto" && !w4S.isTransparent(t7S)){for(var R7S="0" << 1723922400;R7S < T7S.length;R7S+=2){if(R7S === 0){C7S.moveTo(T7S[+"0"],T7S[+"1"]);}C7S.lineTo(T7S[R7S],T7S[R7S + 1]);}C7S.fillStyle=t7S;C7S.globalAlpha=0.2;C7S.closePath();C7S.fill();C7S.globalAlpha=1;}}l3V=1033783764;g5V=-1849761778;J5V=2;for(var d5V="1" & 2147483647;c0x.g3V(d5V.toString(),d5V.toString().length,76450) !== l3V;d5V++){;J5V+=2;}if(c0x.l0V(J5V.toString(),J5V.toString().length,38256) !== g5V){;};};w4S.Drawing.gartley.prototype.lineIntersection=function(c1S,P1S,d1S,l1S){var u7S,L1S,Q8V;u7S=this.points;c0x.Q6o();L1S=this.stx.panels[this.panelName];if(u7S.length != this.maxSegments + 1 || !L1S){return !{};}for(var U7S=0;U7S < u7S.length - 1;U7S++){Q8V="s";Q8V+="egment";if(w4S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,c1S,P1S,d1S,Q8V,u7S[U7S],u7S[U7S + 1])){return ! !"1";}}return ![];};w4S.Drawing.gartley.prototype.boxIntersection=function(g1S,x1S,i1S){var H1S,m1S;if(!this.p0 || !this.p1){return ![];}if(i1S.x0 > Math.max(this.p0[0],this.p1[0]) || i1S.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}H1S=Math.min(this.p0[1],this.p1[1]);m1S=Math.max(this.p0[1],this.p1[1]);for(var D1S=0;D1S < this.points.length;D1S++){H1S=Math.min(H1S,this.points[D1S][1]);m1S=Math.max(m1S,this.points[D1S][1]);}if(i1S.y1 > m1S || i1S.y0 < H1S){return ![];}return !"";};w4S.Drawing.gartley.prototype.reposition=function(S1S,j1S,v1S,b1S){var I8V,h1S,Y1S,I1S;I8V="m";I8V+="ov";I8V+="e";if(!j1S){return;}h1S=this.stx.panels[this.panelName];Y1S=j1S.tick - v1S;j1S.tick=v1S;c0x.Q6o();I1S=j1S.value - b1S;j1S.value=b1S;if(j1S.action == I8V){this.pts=[];for(var w1S=+"0";w1S < this.points.length;w1S++){this.points[w1S][0]-=Y1S;this.points[w1S][+"1"]-=I1S;this.setPoint(1,this.points[w1S][0],this.points[w1S][+"1"],h1S.chart);if(w1S && w1S < this.points.length - +"1"){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[w1S]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],h1S.chart);this.render(S1S);;}};w4S.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",Y8V];w4S.Drawing.gartley.prototype.adjust=function(){var e1S;e1S=this.stx.panels[this.panelName];if(!e1S){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,e1S.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,e1S.chart);this.points.push(this.p1);};w4S.Drawing.gartley.prototype.reconstructPoints=function(){var Q1S,N1S;c0x.P6o();Q1S=this.stx.panels[this.panelName];if(!Q1S){return;}this.points=[];for(var E1S=0;E1S < this.pts.length;E1S+=3){N1S=w4S.strToDateTime(this.pts[E1S]);N1S.setMinutes(N1S.getMinutes() + Number(this.pts[E1S + 1]) - N1S.getTimezoneOffset());this.points.push([this.stx.tickFromDate(w4S.yyyymmddhhmmssmmm(N1S),Q1S.chart),this.pts[E1S + +"2"]]);}};w4S.Drawing.gartley.prototype.reconstruct=function(J1S,Z1S){this.stx=J1S;this.color=Z1S.col;this.fillColor=Z1S.fc;this.panelName=Z1S.pnl;this.pattern=Z1S.ptrn;this.lineWidth=Z1S.lw;this.d0=Z1S.d0;this.d1=Z1S.d1;this.tzo0=Z1S.tzo0;this.tzo1=Z1S.tzo1;this.v0=Z1S.v0;this.v1=Z1S.v1;this.pts=Z1S.pts.split((2935,8070) <= (395.59,"2933" - 0)?0x20e2:63.44 < (407.44,3220)?",":(8480,9820) <= +"8910"?"0x1ce1" >> 1853463936:(! !{},0x14f));this.adjust();};w4S.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};w4S.Drawing.freeform=function(){this.name="freeform";c0x.H7G(25);this.splineTension=c0x.C7G(1,"0.3");c0x.P6o();this.dragToDraw=! !1;};w4S.inheritsFrom(w4S.Drawing.freeform,w4S.Drawing.segment);w4S.Drawing.freeform.prototype.measure=function(){};w4S.Drawing.freeform.prototype.intersected=function(o1S,f1S,W1S){var b8V;b8V="m";b8V+="ove";if(W1S.x0 > this.hiX || W1S.x1 < this.lowX){return null;}if(W1S.y1 > this.hiY || W1S.y0 < this.lowY){return null;}this.highlighted=! !1;return {action:b8V,p0:w4S.clone(this.p0),tick:o1S,value:f1S};};w4S.Drawing.freeform.prototype.reposition=function(X1S,n1S,C1S,G1S){var z8V,O1S,q1S,a1S;z8V="m";z8V+="o";z8V+="v";z8V+="e";if(!n1S){return;}O1S=this.stx.panels[this.panelName];q1S=n1S.tick - C1S;a1S=n1S.value - G1S;if(n1S.action == z8V){this.setPoint(0,n1S.p0[0] - q1S,n1S.p0[1] - a1S,O1S.chart);this.adjust();this.render(X1S);}};w4S.Drawing.freeform.prototype.click=function(A1S,K1S,t1S){var T1S,e8V,R1S;T1S=this.stx.panels[this.panelName];if(!T1S){return;}if(this.penDown === ![]){e8V="p";e8V+="ointer";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(K1S,T1S.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(T1S,K1S,t1S)));R1S=this.stx.dateFromTick(K1S,T1S.chart,! !{});this.d0=w4S.yyyymmddhhmmssmmm(R1S);this.tzo0=R1S.getTimezoneOffset();this.v0=t1S;this.p0=[w4S.ChartEngine.crosshairX - this.startX,w4S.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=T1S.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor=e8V;this.penDown=! !1;return !{};}c0x.Q6o();this.penDown=! !0;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !0;};w4S.Drawing.freeform.prototype.move=function(M1S,F1S,k1S){var B1S,p1S;if(!this.penDown){return;}B1S=this.stx.panels[this.panelName];p1S=this.stx.dateFromTick(F1S,B1S.chart,! ![]);this.d1=w4S.yyyymmddhhmmssmmm(p1S);this.tzo1=p1S.getTimezoneOffset();this.v1=k1S;this.p1=[w4S.ChartEngine.crosshairX - this.startX,B1S.yAxis.flipped?this.startY - w4S.ChartEngine.crosshairY:w4S.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > "2" - 0){if(this.p1[0] == this.pNodes[this.pNodes.length - 2]["0" >> 150220768] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1["1" ^ 0] == this.pNodes[this.pNodes.length - 1][+"1"]){this.pNodes.length--;c0x.n7G(41);this.nodes.length-=c0x.c7G("2",0);}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(M1S);return ![];};w4S.Drawing.freeform.prototype.intervalRatio=function(z1S,V1S,P2S,d2S,y1S,r1S){c0x.P6o();var s1S,Z8V,h8V,P8V;function u1S(w2S,x2S){if(w4S.Market.Symbology.isForexSymbol(x2S)){return 1440;}return 390;}s1S=0;if(z1S == V1S){s1S=1;}else if(!isNaN(z1S) && !isNaN(V1S)){c0x.n7G(20);s1S=c0x.C7G(V1S,z1S);}else if(isNaN(z1S)){if(z1S == "month"){Z8V="d";Z8V+="a";Z8V+="y";h8V="we";h8V+="e";h8V+="k";if(V1S == h8V){s1S=c2S(y1S,r1S);}else if(V1S == Z8V){s1S=L2S(y1S,r1S);}else if(!isNaN(V1S)){s1S=L2S(y1S,r1S) * u1S(y1S,r1S) / V1S;}}else if(z1S == "week"){if(V1S == "month"){c0x.n7G(3);var z0G=c0x.C7G(1,0);s1S=z0G / c2S(y1S,r1S);}if(V1S == "day"){s1S=U1S(y1S,r1S);}else if(!isNaN(V1S)){s1S=U1S(y1S,r1S) * u1S(y1S,r1S) / V1S;}}else if(z1S == "day"){if(V1S == "week"){c0x.n7G(15);var e0G=c0x.c7G(8,9);s1S=e0G / U1S(y1S,r1S);}else if(V1S == "month"){c0x.H7G(8);var h0G=c0x.c7G(872437980,20,79312569,14);s1S=("1" >> h0G) / L2S(y1S,r1S);}else if(!isNaN(V1S)){s1S=u1S(y1S,r1S) / V1S;}}}else if(!isNaN(z1S)){P8V="d";P8V+="ay";if(V1S == "month"){s1S=z1S / (L2S(y1S,r1S) * u1S(y1S,r1S));}else if(V1S == "week"){s1S=z1S / (U1S(y1S,r1S) * u1S(y1S,r1S));}else if(V1S == P8V){s1S=z1S / u1S(y1S,r1S);}}c0x.n7G(20);s1S*=c0x.c7G(d2S,P2S);function c2S(l2S,D2S){return 5;}function L2S(m2S,g2S){c0x.n7G(41);c0x.Q6o();return c0x.C7G("30",0);}function U1S(i2S,H2S){c0x.Q6o();c0x.n7G(41);return c0x.C7G("5",0);}return s1S;};w4S.Drawing.freeform.prototype.render=function(E2S){var j2S,Y2S,N2S,Q2S,Z2S,I2S,h2S,J2S,S2S,e2S,W2S,b2S;j2S=this.stx.panels[this.panelName];if(!j2S){return;}Y2S=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,j2S.chart.symbol);if(Y2S === 0){return;}N2S=this.stx.layout.candleWidth / this.candleWidth;Q2S=j2S.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,j2S.chart);Z2S=this.stx.pixelFromTick(this.p0[0],j2S.chart);I2S=this.stx.pixelFromValueAdjusted(j2S,this.p0[0],this.p0[1]);h2S=[];J2S=this.lineWidth;S2S=this.getLineColor();e2S={pattern:this.pattern,lineWidth:J2S};for(var v2S=+"0";v2S < this.pNodes.length;v2S++){W2S=Y2S * N2S * this.pNodes[v2S][+"0"] + Z2S;c0x.n7G(6);var Z0G=c0x.c7G(13,12);b2S=Q2S * this.pNodes[v2S][Z0G];if(j2S.yAxis.flipped){c0x.H7G(6);b2S=c0x.c7G(I2S,b2S);}else {b2S+=I2S;}h2S.push(W2S,b2S);}if(!h2S.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(h2S,S2S,this.name,E2S,j2S,e2S);}else {this.stx.plotSpline(h2S,this.splineTension,S2S,this.name,E2S,! ![],e2S);}};w4S.Drawing.freeform.prototype.adjust=function(){var o2S,G2S,f2S,a2S,X2S,O2S,C2S,q2S;o2S=this.stx.panels[this.panelName];if(!o2S){return;}c0x.n7G(6);G2S=[this.nodes[0],this.nodes[c0x.C7G("1",0)]];this.pNodes=[G2S];this.lowX=this.nodes[0];this.hiX=this.nodes[+"0"];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var n2S=+"2";n2S < this.nodes.length;n2S+=2){c0x.H7G(3);f2S=[this.nodes[n2S],this.nodes[c0x.c7G(1,n2S)]];this.pNodes.push(f2S);this.lowX=Math.min(this.lowX,f2S[0]);this.hiX=Math.max(this.hiX,f2S[0]);this.lowY=Math.max(this.lowY,f2S[1]);this.hiY=Math.min(this.hiY,f2S[1]);}a2S=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,o2S.chart.symbol);if(a2S === 0){return;}X2S=this.stx.layout.candleWidth / this.candleWidth;O2S=o2S.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,o2S.chart);C2S=this.stx.pixelFromTick(this.p0[0],o2S.chart);q2S=this.stx.pixelFromValueAdjusted(o2S,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(a2S * X2S * this.lowX) + C2S,o2S.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(a2S * X2S * this.hiX) + C2S,o2S.chart);if(o2S.yAxis.flipped){this.lowY=this.stx.valueFromPixel(q2S - Math.floor(O2S * this.lowY),o2S);this.hiY=this.stx.valueFromPixel(q2S - Math.ceil(O2S * this.hiY),o2S);}else {this.lowY=this.stx.valueFromPixel(Math.floor(O2S * this.lowY) + q2S,o2S);this.hiY=this.stx.valueFromPixel(Math.ceil(O2S * this.hiY) + q2S,o2S);}};w4S.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(+"4")),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};w4S.Drawing.freeform.prototype.reconstruct=function(K2S,T2S){this.stx=K2S;this.color=T2S.col;this.panelName=T2S.pnl;this.pattern=T2S.ptrn;this.lineWidth=T2S.lw;this.candleWidth=T2S.cw;this.multiplier=T2S.mlt;this.d0=T2S.d0;this.tzo0=T2S.tzo0;this.v0=T2S.v0;this.interval=T2S.inter;this.periodicity=T2S.pd;this.nodes=T2S.nodes;this.adjust();};w4S.Drawing.callout=function(){var o8V;o8V="c";o8V+="a";o8V+="llo";o8V+="ut";this.name=o8V;this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};w4S.inheritsFrom(w4S.Drawing.callout,w4S.Drawing.annotation);w4S.Drawing.callout.prototype.configs=[R8V,"fillColor","lineWidth","pattern",N8V];w4S.Drawing.callout.prototype.copyConfig=function(R2S){w4S.Drawing.copyConfig(this,R2S);this.borderColor=this.color;};w4S.Drawing.callout.prototype.move=function(t2S,A2S,B2S){if(!this.penDown){return;}this.copyConfig();this.p0=[A2S,B2S];this.render(t2S);};w4S.Drawing.callout.prototype.onChange=function(k2S){var F2S,M2S,p2S;F2S=this.stx.panels[this.panelName];if(!F2S){return;}M2S=k2S.target;this.w=M2S.clientWidth;this.h=M2S.clientHeight;p2S=this.context || this.stx.chart.tempCanvas.context;w4S.clearCanvas(p2S.canvas,this.stx);this.render(p2S);this.edit(p2S);};w4S.Drawing.callout.prototype.render=function(V2S){var S8V,j8V,u8V,d5S,x5S,g5S,y2S,s2S,z2S,r2S,l5S,D5S,P5S,U2S,i5S,L5S,H5S,u2S,c5S,a6V,D6V,B6V,k8V,L8V,u4V,j4V,k4V,H8V,w5S;S8V="alpha";S8V+="bet";S8V+="ic";j8V="a";j8V+="ut";j8V+="o";u8V="t";u8V+="o";u8V+="p";this.context=V2S;d5S=this.stx.panels[this.panelName];if(!d5S){return;}x5S=this.stx.pixelFromTick(this.p0[0],d5S.chart);g5S=this.stx.pixelFromValueAdjusted(d5S,this.p0[+"0"],this.p0[1]);if(isNaN(g5S)){return;}V2S.font=this.fontString;V2S.textBaseline=u8V;y2S=x5S;s2S=g5S;c0x.n7G(50);var P0G=c0x.C7G(18,2,18,11,92);z2S=this.w / P0G;c0x.n7G(6);var o0G=c0x.C7G(6,4);r2S=this.h / o0G;if(this.penDown){z2S=this.defaultWidth;r2S=this.defaultHeight;if(!r2S){r2S=this.fontSize;}}l5S=this.lineWidth;if(!l5S){l5S=1.1;}D5S=this.color;if(D5S == "auto" || w4S.isTransparent(D5S)){D5S=this.stx.defaultColor;}P5S=this.borderColor;if(P5S == j8V || w4S.isTransparent(P5S)){P5S=this.stx.defaultColor;}if(this.highlighted){P5S=this.stx.getCanvasColor("stx_highlight_vector");}u2S=Math.min(Math.min(z2S,r2S) / 2,"8" | 0);if(this.stem){if(this.stem.t){U2S=this.stx.pixelFromTick(this.stem.t);L5S=this.stx.pixelFromValueAdjusted(d5S,this.stem.t,this.stem.v);}else if(this.stem.x){U2S=y2S;L5S=s2S;y2S+=this.stem.x;s2S+=this.stem.y;}c5S="";if(U2S >= y2S + z2S){c0x.H7G(3);i5S=c0x.C7G(z2S,y2S);c5S=493 != "806" >> 322978208?("8169" << 921029824,+"46.85") > (882.14,4966)?(7.28e+3,+"0x140d"):"r":(830.29,7.70e+3);}else if(U2S > y2S - z2S && U2S < y2S + z2S){i5S=y2S;c5S=6048 !== ("694.41" - 0,609.74)?(5460,414.04) >= (+"7333",9460)?(!"1",!"1"):"c":0x1285;}else if(U2S <= y2S - z2S){c0x.H7G(6);i5S=c0x.C7G(y2S,z2S);c5S=7334 >= +"4990"?4200 != "7560" - 0?"l":(6700,297) === (55.91,6280)?(4.62e+3,0x25fc):513.61:(413.13,! !"");}if(L5S >= s2S + r2S){c0x.n7G(3);H5S=c0x.c7G(r2S,s2S);a6V=1312048592;D6V=-226144471;B6V=+"2";for(var X6V=1;c0x.g3V(X6V.toString(),X6V.toString().length,+"46634") !== a6V;X6V++){c5S+=+"4350" !== (231.9,+"1965")?8424 !== 4340?"b":0x9e9:("p","g");B6V+=2;}if(c0x.l0V(B6V.toString(),B6V.toString().length,63798) !== D6V){c5S*=4616 != (63348,3717)?5605 != +"1253"?"b":0xf86:("b","b");}}else if(L5S > s2S - r2S && L5S < s2S + r2S){H5S=s2S;c5S+=511.06 != (3500,1213)?"m":! !1;}else if(L5S <= s2S - r2S){c0x.n7G(6);H5S=c0x.c7G(s2S,r2S);c5S+="t";}this.stemEntry=c5S;if(c5S != "cm"){U2S=Math.round(U2S);i5S=Math.round(i5S);L5S=Math.round(L5S);H5S=Math.round(H5S);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",V2S);}else {if(this.fillColor){V2S.fillStyle=this.fillColor;V2S.globalAlpha=0.4;}else if(this.stem){V2S.fillStyle=this.stx.containerColor;}}V2S.strokeStyle=P5S;c0x.Q6o();if(V2S.setLineDash){V2S.setLineDash(w4S.borderPatternToArray(l5S,this.pattern));V2S.lineDashOffset=0;;}if(P5S){k8V="l";k8V+="m";V2S.beginPath();V2S.lineWidth=l5S;c0x.H7G(10);V2S.moveTo(c0x.C7G(y2S,z2S,u2S),c0x.C7G(s2S,r2S,c0x.H7G(6)));if(this.stemEntry != "rt"){c0x.n7G(3);V2S.quadraticCurveTo(c0x.c7G(z2S,y2S),c0x.c7G(s2S,r2S,c0x.H7G(6)),c0x.c7G(z2S,y2S,c0x.n7G(3)),c0x.C7G(u2S,s2S,r2S,c0x.n7G(5)));;}else {V2S.lineTo(U2S,L5S);c0x.H7G(3);V2S.lineTo(c0x.C7G(z2S,y2S),c0x.C7G(u2S,s2S,r2S,c0x.n7G(5)));}c0x.H7G(3);V2S.lineTo(c0x.C7G(z2S,y2S),c0x.c7G(2,s2S,u2S,c0x.H7G(51)));if(this.stemEntry == "rm"){V2S.lineTo(U2S,L5S);}c0x.n7G(3);V2S.lineTo(c0x.C7G(z2S,y2S),c0x.C7G(u2S,"2",s2S,c0x.n7G(52)));c0x.H7G(3);V2S.lineTo(c0x.C7G(z2S,y2S),c0x.c7G(s2S,r2S,u2S,c0x.H7G(10)));if(this.stemEntry != "rb"){c0x.H7G(3);V2S.quadraticCurveTo(c0x.C7G(z2S,y2S),c0x.C7G(r2S,s2S,c0x.n7G(3)),c0x.C7G(y2S,z2S,u2S,c0x.H7G(10)),c0x.C7G(r2S,s2S,c0x.n7G(3)));;}else {V2S.lineTo(U2S,L5S);c0x.n7G(10);V2S.lineTo(c0x.c7G(y2S,z2S,u2S),c0x.c7G(r2S,s2S,c0x.H7G(3)));}c0x.n7G(53);V2S.lineTo(c0x.c7G(y2S,u2S,2),c0x.C7G(r2S,s2S,c0x.n7G(3)));if(this.stemEntry == "cb"){V2S.lineTo(U2S,L5S);}c0x.H7G(54);V2S.lineTo(c0x.c7G(y2S,u2S,"2"),c0x.c7G(r2S,s2S,c0x.H7G(3)));c0x.H7G(5);V2S.lineTo(c0x.C7G(u2S,y2S,z2S),c0x.C7G(r2S,s2S,c0x.n7G(3)));if(this.stemEntry != "lb"){c0x.H7G(6);V2S.quadraticCurveTo(c0x.c7G(y2S,z2S),c0x.c7G(r2S,s2S,c0x.H7G(3)),c0x.C7G(y2S,z2S,c0x.n7G(6)),c0x.C7G(s2S,r2S,u2S,c0x.H7G(10)));;}else {V2S.lineTo(U2S,L5S);c0x.H7G(6);V2S.lineTo(c0x.C7G(y2S,z2S),c0x.C7G(s2S,r2S,u2S,c0x.n7G(10)));}c0x.n7G(6);V2S.lineTo(c0x.c7G(y2S,z2S),c0x.C7G(s2S,u2S,2,c0x.H7G(53)));if(this.stemEntry == k8V){V2S.lineTo(U2S,L5S);}c0x.n7G(6);V2S.lineTo(c0x.c7G(y2S,z2S),c0x.c7G(2,s2S,u2S,c0x.H7G(51)));c0x.n7G(6);V2S.lineTo(c0x.c7G(y2S,z2S),c0x.C7G(u2S,s2S,r2S,c0x.H7G(5)));if(this.stemEntry != "lt"){c0x.H7G(6);V2S.quadraticCurveTo(c0x.C7G(y2S,z2S),c0x.C7G(s2S,r2S,c0x.n7G(6)),c0x.c7G(u2S,y2S,z2S,c0x.H7G(5)),c0x.c7G(s2S,r2S,c0x.H7G(6)));;}else {V2S.lineTo(U2S,L5S);c0x.n7G(5);V2S.lineTo(c0x.C7G(u2S,y2S,z2S),c0x.c7G(s2S,r2S,c0x.n7G(6)));}c0x.n7G(51);V2S.lineTo(c0x.C7G(2,y2S,u2S),c0x.C7G(s2S,r2S,c0x.H7G(6)));if(this.stemEntry == "ct"){V2S.lineTo(U2S,L5S);}c0x.H7G(53);V2S.lineTo(c0x.c7G(y2S,u2S,2),c0x.C7G(s2S,r2S,c0x.H7G(6)));c0x.H7G(10);V2S.lineTo(c0x.C7G(y2S,z2S,u2S),c0x.c7G(s2S,r2S,c0x.H7G(6)));V2S.fill();V2S.globalAlpha=1;if(this.pattern != "none"){V2S.stroke();}}if(this.highlighted){L8V="stx_annotat";L8V+="ion_high";L8V+="li";L8V+="ght";this.stx.canvasColor(L8V,V2S);}else {u4V=-1425002837;j4V=-723868050;k4V=2;for(var S4V=1;c0x.l0V(S4V.toString(),S4V.toString().length,25535) !== u4V;S4V++){V2S.fillStyle=D5S;c0x.H7G(0);k4V+=c0x.c7G("2",1832624672);}if(c0x.l0V(k4V.toString(),k4V.toString().length,"89127" ^ 0) !== j4V){V2S.fillStyle=D5S;}}s2S+=this.padding;if(!this.ta){for(var m5S=0;m5S < this.arr.length;m5S++){V2S.fillText(this.arr[m5S],y2S - z2S + this.padding,s2S - r2S);s2S+=this.fontSize;}}V2S.textBaseline=S8V;if(this.highlighted && !this.noHandles){H8V="p";H8V+="0";w5S=this.highlighted == H8V?! ![]:!{};this.littleCircle(V2S,U2S,L5S,w5S);};};w4S.Drawing.callout.prototype.click=function(h5S,v5S,b5S){var j5S;if(this.stx.overXAxis || this.stx.overYAxis){return;}j5S=this.stx.panels[this.panelName];this.copyConfig();c0x.H7G(41);this.setPoint(c0x.c7G("0",0),v5S,b5S,j5S.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !1;this.adjust();return ![];}this.adjust();this.edit(h5S);this.penDown=! !"";return !"1";};w4S.Drawing.callout.prototype.reposition=function(Q5S,Y5S,E5S,N5S){var I5S,S5S,e5S;if(!Y5S){return;}I5S=this.stx.panels[this.panelName];S5S=Y5S.tick - E5S;e5S=Y5S.value - N5S;if(Y5S.stem){if(Y5S.action == "drag"){this.stem={d:this.stx.dateFromTick(E5S,I5S.chart,! !{}),v:N5S};}else if(Y5S.action == "move"){this.setPoint(0,Y5S.p0[0] - S5S,Y5S.p0[1] - e5S,I5S.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(Y5S.stem.d,I5S.chart) - S5S),v:Y5S.stem.v - e5S};}this.adjust();}else {this.setPoint(0,Y5S.p0[+"0"] - S5S,Y5S.p0[1] - e5S,I5S.chart);}this.render(Q5S);};w4S.Drawing.callout.prototype.lineIntersection=function(R5S,t5S,T5S,K5S){var K8V,O5S,Z5S,o5S,q5S,a5S,X5S,J5S,f5S,n5S,C5S,G5S,W5S;K8V="s";K8V+="tri";K8V+="ng";O5S=this.stx.panels[this.panelName];Z5S=this.stem;o5S=this.p0;q5S=this.stx;if(!o5S || !Z5S || !O5S){return !"1";}a5S=Z5S.t || this.stx.tickFromDate(Z5S.d,O5S.chart);X5S={x0:o5S[0],x1:a5S,y0:o5S[1],y1:Z5S.v};J5S=w4S.convertBoxToPixels(q5S,this.panelName,X5S);f5S=J5S.x0;n5S=J5S.y0;c0x.Q6o();C5S=J5S.x1;G5S=J5S.y1;if(typeof this.stemEntry == K8V){if(this.stemEntry.indexOf("l") > -1){c0x.H7G(15);var R0G=c0x.C7G(16,18);f5S-=this.w / R0G;}else if(this.stemEntry.indexOf(414.39 == (7510,9560)?846.59 < ("990" ^ 0)?(!{},740.60):! ![]:"r") > -1){c0x.n7G(55);var N0G=c0x.C7G(9,195,20,17,0);f5S+=this.w / N0G;}if(this.stemEntry.indexOf("t") > -1){c0x.H7G(10);var u0G=c0x.C7G(16,18,32);n5S-=this.h / u0G;}else if(this.stemEntry.indexOf("b") > -1){n5S+=this.h / +"2";}}W5S=w4S.convertBoxToPixels(q5S,this.panelName,T5S);return w4S.boxIntersects(W5S.x0,W5S.y0,W5S.x1,W5S.y1,f5S,n5S,C5S,G5S,K5S);};w4S.Drawing.callout.prototype.intersected=function(B5S,M5S,A5S){var p5S,i8V,F5S,k5S,V5S,s5S,y5S,r5S,z5S;p5S=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,A5S)){i8V="p";i8V+="0";this.highlighted=i8V;return {action:"drag",stem:!0};}c0x.H7G(10);var j0G=c0x.C7G(1383581515,8,19);c0x.n7G(24);var k0G=c0x.C7G(5,67,13);F5S=this.stx.pixelFromTick(this.p0["0" << j0G],p5S.chart) - this.w / k0G;c0x.H7G(10);var L0G=c0x.C7G(12,16,27);k5S=this.stx.pixelFromValueAdjusted(p5S,this.p0[+"0"],this.p0[L0G]) - this.h / ("2" ^ 0);V5S=F5S + this.w;s5S=k5S + this.h;if(this.stem && this.stem.x){F5S+=this.stem.x;V5S+=this.stem.x;k5S+=this.stem.y;s5S+=this.stem.y;}y5S=this.stx.pixelFromTick(B5S,p5S.chart);r5S=this.stx.pixelFromValueAdjusted(p5S,B5S,M5S);if(y5S + A5S.r >= F5S && y5S - A5S.r <= V5S && r5S + A5S.r >= k5S && r5S - A5S.r <= s5S){this.highlighted=!"";return {p0:w4S.clone(this.p0),tick:B5S,value:M5S};}z5S=this.lineIntersection(B5S,M5S,A5S,"segment");if(z5S){this.highlighted=!"";return {action:"move",stem:w4S.clone(this.stem),p0:w4S.clone(this.p0),tick:B5S,value:M5S};}return null;};w4S.Drawing.fibonacci=function(){this.name="fibonacci";c0x.Q6o();this.configurator="fibonacci";};w4S.inheritsFrom(w4S.Drawing.fibonacci,w4S.Drawing.BaseTwoPoint);w4S.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:(4239,+"1313") < (6211,6930)?"p":(0x2016,7.31e+3),pattern:"pt",opacity:"o",lineWidth:"lw",level:2250 <= (116.28,2030)?("0x24fb" | 9267,"T"):(4593,3289) !== (8084,845.98)?"l":2573 === 9030?(!"","z"):(6.63e+2,9.17e+3),extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:r8V,display:("787" ^ 0,+"492.22") >= (2850,4966)?506.40:(1860,3240) != 34.08?"d":(8.02e+3,! !"1")};c0x.H7G(6);w4S.Drawing.fibonacci.prototype.recommendedLevels=[- +"0.618",-0.382,0,c0x.c7G("0.382",0),c0x.C7G("0.5",0,c0x.H7G(6)),0.618,1,+"1.382",c0x.c7G(1,"1.618",c0x.n7G(25))];w4S.Drawing.fibonacci.prototype.configs=[c8V,"fillColor","lineWidth","pattern","parameters"];w4S.Drawing.fibonacci.prototype.initializeSettings=function(P81){var L81,U5S;c0x.P6o();L81=this.recommendedLevels;if(L81 && !P81.currentVectorParameters.fibonacci.fibsAlreadySet){U5S=P81.currentVectorParameters.fibonacci.fibs;for(var u5S=0;u5S < U5S.length;u5S++){delete U5S[u5S].display;for(var c81=+"0";c81 < L81.length;c81++){if(U5S[u5S].level == L81[c81]){U5S[u5S].display=! !{};}}}}};w4S.Drawing.fibonacci.prototype.setOuter=function(){var d81,l81,x81,w81,j81,h81,v81,Y81,I81,i81,H81,D81,g81,b81;d81=this.stx;l81=d81.panels[this.panelName];if(!l81){return;}x81=Math.max(this.p0[+"1"],this.p1[1]);w81=Math.min(this.p0[1],this.p1[1]);c0x.n7G(6);j81=c0x.C7G(x81,w81);this.outer={p0:w4S.clone(this.p0),p1:w4S.clone(this.p1)};h81=d81.pixelFromValueAdjusted(l81,this.p0[0],this.p0[1]);c0x.P6o();v81=d81.pixelFromValueAdjusted(l81,this.p1[+"0"],this.p1["1" << 82667744]);Y81=d81.pixelFromTick(this.p0[0],l81.chart);I81=d81.pixelFromTick(this.p1[0],l81.chart);i81=0;H81=1;for(var m81=0;m81 < this.parameters.fibs.length;m81++){D81=this.parameters.fibs[m81];if(D81.level >= i81 && D81.level <= H81 || !D81.display)continue;g81=d81.pixelFromValueAdjusted(l81,this.p0[0],v81 < h81?x81 - j81 * D81.level:w81 + j81 * D81.level);b81=w4S.xIntersection({x0:Y81,x1:I81,y0:h81,y1:v81},g81);if(D81.level < i81){i81=D81.level;this.outer.p1[+"1"]=d81.valueFromPixel(g81,l81);this.outer.p1[0]=d81.tickFromPixel(b81,l81.chart);}else if(D81.level > H81){H81=D81.level;this.outer.p0[1]=d81.valueFromPixel(g81,l81);this.outer.p0[0]=d81.tickFromPixel(b81,l81.chart);}}};w4S.Drawing.fibonacci.prototype.click=function(N81,e81,E81){var S81;S81=this.stx.panels[this.panelName];if(!S81){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",e81,E81,S81.chart);this.penDown=!0;return !{};}if(this.accidentalClick(e81,E81)){return this.dragToDraw;}this.setPoint(1,e81,E81,S81.chart);this.setOuter();this.parameters=w4S.clone(this.parameters);this.penDown=![];return !0;;};w4S.Drawing.fibonacci.prototype.render=function(Q81){var M8V,W8V,V8V,A8V,Z81,p81,M81,F81,y81,T81,C81,f81,W81,r81,z81,u81,P31,d31,U81,l31,k81,K81,V81,R81,G81,m8V,q81,J81,A81,a81,o81,D31,t81,X81,n81,L31,O81,c31,i31,H31;M8V="se";M8V+="gm";M8V+="ent";W8V="161";W8V+=".8%";V8V="s";V8V+="tx_";V8V+="yaxis";A8V="s";A8V+="ol";A8V+="i";A8V+="d";Z81=this.stx.panels[this.panelName];if(!Z81){return;}p81=Z81.yAxis;if(!this.p1){return;}M81=Math.max(this.p0[1],this.p1[1]);F81=Math.min(this.p0[1],this.p1[+"1"]);y81=p81.flipped?F81 - M81:M81 - F81;T81=this.stx.pixelFromTick(this.p0[0],Z81.chart);C81=this.stx.pixelFromTick(this.p1[0],Z81.chart);f81=this.stx.pixelFromValueAdjusted(Z81,this.p0[+"0"],this.p0[1]);W81=this.stx.pixelFromValueAdjusted(Z81,this.p1[0],this.p1[+"1"]);r81=Math.min(W81,f81);z81=Math.max(W81,f81);c0x.H7G(6);u81=c0x.c7G(z81,r81);c0x.n7G(56);P31=c0x.C7G(1864722304,T81,W81,"0",C81,f81);d31={color:"auto",parameters:{pattern:A8V,opacity:"0.25" * 1,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=d31;}U81=this.getLineColor(this.parameters.trend.color);Q81.textBaseline="middle";this.stx.canvasFont(V8V,Q81);c0x.H7G(3);var S0G=c0x.C7G(5,5);l31=Q81.measureText(W8V).width + S0G;k81=Number.MAX_VALUE;K81=Number.MAX_VALUE;c0x.Q6o();c0x.n7G(15);var H0G=c0x.C7G(12,11);V81=Number.MAX_VALUE * H0G;c0x.n7G(57);var K0G=c0x.C7G(2,6,14);R81=Number.MAX_VALUE * K0G;G81=this.color;if(G81 == "auto" || w4S.isTransparent(G81)){G81=this.stx.defaultColor;}this.rays=[];for(var s81=0;s81 < this.parameters.fibs.length;s81++){m8V="segm";m8V+="ent";Q81.textAlign="left";Q81.fillStyle=G81;q81=this.parameters.fibs[s81];if(!q81.display)continue;J81=this.stx.pixelFromValueAdjusted(Z81,this.p0[0],W81 < f81?M81 - y81 * q81.level:F81 + y81 * q81.level);A81=w4S.xIntersection({x0:T81,x1:C81,y0:f81,y1:W81},J81);a81=this.parameters.extendLeft?"0" << 1248991136:A81;o81=Z81.left + Z81.width;if(this.parameters.printLevels){c0x.H7G(58);var i0G=c0x.C7G(998,1004,502);c0x.n7G(59);var r0G=c0x.C7G(3,71,11,160,18);c0x.n7G(60);var c0G=c0x.c7G(1399,5,1404,7019);D31=Math.round(q81.level * i0G) / r0G + (c0G >= (+"9129",605.51)?"%":("0x1331" & 2147483647,914.46));o81-=l31;if(this.parameters.printValues){Q81.fillStyle=G81;this.stx.canvasFont("stx_yaxis",Q81);;}if(o81 < a81){Q81.textAlign="right";}Q81.fillText(D31,o81,J81);if(o81 < a81){o81+=5;}else {o81-=5;}}if(this.parameters.printValues){if(A81 < Z81.width){t81=this.stx.transformedPriceFromPixel(J81,Z81);if(p81.priceFormatter){t81=p81.priceFormatter(this.stx,Z81,t81);}else {t81=this.stx.formatYAxisPrice(t81,Z81);}if(Q81 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Z81,t81,J81,G81,null,Q81);if(Q81 == this.stx.chart.context){this.stx.startClip(Z81.name);}}}X81=q81.color;if(X81 == "auto" || w4S.isTransparent(X81)){X81=this.color;}if(X81 == "auto" || w4S.isTransparent(X81)){X81=this.stx.defaultColor;}n81=q81.color;if(n81 == "auto" || w4S.isTransparent(n81)){n81=this.fillColor;}if(n81 == "auto" || w4S.isTransparent(n81)){n81=this.stx.defaultColor;}Q81.fillStyle=n81;L31=w4S.clone(q81.parameters);if(this.highlighted){L31.opacity=1;}this.stx.plotLine(a81,o81,J81,J81,this.highlighted?U81:X81,m8V,Q81,Z81,L31);this.rays.push([[a81,J81],[o81,J81]]);Q81.globalAlpha=0.05;Q81.beginPath();Q81.moveTo(o81,J81);Q81.lineTo(a81,J81);if(a81){Q81.lineTo(C81,W81);}else {Q81.lineTo(a81,W81);}Q81.lineTo(o81,W81);if(typeof n81 != "undefined"){Q81.fill();}Q81.globalAlpha=1;if(J81 < K81){k81=A81;K81=J81;}if(J81 > R81){V81=A81;R81=J81;}}for(var B81=0;B81 <= 1;B81++){O81=P31?z81 - u81 * B81:r81 + u81 * B81;O81=Math.round(O81);if(O81 < K81){k81=w4S.xIntersection({x0:T81,x1:C81,y0:f81,y1:W81},O81);K81=O81;}if(O81 > R81){V81=w4S.xIntersection({x0:T81,x1:C81,y0:f81,y1:W81},O81);R81=O81;}}c31=w4S.clone(this.parameters.trend.parameters);if(this.highlighted){c31.opacity=1;}this.stx.plotLine(k81,V81,K81,R81,U81,M8V,Q81,Z81,c31);if(this.highlighted){i31=this.highlighted == "p0"?! !"1":!{};H31=this.highlighted == "p1"?! !{}:!{};this.littleCircle(Q81,T81,f81,i31);this.littleCircle(Q81,C81,W81,H31);}};w4S.Drawing.fibonacci.prototype.reposition=function(g31,m31,x31,w31){if(!m31){return;}w4S.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};w4S.Drawing.fibonacci.prototype.intersected=function(E31,N31,Q31){var v31,b31,Y31,I31,S31,e31,C8V;v31=this.p0;b31=this.p1;if(!v31 || !b31){return null;}Y31={0:v31,1:b31};for(var j31 in Y31){if(this.pointIntersection(Y31[j31]["0" << 838579168],Y31[j31]["1" ^ 0],Q31)){c0x.H7G(3);this.highlighted=c0x.c7G(j31,4116 < 9820?264.9 < (329,300)?"p":8300 != 9491?! !0:(7.39e+3,"J"):!{});return {action:"drag",point:"p" + j31};}}I31=this.outer;S31=this.rays;e31=I31 && this.lineIntersection(E31,N31,Q31,"segment",I31.p0,I31.p1);if(!e31){for(var h31=+"0";h31 < S31.length;h31++){C8V="r";C8V+="a";C8V+="y";if(this.lineIntersection(E31,N31,Q31,C8V,S31[h31][0],S31[h31][+"1"],! !"1")){e31=! ![];break;}}}if(e31){this.highlighted=! ![];return {action:"move",p0:w4S.clone(v31),p1:w4S.clone(b31),tick:E31,value:N31};}return null;};w4S.Drawing.fibonacci.prototype.reconstruct=function(J31,Z31){Z31=w4S.replaceFields(Z31,w4S.reverseObject(w4S.Drawing.fibonacci.mapping));this.stx=J31;this.parameters=Z31.parameters;if(!this.parameters){this.parameters=w4S.clone(this.stx.currentVectorParameters.fibonacci);}this.color=Z31.col;this.fillColor=Z31.fc;this.panelName=Z31.pnl;this.d0=Z31.d0;this.d1=Z31.d1;this.d2=Z31.d2;this.tzo0=Z31.tzo0;this.tzo1=Z31.tzo1;c0x.P6o();this.tzo2=Z31.tzo2;this.v0=Z31.v0;this.v1=Z31.v1;this.v2=Z31.v2;this.adjust();};w4S.Drawing.fibonacci.prototype.adjust=function(){var W31;W31=this.stx.panels[this.panelName];if(!W31){return;}c0x.Q6o();this.setPoint(0,this.d0,this.v0,W31.chart);this.setPoint(1,this.d1,this.v1,W31.chart);this.setOuter();};w4S.Drawing.fibonacci.prototype.serialize=function(){var o31;o31={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};c0x.Q6o();return w4S.replaceFields(o31,w4S.Drawing.fibonacci.mapping);};w4S.Drawing.retracement=function(){var w8V;w8V="r";w8V+="e";w8V+="tra";w8V+="cement";this.name=w8V;};w4S.inheritsFrom(w4S.Drawing.retracement,w4S.Drawing.fibonacci);w4S.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=![];this.p2=null;};w4S.inheritsFrom(w4S.Drawing.fibprojection,w4S.Drawing.fibonacci);w4S.Drawing.fibprojection.prototype.recommendedLevels=[+"0",0.618,1,1.272,1.618,2.618,4.236];w4S.Drawing.fibprojection.prototype.click=function(q31,n31,O31){var f31;f31=this.stx.panels[this.panelName];if(!f31){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,n31,O31,f31.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(n31,O31)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(+"2",this.p2[0],this.p2[1],f31.chart);this.parameters=w4S.clone(this.parameters);return ! !1;}this.setPoint(1,n31,O31,f31.chart);this.p2=[this.p1[0],this.p1[+"1"]];return !1;;};w4S.Drawing.fibprojection.prototype.render=function(a31){var l8V,U8V,n8V,X31,u31,L91,p31,F31,V31,k31,s31,t31,c91,y31,P91,A31,q8V,B31,C31,d91,K31,G31,l91,x8V,M31,R31,T31,U31,z31,D91,i91,H91;l8V="s";l8V+="e";l8V+="gme";l8V+="nt";U8V="a";U8V+="uto";c0x.Q6o();n8V="s";n8V+="o";n8V+="l";n8V+="id";X31=this.stx.panels[this.panelName];if(!X31){return;}u31=X31.yAxis;if(!this.p1){return;}c0x.H7G(10);var A0G=c0x.C7G(11,9,19);c0x.H7G(10);var V0G=c0x.c7G(0,10,9);L91=this.p1[A0G] - this.p0[V0G];p31=this.stx.pixelFromTick(this.p0[+"0"],X31.chart);F31=this.stx.pixelFromTick(this.p1[0],X31.chart);V31=this.stx.pixelFromValueAdjusted(X31,this.p0[0],this.p0[1]);k31=this.stx.pixelFromValueAdjusted(X31,this.p1[0],this.p1[1]);s31=null;t31=null;if(this.p2){s31=this.stx.pixelFromTick(this.p2[0],X31.chart);t31=this.stx.pixelFromValueAdjusted(X31,this.p2[+"0"],this.p2[1]);}c91={color:"auto",parameters:{pattern:n8V,opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=c91;}y31=this.getLineColor(this.parameters.trend.color);a31.textBaseline="middle";this.stx.canvasFont("stx_yaxis",a31);P91=a31.measureText("161.8%").width + ("10" & 2147483647);A31=this.color;if(A31 == U8V || w4S.isTransparent(A31)){A31=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var r31=0;r31 < this.parameters.fibs.length;r31++){q8V="au";q8V+="t";q8V+="o";a31.textAlign="left";a31.fillStyle=A31;B31=this.parameters.fibs[r31];if(!B31.display)continue;C31=this.stx.pixelFromValueAdjusted(X31,this.p2[0],this.p2[1] + L91 * B31.level);d91=w4S.xIntersection({x0:p31,x1:F31,y0:V31,y1:k31},C31);K31=this.parameters.extendLeft?0:p31;G31=X31.left + X31.width;if(this.parameters.printLevels){c0x.H7G(58);var W0G=c0x.C7G(859,987,7);c0x.n7G(61);var m0G=c0x.c7G(12,8,30);l91=Math.round(B31.level * W0G) / m0G + "%";G31-=P91;if(this.parameters.printValues){x8V="st";x8V+="x_y";x8V+="ax";x8V+="is";a31.fillStyle=A31;this.stx.canvasFont(x8V,a31);;}if(G31 < K31){a31.textAlign="right";}a31.fillText(l91,G31,C31);if(G31 < K31){G31+=5;}else {G31-=5;}}if(this.parameters.printValues){if(d91 < X31.width){M31=this.stx.transformedPriceFromPixel(C31,X31);if(u31.priceFormatter){M31=u31.priceFormatter(this.stx,X31,M31);}else {M31=this.stx.formatYAxisPrice(M31,X31);}if(a31 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(X31,M31,C31,A31,null,a31);if(a31 == this.stx.chart.context){this.stx.startClip(X31.name);}}}R31=B31.color;if(R31 == q8V || w4S.isTransparent(R31)){R31=this.color;}if(R31 == "auto" || w4S.isTransparent(R31)){R31=this.stx.defaultColor;}T31=B31.color;if(T31 == "auto" || w4S.isTransparent(T31)){T31=this.fillColor;}if(T31 == "auto" || w4S.isTransparent(T31)){T31=this.stx.defaultColor;}a31.fillStyle=T31;U31=w4S.clone(B31.parameters);if(this.highlighted){U31.opacity=1;}this.stx.plotLine(K31,G31,C31,C31,this.highlighted?y31:R31,"segment",a31,X31,U31);this.rays.push([[K31,C31],[G31,C31]]);a31.globalAlpha=0.05;a31.beginPath();a31.moveTo(G31,C31);a31.lineTo(K31,C31);if(K31){a31.lineTo(p31,t31);}else {a31.lineTo(K31,t31);}a31.lineTo(G31,t31);if(typeof T31 != "undefined"){a31.fill();}a31.globalAlpha=+"1";}}z31=w4S.clone(this.parameters.trend.parameters);if(this.highlighted){z31.opacity=1;}this.stx.plotLine(p31,F31,V31,k31,y31,l8V,a31,X31,z31);if(this.p2){this.stx.plotLine(F31,s31,k31,t31,y31,"segment",a31,X31,z31);}if(this.highlighted){D91=this.highlighted == "p0"?! ![]:! !"";i91=this.highlighted == "p1"?! ![]:![];H91=this.highlighted == "p2"?! ![]:! !0;this.littleCircle(a31,p31,V31,D91);this.littleCircle(a31,F31,k31,i91);this.littleCircle(a31,s31,t31,H91);}};w4S.Drawing.fibprojection.prototype.move=function(x91,m91,g91){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[m91,g91];}else {this.p2=[m91,g91];}this.render(x91);};w4S.Drawing.fibprojection.prototype.reposition=function(b91,w91,Y91,I91){c0x.Q6o();var j91,h91,k6V,L6V,S6V,v91;if(!w91){return;}j91=this.stx.panels[this.panelName];h91=w91.tick - Y91;c0x.H7G(41);k6V=-c0x.c7G("1618214919",0);L6V=-779931196;S6V=2;for(var K6V=1;c0x.g3V(K6V.toString(),K6V.toString().length,+"30562") !== k6V;K6V++){v91=w91.value % I91;c0x.H7G(47);S6V+=c0x.c7G(2147483647,"2");}if(c0x.l0V(S6V.toString(),S6V.toString().length,76408) !== L6V){v91=w91.value - I91;}if(w91.action == "move"){this.setPoint(0,w91.p0[0] - h91,w91.p0[1] - v91,j91.chart);this.setPoint(1,w91.p1[+"0"] - h91,w91.p1[1] - v91,j91.chart);this.setPoint(2,w91.p2[+"0"] - h91,w91.p2[1] - v91,j91.chart);this.render(b91);}else if(w91.action == "drag"){this[w91.point]=[Y91,I91];this.setPoint(0,this.p0[0],this.p0[1],j91.chart);this.setPoint(1,this.p1[0],this.p1[1],j91.chart);c0x.H7G(0);this.setPoint(c0x.C7G("2",496963936),this.p2[0],this.p2[+"1"],j91.chart);this.render(b91);}};w4S.Drawing.fibprojection.prototype.intersected=function(Z91,J91,W91){var e91,S91,E91,o91,f91,n91;e91=this.p0;S91=this.p1;E91=this.p2;if(!e91 || !S91 || !E91){return null;}o91={0:e91,1:S91,2:E91};for(var N91 in o91){if(this.pointIntersection(o91[N91][0],o91[N91][1],W91)){c0x.H7G(3);this.highlighted=c0x.c7G(N91,("7641" * 1,2076) <= 888.12?! !0:+"6310" != 7970?"p":!"1");return {action:"drag",point:"p" + N91};}}f91=this.rays;n91=this.lineIntersection(Z91,J91,W91,"segment",e91,S91) || this.lineIntersection(Z91,J91,W91,"segment",S91,E91);if(!n91){for(var Q91=0;Q91 < f91.length;Q91++){if(this.lineIntersection(Z91,J91,W91,"ray",f91[Q91][0],f91[Q91][1],!"")){n91=!"";break;}}}if(n91){this.highlighted=! ![];return {action:"move",p0:w4S.clone(e91),p1:w4S.clone(S91),p2:w4S.clone(E91),tick:Z91,value:J91};}return null;};w4S.Drawing.fibprojection.prototype.adjust=function(){var O91;O91=this.stx.panels[this.panelName];if(!O91){return;}this.setPoint(0,this.d0,this.v0,O91.chart);this.setPoint(1,this.d1,this.v1,O91.chart);this.setPoint(+"2",this.d2,this.v2,O91.chart);};w4S.Drawing.fibarc=function(){this.name="fibarc";;};w4S.inheritsFrom(w4S.Drawing.fibarc,w4S.Drawing.fibonacci);c0x.n7G(25);w4S.Drawing.fibarc.prototype.recommendedLevels=[c0x.C7G(1,"0.382"),0.5,0.618,1];w4S.Drawing.fibarc.prototype.setOuter=function(){var q91,a91,X91,G91,T91,C91,K91;c0x.Q6o();q91=this.stx.panels[this.panelName];if(!q91){return;}this.outer={p0:w4S.clone(this.p0),p1:w4S.clone(this.p1)};a91=this.stx.pixelFromValueAdjusted(q91,this.p0["0" | 0],this.p0[1]);X91=this.stx.pixelFromValueAdjusted(q91,this.p1[0],this.p1[1]);G91=this.stx.pixelFromTick(this.p0[0],q91.chart);T91=this.stx.pixelFromTick(this.p1[0],q91.chart);c0x.H7G(62);C91=c0x.C7G(X91,"2",a91);K91=w4S.xIntersection({x0:G91,x1:T91,y0:a91,y1:X91},C91);this.outer.p0[+"1"]=this.stx.valueFromPixel(C91,q91);this.outer.p0[0]=this.stx.tickFromPixel(K91,q91.chart);};w4S.Drawing.fibarc.prototype.intersected=function(p91,V91,t91){var g2V,s91,A91,B91,r91,y91,u91,R91,F91,z91,k91;g2V="s";g2V+="eg";g2V+="m";g2V+="ent";s91=this.stx.panels[this.panelName];if(!s91){return;}A91=this.p0;B91=this.p1;r91=this.outer;if(!A91 || !B91){return null;}y91={0:A91,1:B91};for(var M91 in y91){if(this.pointIntersection(y91[M91][+"0"],y91[M91][1],t91)){c0x.H7G(3);this.highlighted=c0x.c7G(M91,(772.35,23.91) < 7050?"p":(+"6970",2350) !== 4000?(6790,1030) > 7506?"d":5.60e+3:!{});return {action:"drag",point:"p" + M91};}}if(this.lineIntersection(p91,V91,t91,g2V,r91.p0,r91.p1)){this.highlighted=! !{};return {action:"move",p0:w4S.clone(A91),p1:w4S.clone(B91),tick:p91,value:V91};}u91={x0:A91[0],x1:B91[0],y0:A91[+"1"],y1:B91[1]};R91=w4S.convertBoxToPixels(this.stx,this.panelName,u91);F91={x:Math.abs(Math.sqrt(2) * (R91.x1 - R91.x0)),y:Math.abs(Math.sqrt(2) * (R91.y1 - R91.y0))};z91=this.stx.pixelFromTick(p91,s91.chart);k91=this.stx.pixelFromValueAdjusted(s91,p91,V91);if(z91 + t91.r < R91.x1 - F91.x || z91 - t91.r > R91.x1 + F91.x){return null;}if(k91 + t91.r < R91.y1 - F91.y || k91 - t91.r > R91.y1 + F91.y){return null;}if(R91.y0 < R91.y1 && k91 - t91.r > R91.y1){return null;}if(R91.y0 > R91.y1 && k91 + t91.r < R91.y1){return null;}this.highlighted=! ![];return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:p91,value:V91};};w4S.Drawing.fibarc.prototype.render=function(U91){var v2V,G2V,J2V,L41,w41,g41,d41,H41,P41,h41,v41,b41,i41,d2V,T2V,c41,S41,Y41,x41,e41,E41,m41,l41,D41,I41,f2V,N41,Q41;v2V="s";v2V+="egme";v2V+="nt";G2V="le";G2V+="ft";J2V="m";J2V+="i";J2V+="ddle";L41=this.stx.panels[this.panelName];if(!L41){return;}w41=L41.yAxis;if(!this.p1){return;}g41=this.stx.pixelFromTick(this.p0[0],L41.chart);d41=this.stx.pixelFromTick(this.p1[0],L41.chart);H41=this.stx.pixelFromValueAdjusted(L41,this.p0[0],this.p0[1]);P41=this.stx.pixelFromValueAdjusted(L41,this.p1["0" | 0],this.p1[1]);c0x.n7G(63);h41=c0x.C7G(P41,H41);c0x.H7G(64);c0x.P6o();v41=Math.abs(c0x.C7G(P41,H41,g41,d41));b41=this.getLineColor(this.parameters.trend.color);U91.textBaseline=J2V;this.stx.canvasFont("stx_yaxis",U91);i41=this.color;if(i41 == "auto" || w4S.isTransparent(i41)){i41=this.stx.defaultColor;}for(var j41=0;j41 < this.parameters.fibs.length;j41++){d2V="n";d2V+="o";d2V+="n";d2V+="e";T2V="a";T2V+="u";T2V+="t";T2V+="o";U91.fillStyle=i41;c41=this.parameters.fibs[j41];if(c41.level < 0 || !c41.display)continue;c0x.H7G(65);var M0G=c0x.c7G(1,7,17,120);c0x.n7G(6);var C0G=c0x.C7G(22,20);S41=Math.abs(this.p1[M0G] - this.p0[+"1"]) * Math.sqrt(C0G) * c41.level;c0x.n7G(66);var w0G=c0x.C7G(1,0,10,17,7);c0x.H7G(67);var n0G=c0x.c7G(20,12,2,240,0);c0x.H7G(15);var U0G=c0x.C7G(2,3);c0x.n7G(68);var x0G=c0x.c7G(9,3,2,19,4);c0x.H7G(6);var q0G=c0x.C7G(21,20);Y41=this.p1[w0G] + S41 * (h41?n0G:U0G) * (w41.flipped?x0G:q0G);x41=this.stx.pixelFromValueAdjusted(L41,this.p0[0],Y41);e41=w4S.xIntersection({x0:g41,x1:d41,y0:H41,y1:P41},x41);if(this.parameters.printLevels){U91.textAlign="center";c0x.n7G(10);var l0G=c0x.C7G(4,20,23);c0x.H7G(5);var g3G=c0x.c7G(4,12,6);c0x.H7G(69);var J3G=c0x.C7G(6488,8,8090,8110);c0x.n7G(8);var T3G=c0x.C7G(2450331,20,122893,15);c0x.n7G(6);var d3G=c0x.c7G(2365,3);c0x.H7G(70);var G3G=c0x.c7G(27260,10,25918,8,19);c0x.H7G(71);var v3G=c0x.c7G(8,9452,9439,4,2363);c0x.n7G(3);var f3G=c0x.C7G(8520,852);c0x.H7G(3);var a3G=c0x.C7G(19,2923);E41=Math.round(c41.level * ("1000" * l0G)) / g3G + (J3G === T3G?(740.59,d3G) == (G3G,"2206" - 0)?v3G:f3G <= (a3G,964.38)?"v":("Z",0x2159):"%");if(this.parameters.printValues){U91.fillStyle=i41;this.stx.canvasFont("stx_yaxis",U91);;}U91.fillText(E41,d41,Math.round(x41 - 5));}U91.textAlign="left";if(this.parameters.printValues){if(e41 < L41.width){m41=Y41;if(w41.priceFormatter){m41=w41.priceFormatter(this.stx,L41,m41);}else {m41=this.stx.formatYAxisPrice(m41,L41);}if(U91 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(L41,m41,x41,i41,null,U91);if(U91 == this.stx.chart.context){this.stx.startClip(L41.name);}}}l41=c41.color;if(l41 == "auto" || w4S.isTransparent(l41)){l41=this.color;}if(l41 == T2V || w4S.isTransparent(l41)){l41=this.stx.defaultColor;}U91.strokeStyle=this.highlight?b41:l41;D41=c41.color;if(D41 == "auto" || w4S.isTransparent(D41)){D41=this.fillColor;}if(D41 == "auto" || w4S.isTransparent(D41)){D41=this.stx.defaultColor;}U91.fillStyle=D41;U91.globalAlpha=this.highlighted?+"1":c41.parameters.opacity;U91.lineWidth=c41.parameters.lineWidth;if(U91.setLineDash){U91.setLineDash(w4S.borderPatternToArray(U91.lineWidth,c41.parameters.pattern));U91.lineDashOffset=0;;}U91.save();U91.beginPath();c0x.n7G(20);U91.scale(c0x.c7G(v41,1),1);c0x.n7G(25);U91.arc(c0x.c7G(v41,d41),P41,Math.abs(x41 - P41),0,Math.PI,!h41);if(this.pattern != d2V){U91.stroke();}c0x.H7G(25);U91.globalAlpha=c0x.C7G(1,"0.05");U91.fill();U91.restore();if(U91.setLineDash){U91.setLineDash([]);}U91.globalAlpha=1;}U91.textAlign=G2V;I41=w4S.clone(this.parameters.trend.parameters);if(this.highlighted){I41.opacity=+"1";}c0x.H7G(72);this.stx.plotLine(d41,c0x.c7G(d41,2,g41),P41,c0x.C7G(P41,2,H41),b41,v2V,U91,L41,I41);if(this.highlighted){f2V="p";f2V+="1";N41=this.highlighted == "p0"?! !1:!{};Q41=this.highlighted == f2V?! !{}:![];this.littleCircle(U91,g41,H41,N41);this.littleCircle(U91,d41,P41,Q41);}};w4S.Drawing.fibfan=function(){var y4V,E4V,s4V;this.name="fibfan";c0x.P6o();y4V=-1862398375;c0x.H7G(29);E4V=-c0x.C7G("443860895",2051042976);s4V=2;for(var I4V=1;c0x.l0V(I4V.toString(),I4V.toString().length,75706) !== y4V;I4V++){;s4V+=+"2";}if(c0x.l0V(s4V.toString(),s4V.toString().length,21803) !== E4V){;}};w4S.inheritsFrom(w4S.Drawing.fibfan,w4S.Drawing.fibonacci);w4S.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];w4S.Drawing.fibfan.prototype.setOuter=function(){};w4S.Drawing.fibfan.prototype.render=function(Z41){var a2V,W41,k41,J41,O41,o41,K41,V41,s41,y41,z41,u41,t41,A41,B41,X41,X2V,t2V,C41,n41,p41,f41,G41,U41,D2V,B2V,R41,q41,a41,r41,T41,g61,x61;a2V="mid";a2V+="d";a2V+="le";W41=this.stx.panels[this.panelName];if(!W41){return;}k41=W41.yAxis;if(!this.p1){return;}J41=this.stx.pixelFromTick(this.p0[0],W41.chart);O41=this.stx.pixelFromTick(this.p1["0" << 738988832],W41.chart);o41=this.stx.pixelFromValueAdjusted(W41,this.p0[0],this.p0[1]);K41=this.stx.pixelFromValueAdjusted(W41,this.p1[+"0"],this.p1["1" - 0]);V41=Math.min(K41,o41);s41=Math.max(K41,o41);c0x.n7G(6);y41=c0x.C7G(s41,V41);c0x.n7G(73);z41=c0x.C7G(J41,0,o41,K41,O41);u41=this.getLineColor(this.parameters.trend.color);Z41.textBaseline=a2V;this.stx.canvasFont("stx_yaxis",Z41);c0x.n7G(74);var D3G=c0x.c7G(13,1,11,14,1);t41=Z41.measureText("161.8%").width + D3G;A41=Number.MAX_VALUE;B41=Number.MAX_VALUE * - +"1";X41=this.color;if(X41 == "auto" || w4S.isTransparent(X41)){X41=this.stx.defaultColor;}this.rays=[];for(var F41=0;F41 < this.parameters.fibs.length;F41++){X2V="a";X2V+="u";X2V+="t";X2V+="o";t2V="a";t2V+="u";t2V+="t";t2V+="o";Z41.fillStyle=X41;C41=this.parameters.fibs[F41];if(!C41.display)continue;n41=this.stx.pixelFromValueAdjusted(W41,this.p0[0],(this.p0["1" - 0] - this.p1["1" | 0]) * C41.level + this.p1["1" << 237675392]);p41=w4S.xIntersection({x0:O41,x1:O41,y0:o41,y1:K41},n41);f41=W41.left;if(O41 > J41){f41+=W41.width;}c0x.n7G(75);G41=c0x.c7G(o41,J41,p41,o41,n41,J41,f41);if(J41 > f41 - (this.parameters.printLevels?t41 + 5:0) && O41 > J41)continue;else if(J41 < f41 + (this.parameters.printLevels?t41 + 5:0) && O41 < J41)continue;if(this.parameters.printLevels){c0x.n7G(76);var B3G=c0x.c7G(2000,14,2000,985);c0x.H7G(77);var t3G=c0x.C7G(19,1,28,1);c0x.n7G(72);var X3G=c0x.C7G(98340,9832,11);c0x.n7G(5);var O3G=c0x.c7G(1246,155,3);c0x.H7G(72);var F3G=c0x.c7G(13496,964,19);U41=Math.round(C41.level * B3G) / t3G + (277.17 <= (+"5422",830.1)?"%":(X3G,"3576" - 0) >= (634.71,O3G)?("9.60e+3" ^ 0,F3G):(293.39,!{}));if(O41 > J41){D2V="l";D2V+="e";D2V+="f";D2V+="t";f41-=t41;Z41.textAlign=D2V;}else {f41+=t41;Z41.textAlign="right";}if(this.parameters.printValues){B2V="s";B2V+="tx_yaxis";Z41.fillStyle=X41;this.stx.canvasFont(B2V,Z41);;}c0x.n7G(75);G41=c0x.c7G(o41,J41,p41,o41,n41,J41,f41);Z41.fillText(U41,f41,G41);if(O41 > J41){f41-=5;}else {f41+=5;}}Z41.textAlign="left";if(this.parameters.printValues){if(p41 < W41.width){R41=this.stx.transformedPriceFromPixel(n41,W41);if(k41.priceFormatter){R41=k41.priceFormatter(this.stx,W41,R41);}else {R41=this.stx.formatYAxisPrice(R41,W41);}if(Z41 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(W41,R41,n41,X41,null,Z41);if(Z41 == this.stx.chart.context){this.stx.startClip(W41.name);}}}q41=C41.color;if(q41 == "auto" || w4S.isTransparent(q41)){q41=this.color;}if(q41 == "auto" || w4S.isTransparent(q41)){q41=this.stx.defaultColor;}a41=C41.color;if(a41 == t2V || w4S.isTransparent(a41)){a41=this.fillColor;}if(a41 == X2V || w4S.isTransparent(a41)){a41=this.stx.defaultColor;}Z41.fillStyle=a41;if(this.parameters.printLevels){c0x.n7G(75);G41=c0x.C7G(o41,J41,p41,o41,n41,J41,f41);}r41=w4S.clone(C41.parameters);if(this.highlighted){c0x.H7G(41);r41.opacity=c0x.c7G("1",0);}this.stx.plotLine(J41,f41,o41,G41,this.highlighted?u41:q41,"segment",Z41,W41,r41);this.rays.push([[J41,o41],[f41,G41]]);Z41.globalAlpha=0.05;Z41.beginPath();Z41.moveTo(f41,G41);Z41.lineTo(J41,o41);Z41.lineTo(f41,o41);Z41.fill();Z41.globalAlpha=1;if(n41 < A41){A41=n41;}if(n41 > B41){B41=n41;}}for(var M41=0;M41 <= 1;M41++){T41=z41?s41 - y41 * M41:V41 + y41 * M41;T41=Math.round(T41);if(T41 < A41){A41=T41;}if(T41 > B41){B41=T41;}}if(this.highlighted){g61=this.highlighted == "p0"?! ![]:! !"";x61=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(Z41,J41,o41,g61);this.littleCircle(Z41,O41,K41,x61);}};w4S.Drawing.fibtimezone=function(){this.name="fibtimezone";;};w4S.inheritsFrom(w4S.Drawing.fibtimezone,w4S.Drawing.fibonacci);w4S.Drawing.fibtimezone.prototype.render=function(j61){var y2V,F2V,O2V,I61,S61,n61,c71,P71,y61,d71,H71,l71,s61,E61,D71,a61,t61,W61,o61,L71,p2V,E2V,m71,g71,i71;y2V="le";y2V+="f";y2V+="t";F2V="au";F2V+="to";O2V="a";O2V+="u";O2V+="t";O2V+="o";I61=this.stx.panels[this.panelName];if(!I61){return;}if(!this.p1){return;}S61=this.stx.pixelFromTick(this.p0["0" << 940810720],I61.chart);n61=this.stx.pixelFromTick(this.p1[0],I61.chart);c71=this.stx.pixelFromValueAdjusted(I61,this.p0["0" >> 1895542816],this.p0[+"1"]);P71=this.stx.pixelFromValueAdjusted(I61,this.p1[0],this.p1[1]);y61=[1,0];d71=this.getLineColor(this.parameters.trend.color);j61.textBaseline="middle";this.stx.canvasFont("stx_yaxis",j61);H71=20;l71=this.p1[0] - this.p0[0];s61=this.color;if(s61 == O2V || w4S.isTransparent(s61)){s61=this.stx.defaultColor;}j61.textAlign="center";E61=S61;D71=I61.yAxis.top;a61=I61.yAxis.bottom;c0x.H7G(29);t61=c0x.c7G("0",1642130560);W61=this.parameters.timezone.color;if(W61 == "auto" || w4S.isTransparent(W61)){W61=this.color;}if(W61 == "auto" || w4S.isTransparent(W61)){W61=this.stx.defaultColor;}o61=this.parameters.timezone.color;if(o61 == "auto" || w4S.isTransparent(o61)){o61=this.fillColor;}if(o61 == F2V || w4S.isTransparent(o61)){o61=this.stx.defaultColor;}if(this.parameters.printLevels){c0x.n7G(6);a61-=c0x.c7G(H71,7);}L71=w4S.clone(this.parameters.timezone.parameters);if(this.highlighted){c0x.H7G(0);L71.opacity=c0x.C7G("1",1651600960);}do {p2V="se";p2V+="gmen";p2V+="t";E61=this.stx.pixelFromTick(this.p0[+"0"] + t61 * l71,I61.chart);if(S61 < n61 && E61 > I61.left + I61.width)break;else if(S61 > n61 && E61 < I61.left)break;if(this.parameters.printLevels){j61.fillStyle=s61;j61.fillText(n61 > S61?t61:t61 * -1,E61,a61 + 7);}j61.fillStyle=o61;this.stx.plotLine(E61,E61,+"0",a61,this.highlighted?d71:W61,p2V,j61,I61,L71);j61.globalAlpha=0.05;j61.beginPath();j61.moveTo(S61,D71);j61.lineTo(E61,D71);j61.lineTo(E61,a61);j61.lineTo(S61,a61);j61.fill();j61.globalAlpha=1;c0x.H7G(33);var p3G=c0x.c7G(14,3,11,12);t61=y61[0] + y61[p3G];y61.unshift(t61);}while(l71);j61.textAlign=y2V;this.stx.plotLine(S61,n61,c71,P71,d71,"segment",j61,I61,L71);c0x.P6o();if(this.highlighted){E2V="p";E2V+="1";m71=this.highlighted == "p0"?! !{}:![];g71=this.highlighted == E2V?! ![]:! !0;this.littleCircle(j61,S61,c71,m71);this.littleCircle(j61,n61,P71,g71);}else {i71=this.stx.valueFromPixel(I61.height / 2,I61);this.setPoint(0,this.p0[0],i71,I61.chart);this.setPoint(1,this.p1[0],i71,I61.chart);}};w4S.Drawing.fibtimezone.prototype.intersected=function(b71,Y71,j71){var Q2V,x71,h71,I71,v71,s2V,S71,I2V;Q2V="se";c0x.P6o();Q2V+="gm";Q2V+="en";Q2V+="t";x71=this.p0;h71=this.p1;I71=this.stx.panels[this.panelName];if(!x71 || !h71 || !I71){return null;}v71={0:x71,1:h71};for(var w71 in v71){if(this.pointIntersection(v71[w71][0],v71[w71][1],j71)){s2V="d";s2V+="rag";c0x.n7G(3);this.highlighted=c0x.c7G(w71,350 < 1384?"p":(233.91,"7220" >> 1513007936) !== 821.16?974.42 !== (+"255","695.2" - 0)?"N":4.19e+3:"D");return {action:s2V,point:(1120 >= (+"7552","8682" >> 1066029088)?(1.34e+3,271.02):(699,3460) != 8951?"p":+"27.87" <= (+"3260",+"797.08")?"k":("R",!{})) + w71};}}S71=this.lineIntersection(b71,Y71,j71,Q2V);if(S71 || j71.x0 <= this.p0[0] && j71.x1 >= x71[0]){I2V="m";I2V+="o";I2V+="v";I2V+="e";this.highlighted=! !1;return {action:I2V,p0:w4S.clone(x71),p1:w4S.clone(h71),tick:b71,value:Y71};}return null;};w4S.Drawing.arrow_v0=function(){c0x.P6o();this.name="arrow";this.dimension=[11,11];c0x.n7G(29);this.points=[[+"5090" != (410,+"5000")?(2320,5831) != 9175?(2090,478.1) >= 3603?("v",834.34):"M":! !"1":"k",3,0,(8610,1528) !== +"6098"?508.92 != (2905,"281.34" - 0)?"L":85.75 < (9400,536.7)?4.68e+3:(7.76e+3,"0x69f" - 0):("0x20a7" | 38,+"9.18e+3"),c0x.c7G("7",1133211456),0,"L",7,5,7520 >= 499.38?"L":(!"",! !"1"),10,5,403.56 < 5150?"L":5193 === 486.56?(2.21e+3,8.13e+3):(!"1",2.36e+3),5,10,771.52 <= (592,422)?("625" - 0,987.33):5060 == 3170?(931.33,+"8.88e+3"):"L",0,5,"L",c0x.C7G("3",0,c0x.n7G(6)),5,"L",3,0]];};w4S.inheritsFrom(w4S.Drawing.arrow_v0,w4S.Drawing.shape);w4S.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];c0x.H7G(18);c0x.P6o();this.points=[[(+"307.13",4270) !== 343.97?"M":(+"209.93",7.40e+1),1,0,9441 != +"1899"?"L":2230 > +"342.36"?"l":(719.51,! !{}),3,2,"L",+"5",0,2460 >= (3043,7650)?"4.95e+3" - 0:"L",6,1,"L",4,+"3",+"9630" !== (8885,592.53)?"L":(339.09,6920) <= (250.74,743)?"U":!{},6,5,(2610,2208) != 4630?(194.85,6050) > 762.33?(+"6020",664.85) >= 529?"L":(+"902.45","b"):![]:("g",!1),+"5",c0x.C7G("6",0),(863.73,1557) <= +"8997"?"L":(9543,"705.58" - 0) == ("761.83" - 0,+"275")?0x680:! !{},c0x.C7G("3",0,c0x.n7G(41)),4,(+"407.11",8311) <= (4520,179.83)?0x3ed:"L",1,6,7158 < 4690?(224.85,7870) == 4735?+"0x5c":(784.70,9.99e+3):"L",+"0",+"5",("7257" & 2147483647) <= (8890,8170)?451.73 !== 1580?"L":1374 > 9631?(5.00e+3,"0x2632" * 1):"s":("n",8.52e+3),c0x.c7G("2",0,c0x.n7G(41)),3,("9883" << 588689664,4470) == 6166?"1750" - 0 != 430.58?323.77 != (725,371.55)?"c":(![],!1):(0x26e8,0x26cc):"L",0,1,+"2200" <= (8309,131.11)?("1730" | 1600,"383.43" * 1) > (8845,8696)?(7.74e+3,8.72e+3):("5910" ^ 0) !== 1050?(!{},6.88e+2):(0x1795,205.84):"L",c0x.c7G("1",0,c0x.H7G(41)),0]];;};w4S.inheritsFrom(w4S.Drawing.xcross,w4S.Drawing.shape);w4S.Drawing.check=function(){this.name="check";c0x.H7G(29);this.dimension=[8,c0x.c7G("9",440306304)];c0x.n7G(47);this.points=[[("8880" & 2147483647) <= (2790,470.12)?(1678,7223) != ("1743" & 2147483647,247)?747.84:147.54:"M",1,5,(2097,"586.81" * 1) === 9186?2924 !== (+"6350",+"5939")?("U",1.30e+3):"D":"L",0,c0x.C7G(2147483647,"6"),2312 <= 7820?"L":(0x814,"t"),2,8,378 > (243,+"796")?(578.18,!0):207 == 2950?! ![]:"L",7,1,"L",6,c0x.c7G(1,"0",c0x.H7G(25)),(884.49,5582) != (832.64,1732)?"L":"A",2,6,(+"2503",+"274.15") != (5920,648.39)?"L":"f",1,5]];;};w4S.inheritsFrom(w4S.Drawing.check,w4S.Drawing.shape);w4S.Drawing.star=function(){var Y2V;Y2V="s";Y2V+="t";Y2V+="a";Y2V+="r";this.name=Y2V;this.dimension=[12,12];this.points=[[69.78 > 7912?(448.99,"3920" >> 2061841248) < (9715,527)?(+"0x2074",51):("O",!1):"M",0,4,"L",4,4,"L",+"5.5",0,78.62 !== +"3700"?"L":(0x2468,! !0),7,4,"L",11,+"4",+"5277" <= 4110?(!1,"l"):(+"588",+"4290") < 4709?4290 != 8460?"L":! ![]:("K","H"),8,7,(9150,"1980" * 1) <= (416.71,2240)?"L":(547.33,6.31e+3),9,11,(931,867.44) != ("2536" & 2147483647)?"L":!{},5.5,9,"L",2,11,(8510,193) <= (452,1750)?"L":"B",3,+"7",273.4 === 3650?(0x1fce,1.45e+3):"L",0,4]];;};w4S.inheritsFrom(w4S.Drawing.star,w4S.Drawing.shape);w4S.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];c0x.P6o();c0x.H7G(41);this.points=[["M",11,3,(3220,47.06) !== 260?(9515,2310) !== 250.8?"B":("1290" & 2147483647,+"468.04") <= 6830?(!0,! !""):![]:0x65f,11,2.4,10,0,6,0,(7250,+"385") >= +"935.18"?(0xe27,137):("4770" & 2147483647) <= "892" << 835844032?(940,! ![]):"B",0,0,0,+"7.5",0,7.5,"B",+"0",11,+"4",15.4,11,19,503.67 == 1240?182.18:(+"9450","757.7" * 1) < (6944,4069)?303 === 565?0x5d3:"B":(313.43,"o"),18,15.4,22,+"11",22,7.5,499.44 !== (204.48,7354)?"B":(1427,6480) !== (7575,6640)?(+"4570",2720) < +"1346"?"v":(!1,"d"):(9.81e+3,! ![]),c0x.c7G("22",0),7.5,22,0,16,+"0",(678.03,766.13) > (2340,6570)?(0x8de,0x2467):+"4943" > (677.25,1290)?"B":656 <= (6820,843.58)?(0x11a6,!1):259.08,13,0,11,2.4,11,3]];;};w4S.inheritsFrom(w4S.Drawing.heart,w4S.Drawing.shape);w4S.Drawing.focusarrow=function(){this.name="focusarrow";c0x.P6o();this.dimension=[7,5];c0x.H7G(41);this.points=[[(648.69,3300) == (597.38,6390)?(3.11e+3,371.21):"M",+"0",0,(35.83,+"8182") < 3062?(!"",0xb6b):"L",2,2,"L",0,4,3070 === ("8744" - 0,3680)?"G":891 != 7180?"L":(8180,7910) == 115.1?("p","Q"):"I",0,0],[("2500" | 2176,+"7325") > 8570?877.94 > 231.19?(706.97,4653) <= (5025,7670)?("574.34" - 0,3.26e+3):!1:(+"8.59e+3","R"):"M",+"6",+"0","248.45" - 0 !== (632,56.24)?"L":("972" | 712,874.75) >= (3657,5230)?(685.37,"k"):(2071,5460) > ("5706" * 1,707.07)?(0x1453,"v"):3.49e+3,4,c0x.c7G("2",0),(7970,6086) >= (118,"3757" ^ 0)?"L":452.53,6,+"4","L",6,0]];;};w4S.inheritsFrom(w4S.Drawing.focusarrow,w4S.Drawing.shape);w4S.Drawing.crossline=function(){this.name="crossline";};w4S.inheritsFrom(w4S.Drawing.crossline,w4S.Drawing.horizontal);w4S.extend(w4S.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(e71,E71){c0x.P6o();return !{};},adjust:function(){var N71;N71=this.stx.panels[this.panelName];if(!N71){return;}this.setPoint(0,this.d0,this.v0,N71.chart);this.p1=w4S.clone(this.p0);},intersected:function(Z71,J71,W71){var Q71;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;Q71=this.lineIntersection(Z71,J71,W71,"line");this.p1=w4S.clone(this.p0);if(!Q71){this.p1[1]+=1;Q71=this.lineIntersection(Z71,J71,W71,"line");this.p1=w4S.clone(this.p0);if(!Q71){return null;}}c0x.P6o();this.highlighted=! ![];if(this.pointIntersection(this.p0[0],this.p0[+"1"],W71)){this.highlighted="p0";}return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:Z71,value:J71};},render:function(T71){var o71,I5V,Y5V,b5V,O71,q71,X71,K71,n71,f71,a71,R71,C71,G71,z6V,e6V,h6V,t71;o71=this.stx.panels[this.panelName];I5V=145628891;Y5V=592132363;c0x.H7G(18);b5V=c0x.c7G("2",0);for(var e5V=+"1";c0x.g3V(e5V.toString(),e5V.toString().length,6797) !== I5V;e5V++){if(!o71){return;}O71=this.stx.pixelFromTick(this.p0[0],o71.chart);q71=this.stx.pixelFromValueAdjusted(o71,this.p0[0],this.p0[1]);X71=this.getLineColor();K71={pattern:this.pattern,lineWidth:this.lineWidth};c0x.n7G(3);this.stx.plotLine(O71,c0x.c7G(100,O71),q71,q71,X71,"horizontal",T71,o71,K71);c0x.n7G(3);this.stx.plotLine(O71,O71,q71,c0x.c7G(100,q71),X71,"vertical",T71,o71,K71);b5V+=2;}if(c0x.l0V(b5V.toString(),b5V.toString().length,20843) !== Y5V){if(+o71){return;}O71=this.stx.pixelFromTick(this.p0[1],o71.chart);q71=this.stx.pixelFromValueAdjusted(o71,this.p0[7],this.p0[9]);X71=this.getLineColor();K71={pattern:this.pattern,lineWidth:this.lineWidth};c0x.H7G(25);this.stx.plotLine(O71,c0x.c7G(343,O71),q71,q71,X71,"vertical",T71,o71,K71);c0x.H7G(20);this.stx.plotLine(O71,O71,q71,c0x.c7G(255,q71),X71,"vertical",T71,o71,K71);}if(this.axisLabel && !this.repositioner){this.stx.endClip();n71=this.p0[1];if(o71.chart.transformFunc){n71=o71.chart.transformFunc(this.stx,o71.chart,n71);}if(o71.yAxis.priceFormatter){n71=o71.yAxis.priceFormatter(this.stx,o71,n71);}else {n71=this.stx.formatYAxisPrice(n71,o71);}this.stx.createYAxisLabel(o71,n71,q71,X71);this.stx.startClip(o71.name);if(this.p0["0" >> 859446048] >= 0 && !this.stx.chart.xAxis.noDraw){f71=this.stx.dateFromTick(this.p0[0],o71.chart,! !1);if(!w4S.ChartEngine.isDailyInterval(this.stx.layout.interval)){c0x.H7G(13);var y3G=c0x.C7G(5,5016,11,6000);R71=f71.getSeconds() * y3G + f71.getMilliseconds();if(j4S.Date && this.stx.displayZone){a71=new j4S.Date(f71.getTime(),this.stx.displayZone);f71=new Date(a71.getFullYear(),a71.getMonth(),a71.getDate(),a71.getHours(),a71.getMinutes());f71=new Date(f71.getTime() + R71);}}else {c0x.n7G(29);f71.setHours(c0x.C7G("0",398228928),0,c0x.C7G("0",926528544),0);}C71=w4S.mmddhhmm(w4S.yyyymmddhhmm(f71));if(o71.chart.xAxis.formatter){C71=o71.chart.xAxis.formatter(f71,this.name,null,null,C71);}else if(this.stx.internationalizer){if(f71.getHours() !== 0 || f71.getMinutes() !== "0" << 1202053312){G71=this.stx.internationalizer.monthDay.format(f71);G71+=" " + this.stx.internationalizer.hourMinute.format(f71);}else {G71=this.stx.internationalizer.yearMonthDay.format(f71);}C71=G71;}this.stx.endClip();this.stx.createXAxisLabel({panel:o71,txt:C71,x:O71,backgroundColor:X71,color:null,pointed:! !1,padding:"2" >> 1707152128});this.stx.startClip(o71.name);}}if(this.highlighted){z6V=- +"1942837803";e6V=-958146277;h6V=2;for(var P6V="1" * 1;c0x.g3V(P6V.toString(),P6V.toString().length,62290) !== z6V;P6V++){t71=this.highlighted == "p0"?!0:![];h6V+=2;}if(c0x.g3V(h6V.toString(),h6V.toString().length,73495) !== e6V){t71=this.highlighted === ""?! !0:! !"1";}this.littleCircle(T71,O71,q71,t71);}}},! ![]);w4S.Drawing.speedarc=function(){var t4V,X4V,O4V,b2V;t4V=1621258712;c0x.H7G(41);X4V=c0x.C7G("1264751738",0);c0x.P6o();O4V=2;for(var p4V=1;c0x.l0V(p4V.toString(),p4V.toString().length,34922) !== t4V;p4V++){b2V="s";b2V+="pee";b2V+="dar";b2V+="c";this.name=b2V;this.printLevels=! ![];O4V+=2;}if(c0x.l0V(O4V.toString(),O4V.toString().length,88777) !== X4V){this.name="";this.printLevels=![];}};w4S.inheritsFrom(w4S.Drawing.speedarc,w4S.Drawing.segment);w4S.extend(w4S.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[z2V,"fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(A71,B71,y71){c0x.Q6o();var e2V,M71,r71,F71,k71,V71,s71;e2V="mov";e2V+="e";if(!this.p0 || !this.p1){return null;}M71={0:this.p0,1:this.p1};for(var p71 in M71){if(this.pointIntersection(M71[p71][+"0"],M71[p71][1],y71)){c0x.H7G(3);this.highlighted=c0x.C7G(p71,3470 == ("412.12" * 1,"5410" * 1)?(4915,826.07) === 7289?(6.55e+3,0x24b2):(1210,240) !== 31.87?! !"":(247,"k"):"p");return {action:"drag",point:((994,2750) != (762.42,5708)?(2224,179.43) >= 1686?1690 > (1180,3240)?("0x38a" | 520,0x1244):(79.05,! !0):"p":7.39e+3) + p71};}}r71=this.lineIntersection(A71,B71,y71,this.name);if(r71){this.highlighted=! !{};return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:A71,value:B71};}F71=this.p1[0] - (this.p0[0] - this.p1[0]);c0x.H7G(29);k71=this.p0[c0x.C7G("0",914764032)];c0x.n7G(29);V71=this.p1[c0x.C7G("1",1872272480)];s71=this.p0[1];if(A71 > Math.max(F71,k71) || A71 < Math.min(F71,k71)){return null;}if(B71 > Math.max(s71,V71) || B71 < Math.min(s71,V71)){return null;}this.highlighted=! !"1";return {action:e2V,p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:A71,value:B71};},render:function(z71){var u71,l11,L11,P11,U71,i11,H11,D11,c11,h2V,g11,x11,m11,w11,j11,Z2V,h11,v11;u71=this.stx.panels[this.panelName];if(!u71){return;}if(!this.p1){return;}l11=this.stx.pixelFromTick(this.p0[+"0"],u71.chart);L11=this.stx.pixelFromTick(this.p1[0],u71.chart);P11=this.stx.pixelFromValueAdjusted(u71,this.p0[0],this.p0[1]);U71=this.stx.pixelFromValueAdjusted(u71,this.p1[+"0"],this.p1[1]);c0x.n7G(63);i11=c0x.C7G(U71,P11);c0x.H7G(64);H11=Math.abs(c0x.C7G(U71,P11,l11,L11));D11=this.getLineColor();z71.strokeStyle=D11;c11=this.fillColor;if(c11 == "auto" || w4S.isTransparent(c11)){c11=this.stx.defaultColor;}z71.fillStyle=c11;if(z71.setLineDash){z71.setLineDash(w4S.borderPatternToArray(this.lineWidth,this.pattern));z71.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",z71);for(var d11=1;d11 < 3;d11++){h2V="n";h2V+="o";h2V+="n";h2V+="e";c0x.n7G(13);var E3G=c0x.c7G(11,26,7,9);c0x.n7G(78);var s3G=c0x.c7G(0,18,2,7,1);c0x.n7G(13);var Q3G=c0x.C7G(3,8,4,2);c0x.n7G(11);var I3G=c0x.c7G(49,57,8,3);g11=Math.abs(this.p1[E3G] - this.p0[s3G]) * Math.sqrt("2" * Q3G) * d11 / I3G;c0x.H7G(79);var Y3G=c0x.c7G(18,15,18,13,9);c0x.H7G(6);var b3G=c0x.C7G(9,10);c0x.n7G(80);var z3G=c0x.C7G(6,17,1209,12,14);c0x.n7G(5);var e3G=c0x.c7G(14,0,15);c0x.H7G(77);var h3G=c0x.c7G(18,16,3,1);x11=this.p1[Y3G] + g11 * (i11?b3G:z3G) * (u71.yAxis.flipped?e3G:h3G);m11=this.stx.pixelFromValueAdjusted(u71,this.p0[0],x11);z71.save();z71.beginPath();c0x.n7G(20);z71.scale(c0x.C7G(H11,1),c0x.C7G("1",1414325312,c0x.H7G(0)));c0x.H7G(25);z71.arc(c0x.C7G(H11,L11),U71,Math.abs(m11 - U71),0,Math.PI,!i11);z71.globalAlpha=this.highlighted?"1" << 935019936:this.defaultOpacity;if(this.pattern != h2V){z71.stroke();}z71.globalAlpha=0.1;z71.fill();z71.restore();z71.globalAlpha=1;if(this.printLevels){z71.fillStyle=D11;z71.textAlign="center";c0x.H7G(3);w11=c0x.C7G("/3",d11);z71.fillText(w11,L11,Math.round(m11 - 5));z71.fillStyle=c11;}}z71.textAlign="left";j11={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};this.stx.plotLine(l11,L11,P11,U71,D11,"segment",z71,u71,j11);if(z71.setLineDash){z71.setLineDash([]);}if(this.highlighted){Z2V="p";Z2V+="0";h11=this.highlighted == Z2V?! ![]:! !"";v11=this.highlighted == "p1"?! ![]:![];this.littleCircle(z71,l11,P11,h11);this.littleCircle(z71,L11,U71,v11);}},reconstruct:function(Y11,b11){this.stx=Y11;this.color=b11.col;this.fillColor=b11.fc;this.panelName=b11.pnl;this.pattern=b11.ptrn;this.lineWidth=b11.lw;this.d0=b11.d0;this.d1=b11.d1;this.tzo0=b11.tzo0;this.tzo1=b11.tzo1;this.v0=b11.v0;this.v1=b11.v1;this.adjust();},serialize:function(){c0x.Q6o();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !1);w4S.Drawing.speedline=function(){c0x.Q6o();this.name="speedline";this.printLevels=!"";};w4S.inheritsFrom(w4S.Drawing.speedline,w4S.Drawing.speedarc);w4S.extend(w4S.Drawing.speedline.prototype,{intersected:function(Z11,J11,W11){var e11,E11,N11,Q11;e11=this.p0;E11=this.p1;if(!e11 || !E11){return null;}N11={0:e11,1:E11};for(var I11 in N11){if(this.pointIntersection(N11[I11][0],N11[I11][1],W11)){c0x.n7G(3);this.highlighted=c0x.C7G(I11,("6739" | 6656,5330) == (53.35,+"309.91")?(9910,711.68) != (+"9300",2050)?4.39e+3:!{}:"p");return {action:"drag",point:(4530 !== "7930" * 1?(5247,+"9840") == (9670,"823.9" * 1)?! !{}:"p":468.19) + I11};}}Q11=this.rays;for(var S11=0;S11 < Q11.length;S11++){if(this.lineIntersection(Z11,J11,W11,"ray",Q11[S11][0],Q11[S11][1],!"")){this.highlighted=! !{};return {action:"move",p0:w4S.clone(e11),p1:w4S.clone(E11),tick:Z11,value:J11};}}return null;},render:function(o11){var u2V,R2V,o2V,P2V,a11,f11,O11,n11,X11,V11,T11,R11,s11,y11,r11,F11,k11,q11,C11,K11,B11,G11,A11,p11,M11,N2V,z11,u11;u2V="mi";c0x.P6o();u2V+="dd";u2V+="l";u2V+="e";R2V="1";R2V+="/";R2V+="3";o2V="2";o2V+="/3";P2V="a";P2V+="u";P2V+="t";P2V+="o";a11=this.stx.panels[this.panelName];if(!a11){return;}if(!this.p1){return;}f11=this.stx.pixelFromTick(this.p0[0],a11.chart);O11=this.stx.pixelFromTick(this.p1["0" * 1],a11.chart);n11=this.stx.pixelFromValueAdjusted(a11,this.p0[0],this.p0[1]);X11=this.stx.pixelFromValueAdjusted(a11,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",o11);V11=this.getLineColor();T11=this.color;if(T11 == "auto" || w4S.isTransparent(T11)){T11=this.stx.defaultColor;}o11.strokeStyle=T11;R11=this.fillColor;if(R11 == P2V || w4S.isTransparent(R11)){R11=this.stx.defaultColor;}o11.fillStyle=R11;s11={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};F11=[455 >= 929?0x14b8:("220" | 4) < 5495?"1":(1851,+"905") < "1160" - 0?(0x1943,"6.46e+3" ^ 0):(! !{},+"4.47e+3"),o2V,R2V,"3/2",(956.49,6860) < 659.57?"442" | 162:"3"];c0x.n7G(20);k11=[1,c0x.C7G(3,2),c0x.c7G(3,1,c0x.n7G(20)),c0x.c7G("2",0,3,c0x.n7G(81)),3];q11=[];this.rays=[];for(var t11=+"0";t11 < k11.length;t11++){C11=k11[t11];if(C11 > 1 && !this.extension)continue;K11=this.stx.pixelFromValueAdjusted(a11,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * C11);if(C11 > 1){B11=w4S.xIntersection({x0:f11,x1:O11,y0:n11,y1:K11},X11);q11.push(B11);}else {B11=w4S.xIntersection({x0:O11,x1:O11,y0:n11,y1:X11},K11);q11.push(K11);}G11=C11 > 1?B11:O11;A11=C11 > 1?X11:K11;if(!this.confineToGrid){G11=a11.left;if(O11 > f11){G11+=a11.width;}c0x.n7G(75);A11=c0x.c7G(n11,f11,O11,n11,K11,f11,G11);}if(this.printLevels){if(C11 != 1 || this.extension){o11.fillStyle=T11;c0x.H7G(29);p11=c0x.c7G("0",1692113440);M11=0;if(n11 > X11){M11=-5;o11.textBaseline="bottom";}else {M11=5;o11.textBaseline="top";}if(f11 > O11){N2V="ri";N2V+="g";N2V+="ht";p11=5;o11.textAlign=N2V;}else {p11=-5;o11.textAlign="left";}if(C11 > 1){o11.fillText(F11[t11],B11 + (this.confineToGrid?0:p11),X11);}else {o11.fillText(F11[t11],O11,K11 + (this.confineToGrid?0:M11));}o11.fillStyle=R11;}}this.stx.plotLine(f11,G11,n11,A11,this.highlighted?V11:T11,"segment",o11,a11,s11);if(C11 == +"1"){y11=G11;r11=A11;}this.rays.push([[f11,n11],[G11,A11]]);o11.globalAlpha=+"0.1";o11.beginPath();o11.moveTo(G11,A11);o11.lineTo(f11,n11);o11.lineTo(y11,r11);o11.fill();o11.globalAlpha=1;}o11.textAlign="left";o11.textBaseline=u2V;if(this.confineToGrid){o11.globalAlpha=0.3;o11.beginPath();c0x.H7G(6);o11.strokeRect(f11,n11,c0x.c7G(O11,f11),c0x.C7G(X11,n11));o11.moveTo(f11,q11[1]);o11.lineTo(O11,q11[+"1"]);o11.moveTo(f11,q11[2]);o11.lineTo(O11,q11[+"2"]);if(this.extension){o11.moveTo(q11[3],n11);o11.lineTo(q11[3],X11);o11.moveTo(q11[4],n11);o11.lineTo(q11[4],X11);}o11.stroke();o11.globalAlpha=1;}if(this.highlighted){z11=this.highlighted == "p0"?! !1:![];u11=this.highlighted == "p1"?! !1:!{};this.littleCircle(o11,f11,n11,z11);this.littleCircle(o11,O11,X11,u11);}}},! !{});w4S.Drawing.gannfan=function(){var j2V,h5V,Z5V,P5V;j2V="gan";j2V+="nf";j2V+="an";this.name=j2V;h5V=1968152730;Z5V=1745652818;P5V=2;for(var R5V="1" * 1;c0x.l0V(R5V.toString(),R5V.toString().length,16664) !== h5V;R5V++){this.printLevels=! !"1";P5V+=2;}if(c0x.g3V(P5V.toString(),P5V.toString().length,+"82332") !== Z5V){this.printLevels=!"1";}};w4S.inheritsFrom(w4S.Drawing.gannfan,w4S.Drawing.speedline);w4S.extend(w4S.Drawing.gannfan.prototype,{render:function(U11){var L2V,k2V,P21,L21,d21,c21,m21,b21,l21,H21,Y21,I21,S21,h21,D21,e21,v21,i21,g21,w21,j21,S2V,H2V,K2V,E21,N21;L2V="a";L2V+="uto";k2V="a";k2V+="u";k2V+="t";k2V+="o";P21=this.stx.panels[this.panelName];if(!P21){return;}if(!this.p1){return;}L21=this.stx.pixelFromTick(this.p0[0],P21.chart);d21=this.stx.pixelFromTick(this.p1[+"0"],P21.chart);c21=this.stx.pixelFromValueAdjusted(P21,this.p0[0],this.p0[1]);m21=this.stx.pixelFromValueAdjusted(P21,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",U11);b21=this.getLineColor();c0x.P6o();l21=this.color;if(l21 == k2V || w4S.isTransparent(l21)){l21=this.stx.defaultColor;}U11.strokeStyle=l21;H21=this.fillColor;if(H21 == L2V || w4S.isTransparent(H21)){H21=this.stx.defaultColor;}U11.fillStyle=H21;Y21={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};c0x.n7G(82);h21=[1,2,3,4,8,c0x.C7G(1821696640,1,"2"),c0x.c7G(3,1,c0x.n7G(20)),c0x.c7G(4,1,c0x.H7G(20)),c0x.c7G("8",8,1,c0x.H7G(83))];this.rays=[];for(var x21="0" << 1131752672;x21 < h21.length;x21++){D21=h21[x21];c0x.n7G(84);e21=c0x.c7G(L21,D21,d21,L21);c0x.n7G(85);v21=c0x.c7G(m21,D21,c21,c21);i21=P21.left;if(d21 > L21){i21+=P21.width;}c0x.n7G(75);g21=c0x.C7G(c21,L21,d21,c21,v21,L21,i21);if(this.printLevels){U11.fillStyle=l21;w21=0;j21=+"0";if(c21 > m21){S2V="t";S2V+="o";S2V+="p";j21=5;U11.textBaseline=S2V;}else {H2V="bo";H2V+="t";H2V+="tom";j21=-5;U11.textBaseline=H2V;}if(L21 > d21){w21=5;U11.textAlign="left";}else {K2V="r";K2V+="ig";K2V+="ht";w21=-5;U11.textAlign=K2V;}if(D21 > 1){c0x.H7G(3);U11.fillText(c0x.C7G("x1",D21),c0x.C7G(w21,e21),m21);}else {c0x.H7G(53);U11.fillText(c0x.c7G("1x",1,D21),d21,c0x.C7G(j21,v21,c0x.H7G(3)));}U11.fillStyle=H21;}this.stx.plotLine(L21,i21,c21,g21,this.highlighted?b21:l21,"segment",U11,P21,Y21);this.rays.push([[L21,c21],[i21,g21]]);if(D21 == +"1"){I21=i21;S21=g21;}U11.globalAlpha=0.1;U11.beginPath();U11.moveTo(i21,g21);U11.lineTo(L21,c21);U11.lineTo(I21,S21);U11.fill();U11.globalAlpha=1;}U11.textAlign="left";U11.textBaseline="middle";if(this.highlighted){E21=this.highlighted == "p0"?! ![]:! !"";N21=this.highlighted == "p1"?! !{}:!1;this.littleCircle(U11,L21,c21,E21);this.littleCircle(U11,d21,m21,N21);}}},!"");w4S.Drawing.timecycle=function(){var i2V;i2V="timec";i2V+="ycle";this.name=i2V;this.printLevels=! !{};};w4S.inheritsFrom(w4S.Drawing.timecycle,w4S.Drawing.speedarc);w4S.extend(w4S.Drawing.timecycle.prototype,{intersected:function(f21,n21,J21){var Q21,W21,O21,o21,q21,r2V;Q21=this.p0;W21=this.p1;O21=this.stx.panels[this.panelName];if(!Q21 || !W21 || !O21){return null;}o21={0:Q21,1:W21};for(var Z21 in o21){if(this.pointIntersection(o21[Z21][+"0"],o21[Z21][1],J21)){c0x.H7G(3);this.highlighted=c0x.c7G(Z21,"125.49" - 0 <= 5600?"p":96.67 === (+"2200",9153)?0x2433:(237.07,3513) == "8092" - 0?!"":(156.19,0x19d2));return {action:"drag",point:"p" + Z21};}}q21=this.lineIntersection(f21,n21,J21,"segment");if(q21 || J21.x0 <= this.p0[+"0"] && J21.x1 >= Q21[0]){r2V="m";r2V+="ove";this.highlighted=! ![];return {action:r2V,p0:w4S.clone(Q21),p1:w4S.clone(W21),tick:f21,value:n21};}return null;},render:function(a21){var W2V,V2V,A2V,c2V,X21,G21,A21,F21,k21,p21,V21,u21,s21,C21,y21,R21,t21,B21,r21,T21,M21,U21,m2V,L51,c51,z21;W2V="se";W2V+="g";W2V+="me";W2V+="nt";V2V="l";V2V+="e";V2V+="ft";A2V="a";A2V+="u";A2V+="t";A2V+="o";c2V="a";c2V+="uto";X21=this.stx.panels[this.panelName];if(!X21){return;}if(!this.p1){return;}G21=this.stx.pixelFromTick(this.p0[0],X21.chart);A21=this.stx.pixelFromTick(this.p1[0],X21.chart);F21=this.stx.pixelFromValueAdjusted(X21,this.p0[0],this.p0[1]);k21=this.stx.pixelFromValueAdjusted(X21,this.p1["0" ^ 0],this.p1[1]);p21=0;V21=this.getLineColor();a21.textBaseline="middle";this.stx.canvasFont("stx_yaxis",a21);u21=20;s21=this.p1[+"0"] - this.p0[0];a21.textAlign="center";C21=G21;y21=X21.yAxis.top;R21=X21.yAxis.bottom;t21=this.color;if(t21 == c2V || w4S.isTransparent(t21)){t21=this.stx.defaultColor;}B21=this.fillColor;if(B21 == A2V || w4S.isTransparent(B21)){B21=this.stx.defaultColor;}if(this.printLevels){c0x.n7G(86);R21-=c0x.C7G("7",u21,0);}r21={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};T21=[];a21.save();a21.fillStyle=B21;a21.globalAlpha=0.05;do {C21=this.stx.pixelFromTick(this.p0[0] + p21 * s21,X21.chart);p21++;if(G21 < A21 && C21 > X21.left + X21.width)break;else if(G21 > A21 && C21 < X21.left)break;else if(C21 < X21.left || C21 > X21.left + X21.width)continue;a21.beginPath();a21.moveTo(G21,y21);a21.lineTo(C21,y21);a21.lineTo(C21,R21);a21.lineTo(G21,R21);a21.fill();T21.push({c:p21,x:C21});}while(s21);a21.globalAlpha=1;c0x.H7G(25);M21=c0x.c7G(1,"0");for(var K21=0;K21 < T21.length;K21++){this.stx.plotLine(T21[K21].x,T21[K21].x,0,R21,this.highlighted?V21:t21,"segment",a21,X21,r21);if(this.printLevels){a21.fillStyle=t21;c0x.H7G(87);var Z3G=c0x.c7G(12,2,3,0,24);U21=this.stx.chart.context.measureText(T21[K21].c).width + Z3G;if(U21 < this.stx.layout.candleWidth + M21){a21.fillText(T21[K21].c,T21[K21].x,R21 + 7);M21=+"0";}else {M21+=this.stx.layout.candleWidth;}}}a21.restore();a21.textAlign=V2V;this.stx.plotLine(G21,A21,F21,k21,V21,W2V,a21,X21,r21);if(this.highlighted){m2V="p";m2V+="1";L51=this.highlighted == "p0"?! ![]:![];c51=this.highlighted == m2V?! !{}:!1;this.littleCircle(a21,G21,F21,L51);this.littleCircle(a21,A21,k21,c51);}else {z21=this.stx.valueFromPixel(X21.height / 2,X21);this.setPoint(0,this.p0[0],z21,X21.chart);this.setPoint(1,this.p1["0" << 329150144],z21,X21.chart);}}},!0);w4S.Drawing.regression=function(){c0x.Q6o();this.name="regression";};w4S.inheritsFrom(w4S.Drawing.regression,w4S.Drawing.segment);w4S.extend(w4S.Drawing.regression.prototype,{configs:[M2V,"lineWidth","pattern",C2V,"color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3",w2V,"lineWidth3","pattern3"],copyConfig:function(d51){var n2V,P51;n2V="a";n2V+="ut";n2V+="o";w4S.Drawing.copyConfig(this,d51);P51=this.stx.currentVectorParameters;this.active1=! !P51.active1;this.active2=! !P51.active2;this.active3=! !P51.active3;this.color1=P51.color1 || n2V;this.color2=P51.color2 || "auto";this.color3=P51.color3 || "auto";this.lineWidth1=P51.lineWidth1;this.lineWidth2=P51.lineWidth2;this.lineWidth3=P51.lineWidth3;this.pattern1=P51.pattern1;this.pattern2=P51.pattern2;this.pattern3=P51.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(j51,i51,H51){c0x.Q6o();var D51,l51,m51,g51;if(i51 < 0){return;}this.copyConfig();D51=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,i51,H51,D51.chart);this.penDown=! ![];l51=this.stx;this.field=l51.highlightedDataSetField;if(!this.field && D51 != l51.chart.panel){for(var x51 in l51.chart.seriesRenderers){m51=l51.chart.seriesRenderers[x51];if(m51.params.panel == D51.name){this.field=m51.seriesParams[0].field;break;}}for(var w51 in l51.layout.studies){g51=l51.layout.studies[w51];if(g51.panel == D51.name){this.field=Object.keys(g51.outputMap)[0];break;}}}return !"1";}if(this.accidentalClick(i51,H51)){return this.dragToDraw;}this.setPoint(1,i51,H51,D51.chart);this.penDown=! !0;return ! ![];;},getYValue:function(e51){var b51,Y51,I51,E51,v51,h51,S51;b51=this.stx.chart.dataSet[e51];Y51=this.stx.chart.dataSet[e51];if(!b51){return null;}I51=this.stx.panels[this.panelName];E51=this.stx.getYAxisByField(I51,this.field) || I51.yAxis;if(this.stx.charts[I51.name] && I51.chart.transformFunc && E51 == I51.yAxis){Y51=b51.transform;}if(!Y51){return null;}v51=null;c0x.P6o();h51=null;S51=this.stx.defaultPlotField || "Close";if(this.field){h51=w4S.existsInObjectChain(Y51,this.field);if(!h51){return null;}v51=h51=h51.obj[h51.member];if(b51 != Y51){v51=w4S.existsInObjectChain(b51,this.field);v51=v51.obj[v51.member];}if(typeof h51 == "object"){h51=h51[S51];v51=v51[S51];}}else {h51=Y51[S51];v51=b51[S51];}return {transformed:h51,untransformed:v51};},render:function(n51){var Q51,J51,W51,t51,O51,A51,q51,C51,V51,s51,y51,r51,G51,B51,N51,o51,z51,u51,T51,K51,U51,R51,p51,M51,a51,X51,F51,k51,c0w,L0w,P0w,f51,r1V,c1V,A1V,U2V,d0w,l0w;Q51=this.stx.panels[this.panelName];if(!Q51){return;}if(!this.p1){return;}if(this.p0["0" * 1] < 0 || this.p1[0] < 0){return;}J51=this.stx.pixelFromTick(this.p0[0],Q51.chart);W51=this.stx.pixelFromTick(this.p1[+"0"],Q51.chart);if(J51 < Q51.left && W51 < Q51.left){return;}if(J51 > Q51.right && W51 > Q51.right){return;}t51=this.stx.getYAxisByField(Q51,this.field);O51=[];A51=[];q51=0;C51=0;V51=0;s51=0;y51=Math.min(this.p1["0" & 2147483647],this.p0["0" << 1539120032]);c0x.H7G(15);var P3G=c0x.c7G(1,2);r51=Math.max(this.p1[0],this.p0[0]) + P3G;c0x.H7G(6);G51=c0x.C7G(r51,y51);for(var Z51=y51;Z51 < r51;Z51++){B51=this.getYValue(Z51);if(B51){O51.push(B51.transformed);A51.push(B51.untransformed);}}N51=O51.length;c0x.H7G(88);o51=c0x.c7G(N51,1,2,N51);z51=Math.pow(o51,2);c0x.n7G(89);u51=c0x.C7G(N51,2,1,3,o51);for(Z51=0;Z51 < N51;Z51++){V51+=N51 * O51[Z51] - q51;q51+=O51[Z51];s51+=N51 * A51[Z51] - C51;C51+=A51[Z51];}c0x.n7G(90);T51=c0x.C7G(o51,N51,N51,z51,V51,q51,u51);c0x.H7G(91);K51=c0x.C7G(T51,o51,N51,q51);c0x.n7G(90);U51=c0x.C7G(o51,N51,N51,z51,s51,C51,u51);c0x.P6o();c0x.H7G(91);R51=c0x.c7G(T51,o51,N51,C51);if(this.p0["0" >> 250835872] < this.p1[0]){p51=K51;c0x.n7G(92);M51=c0x.C7G(G51,T51,K51);this.p0[1]=R51;c0x.n7G(92);this.p1[1]=c0x.c7G(G51,U51,R51);}else {c0x.H7G(92);p51=c0x.c7G(G51,T51,K51);M51=K51;c0x.H7G(29);this.p0[c0x.c7G("1",16631424)]=c0x.c7G(G51,U51,R51,c0x.H7G(92));this.p1[1]=R51;}a51=this.stx.pixelFromTransformedValue(p51,Q51,t51);X51=this.stx.pixelFromTransformedValue(M51,Q51,t51);F51=this.getLineColor();k51={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(J51,W51,a51,X51,F51,"segment",n51,Q51,k51);c0x.n7G(6);this.stx.plotLine(J51,J51,c0x.c7G(a51,20),c0x.c7G(20,a51,c0x.n7G(3)),F51,"segment",n51,Q51,k51);c0x.n7G(6);this.stx.plotLine(W51,W51,c0x.c7G(X51,20),c0x.c7G(20,X51,c0x.n7G(3)),F51,"segment",n51,Q51,k51);if(this.active1 || this.active2 || this.active3){c0x.H7G(20);c0w=c0x.c7G(N51,q51);L0w=0;for(Z51="0" | 0;Z51 < N51;Z51++){L0w+=Math.pow(O51[Z51] - c0w,2);}c0x.n7G(20);P0w=Math.sqrt(c0x.C7G(N51,L0w));f51={context:n51,panel:Q51,points:{0:{x:J51,v:p51},1:{x:W51,v:M51}},stddev:P0w,yAxis:t51};this.lines={};if(this.active1){this.renderStddev(5088 != 607?("9851" & 2147483647) <= 702.39?("P","9.40e+3" & 2147483647):"1":6.00e+3,895.15 != (4048,5180)?("3309" ^ 0,692.16) == 6478?262.54:"p":(0x1aaa,0xa39),f51);this.renderStddev(9980 <= (9148,887.81)?238.09:"1",(8727,2800) < 8360?"n":1820 != (477.42,648.92)?(9250,392.17) === 14.93?778.56:"Z":"x",f51);}if(this.active2){this.renderStddev("2",(6030,7750) != 7460?"p":("9460" & 2147483647,+"5161") < (+"706.41",2610)?! !"1":4382 != 2610?(!{},8.25e+3):"Z",f51);this.renderStddev("2",4848 !== (53,5390)?"n":925.13 != (1800,4570)?0x18dc:0xbe4,f51);}if(this.active3){this.renderStddev("3",879 !== 744.87?"p":+"0x1d76",f51);this.renderStddev("3","n",f51);}}if(!this.highlighted){this.pixelX=[J51,W51];r1V=244905844;c1V=-2138727502;A1V=2;for(var W1V=1;c0x.l0V(W1V.toString(),W1V.toString().length,92397) !== r1V;W1V++){this.pixelY=[a51,X51];A1V+=2;}if(c0x.g3V(A1V.toString(),A1V.toString().length,14456) !== c1V){this.pixelY=[a51,X51];}}else {U2V="p";U2V+="1";d0w=this.highlighted == "p0"?! ![]:!{};l0w=this.highlighted == U2V?! !{}:!1;this.littleCircle(n51,J51,a51,d0w);this.littleCircle(n51,W51,X51,l0w);}},renderStddev:function(w0w,N0w,j0w){var g9V,l2V,q2V,x2V,I0w,Q0w,Z0w,J0w,h0w,S0w,e0w,b0w,Y0w,m0w,i0w,v0w,D0w,H0w,g0w,x0w,W0w,o0w,E0w,f0w;g9V="mi";g9V+="dd";g9V+="l";g9V+="e";l2V="segmen";l2V+="t";q2V="li";q2V+="neWidt";q2V+="h";x2V="pa";x2V+="tt";x2V+="ern";c0x.n7G(19);I0w=c0x.C7G(N0w,"stddev",w0w);c0x.H7G(3);Q0w=c0x.C7G(w0w,"color");c0x.n7G(3);Z0w=c0x.C7G(w0w,x2V);c0x.n7G(3);J0w=c0x.C7G(w0w,q2V);h0w=j0w.points;S0w=h0w[0].v;e0w=h0w[1].v;b0w=j0w.stddev;Y0w=N0w === "n"?w0w * -1:w0w * 1;m0w=this.stx;i0w=j0w.panel;v0w=j0w.yAxis;D0w={name:I0w,color:this.getLineColor(this[Q0w]),type:l2V,y0:m0w.pixelFromTransformedValue(S0w + b0w * Y0w,i0w,v0w),y1:m0w.pixelFromTransformedValue(e0w + b0w * Y0w,i0w,v0w),params:{pattern:this[Z0w],lineWidth:this[J0w]}};if(this.lines){this.lines[I0w]=D0w;}H0w=j0w.context;g0w=h0w[+"0"].x;x0w=h0w[1].x;m0w.plotLine(g0w,x0w,D0w.y0,D0w.y1,D0w.color,D0w.type,H0w,i0w,D0w.params);m0w.plotLine(g0w,g0w,D0w.y0 - 10,D0w.y0 + 10,D0w.color,D0w.type,H0w,i0w,D0w.params);m0w.plotLine(x0w,x0w,D0w.y1 - 10,D0w.y1 + 10,D0w.color,D0w.type,H0w,i0w,D0w.params);c0x.H7G(3);W0w=c0x.C7G((1160,2800) === "816.45" * 1?(! !1,"D"):+"492.64" === (421.87,2871)?775:"\u03c3",w0w);c0x.H7G(32);var o3G=c0x.c7G(0,1,9,14);o0w=Math.max(g0w,x0w) + o3G;E0w=g0w < x0w?D0w.y1:D0w.y0;H0w.fillStyle=D0w.color;H0w.save();H0w.textBaseline=g9V;H0w.fillText(W0w,o0w,E0w);H0w.restore();if(j0w.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(g0w >= i0w.chart.left && g0w <= i0w.chart.right || x0w >= i0w.chart.left && x0w <= i0w.chart.right){c0x.n7G(22);f0w=c0x.C7G(g0w < x0w?e0w:S0w,b0w,Y0w);m0w.endClip();m0w.createYAxisLabel(i0w,j0w.formatPrice(f0w,v0w),E0w,D0w.color,null,H0w,v0w);m0w.startClip(i0w.name);}}},intersected:function(q0w,a0w,K0w){var X0w,C0w,J9V,G0w,R0w,t0w,T0w,O0w;if(!this.pixelX || !this.pixelY){return null;}X0w=this.repositionIntersection(q0w,a0w);if(X0w){return X0w;}C0w={0:this.pixelX,1:this.pixelY};for(var n0w="0" - 0;n0w < 2;n0w++){if(this.pointIntersection(C0w[0][n0w],C0w[1][n0w],K0w,!0)){J9V="dr";J9V+="a";J9V+="g";c0x.n7G(3);this.highlighted=c0x.c7G(n0w,8480 <= 8470?("4720" >> 1881436512,618.91) !== 7019?("2670" - 0,730) !== 2476?(8.97e+3,0x1364):"t":(5.96e+3,"T"):"p");return {action:J9V,point:(9990 == ("8790" ^ 0)?"a":(2690,2038) == 9060?(+"0x16cb","7.56e+3" & 2147483647):"p") + n0w};}}c0x.Q6o();G0w=this;R0w=this.pixelX[0];t0w=this.pixelX[1];T0w=function(B0w){c0x.P6o();var p0w,M0w;p0w=[R0w,B0w.y0];M0w=[t0w,B0w.y1];return G0w.lineIntersection(q0w,a0w,K0w,G0w.name,p0w,M0w,! !{});};O0w=T0w({y0:this.pixelY[0],y1:this.pixelY[1]});if(!O0w && this.lines){for(var A0w in this.lines){if(T0w(this.lines[A0w])){O0w=! !1;break;}}}if(O0w){this.highlighted=! ![];return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:q0w,value:a0w};}return null;},repositionIntersection:function(F0w,k0w){var T9V;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){T9V="d";T9V+="r";T9V+="a";T9V+="g";if(this.highlighted === ! !1){return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:F0w,value:k0w};}return {action:T9V,point:this.highlighted};}return !"1";},lineIntersection:function(c8w,P8w,u0w,U0w,s0w,y0w,L8w){var z0w,V0w,r0w;if(!L8w){c0x.n7G(3);console.log(c0x.c7G(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",U0w));return ![];}if(!s0w){s0w=this.p0;}if(!y0w){y0w=this.p1;}if(!(s0w && y0w)){return !1;}z0w=this.stx;V0w=w4S.convertBoxToPixels(z0w,this.panelName,u0w);if(V0w.x0 === undefined){return !1;}r0w={x0:s0w[0],x1:y0w[0],y0:s0w[1],y1:y0w["1" ^ 0]};return w4S.boxIntersects(V0w.x0,V0w.y0,V0w.x1,V0w.y1,r0w.x0,r0w.y0,r0w.x1,r0w.y1);},boxIntersection:function(l8w,D8w,d8w){if(d8w.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || d8w.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !1;}if(!this.stx.repositioningDrawing && (d8w.cy1 < this.pixelY[0] || d8w.cy0 > this.pixelY[1])){return !{};}return ! !"1";},reconstruct:function(H8w,i8w){this.stx=H8w;this.color=i8w.col;this.color1=i8w.col1;this.color2=i8w.col2;this.color3=i8w.col3;this.active1=i8w.dev1;this.active2=i8w.dev2;this.active3=i8w.dev3;this.panelName=i8w.pnl;this.pattern=i8w.ptrn;this.pattern1=i8w.ptrn1;this.pattern2=i8w.ptrn2;this.pattern3=i8w.ptrn3;this.lineWidth=i8w.lw;this.lineWidth1=i8w.lw1;this.lineWidth2=i8w.lw2;this.lineWidth3=i8w.lw3;this.d0=i8w.d0;this.d1=i8w.d1;this.tzo0=i8w.tzo0;this.tzo1=i8w.tzo1;this.field=i8w.fld;this.adjust();},serialize:function(){c0x.Q6o();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);w4S.Drawing.trendline=function(){c0x.Q6o();this.name="trendline";};w4S.inheritsFrom(w4S.Drawing.trendline,w4S.Drawing.segment);w4S.Drawing.trendline.prototype.configs=["color",d9V,"lineWidth","pattern","font"];w4S.Drawing.trendline.prototype.measure=function(){;};w4S.Drawing.trendline.prototype.reconstruct=function(m8w,g8w){w4S.Drawing.segment.prototype.reconstruct.call(this,m8w,g8w);this.callout=new w4S.Drawing.callout();this.callout.reconstruct(m8w,g8w.callout);};w4S.Drawing.trendline.prototype.serialize=function(){var x8w;x8w=w4S.Drawing.segment.prototype.serialize.call(this);x8w.callout=this.callout.serialize();return x8w;};w4S.Drawing.trendline.prototype.render=function(I8w){var w8w,J8w,v8w,b8w,j8w,h8w,S8w,Y8w,e8w,W8w,E8w,o8w,f8w,N8w,Q8w,Z8w,n8w,O8w,G9V,q8w,a8w;w8w=this.stx.panels[this.panelName];if(!w8w){return;}w4S.Drawing.segment.prototype.render.call(this,I8w);if(!this.callout){this.callout=new w4S.Drawing.callout();J8w=w4S.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,J8w);}this.callout.p0=w4S.clone(this.p0);v8w=this.stx.pixelFromTick(this.p0[+"0"],w8w.chart);b8w=this.stx.pixelFromTick(this.p1[0],w8w.chart);j8w=this.stx.pixelFromValueAdjusted(w8w,this.p0[0],this.p0[1]);h8w=this.stx.pixelFromValueAdjusted(w8w,this.p1[0],this.p1[1]);if(!isFinite(j8w) || !isFinite(h8w)){return;}c0x.H7G(9);S8w=c0x.c7G(b8w,v8w,2);c0x.Q6o();c0x.H7G(93);Y8w=c0x.c7G(h8w,j8w,"2");this.fontSize=w4S.stripPX(this.font && this.font.size || 13);c0x.H7G(94);var R3G=c0x.C7G(17,291040,102720,8554,1);c0x.H7G(58);var N3G=c0x.c7G(3985,5340,4);c0x.H7G(3);var u3G=c0x.c7G(4127,243);c0x.H7G(94);var j3G=c0x.c7G(2,1,2233,2233,638);c0x.n7G(72);var k3G=c0x.c7G(363,367,19);c0x.H7G(3);var L3G=c0x.C7G(1975,1975);c0x.H7G(6);var S3G=c0x.C7G(2869,2718);c0x.n7G(36);var H3G=c0x.C7G(10,61826,5142,13);c0x.H7G(13);var K3G=c0x.C7G(10,23,2,4708);c0x.n7G(95);var i3G=c0x.C7G(1,6,55,55,44);e8w=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((+"1220",R3G) <= 235.23?N3G:u3G > (j3G,k3G)?(8.07,L3G):(S3G,H3G) !== (+"910.44",K3G)?"c":! !{})?0:i3G);W8w=Math.sqrt(Math.pow(b8w - v8w,2) + Math.pow(h8w - j8w,2));c0x.H7G(96);var r3G=c0x.c7G(19,10,13,5);c0x.H7G(97);var c3G=c0x.C7G(12,21,8,16);c0x.n7G(15);var A3G=c0x.c7G(12,11);E8w=e8w / (W8w || e8w) * (this.p1[r3G] < this.p0["1" & 2147483647]?c3G:A3G);c0x.n7G(98);o8w=c0x.c7G(Y8w,h8w,S8w,E8w);c0x.n7G(99);f8w=c0x.C7G(b8w,S8w,Y8w,E8w);this.callout.p0[0]=this.stx.tickFromPixel(o8w,w8w.chart);this.callout.p0[+"1"]=this.stx.priceFromPixel(f8w,w8w);this.callout.v0=this.callout.p0[1];this.callout.p1=w4S.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};N8w=this.p1["1" - 0] - this.p0[+"1"];c0x.H7G(5);var V3G=c0x.C7G(10,0,8);c0x.H7G(15);var W3G=c0x.C7G(12,13);c0x.n7G(61);var m3G=c0x.c7G(5,3,10);c0x.n7G(100);var M3G=c0x.c7G(20,6,657047920,1642619915,657047966);this.callout.text="" + Number(N8w).toFixed(V3G) + (this.p0[W3G] === 0?"":" (" + Number(100 * N8w / this.p0[1]).toFixed(m3G) + "%) ") + "" + Math.abs(this.p1["0" >> M3G] - this.p0[0]) + " Bars";Q8w=Math.floor((this.p0["0" * 1] + this.p1["0" * 1]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){n8w=this.stx.pixelFromTick(Q8w,w8w.chart);c0x.H7G(101);O8w=c0x.C7G(j8w,v8w,v8w,j8w,h8w,n8w,b8w);Z8w=this.stx.priceFromPixel(O8w,w8w) || Y8w;}else {Z8w=this.stx.priceFromPixel(Y8w,w8w);}this.callout.stem={t:Q8w,v:Z8w};this.callout.renderText();this.callout.render(I8w);if(this.highlighted){G9V="p";G9V+="1";q8w=this.highlighted == "p0"?! ![]:![];a8w=this.highlighted == G9V?! !{}:![];this.littleCircle(I8w,v8w,j8w,q8w);this.littleCircle(I8w,b8w,h8w,a8w);}};w4S.Drawing.trendline.prototype.lineIntersection=function(X8w,C8w,G8w,T8w){return w4S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,X8w,C8w,G8w,"segment");};w4S.Drawing.trendline.prototype.intersected=function(R8w,t8w,B8w){var A8w,K8w;if(!this.p0 || !this.p1){return null;}A8w=this.callout.intersected(R8w,t8w,B8w);K8w=w4S.Drawing.segment.prototype.intersected.call(this,R8w,t8w,B8w);this.callout.highlighted=! !(A8w || K8w);if(K8w){return K8w;}else if(A8w){return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:R8w,value:t8w};}return null;};w4S.Drawing.average=function(){this.name="average";};w4S.inheritsFrom(w4S.Drawing.average,w4S.Drawing.regression);w4S.extend(w4S.Drawing.average.prototype,{configs:w4S.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var a9V,f9V,v9V,p8w,F8w,V8w,s8w,k8w,M8w;c0x.P6o();if(this.p0 && this.p1){a9V=".m";a9V+="Measu";a9V+="r";a9V+="e";f9V=" &s";f9V+="igm";f9V+="a";f9V+=";";v9V="&e";v9V+="ns";v9V+="p";v9V+=";";this.stx.setMeasure(0,!{},this.p0[0],this.p1[0],!"",this.name);p8w=[];F8w="";if(this.active1){p8w.push(88.89 == (+"2182",9410)?(4460,7890) >= (9691,243)?(0x1ed8,26.01):4.41e+3:"1");}if(this.active2){p8w.push("4560" * 1 == 1440?642.56 > (8264,448.4)?! !{}:("k",7.81e+3):"2");}if(this.active3){p8w.push("3");}if(p8w.length){F8w=v9V + p8w.join(", ") + f9V;}V8w=(this.stx.drawingContainer || document).querySelector(a9V);s8w=this.stx.controls.mSticky;k8w=s8w && s8w.querySelector(".mStickyInterior");if(V8w){V8w.innerHTML+=F8w;}if(k8w){M8w=[];M8w.push(w4S.capitalize(this.name));M8w.push(this.field || this.stx.defaultPlotField || "Close");M8w.push(k8w.innerHTML + F8w);k8w.innerHTML=M8w.join("<br>");}}},render:function(c3w){var y8w,z8w,u8w,D3w,U8w,x3w,w3w,S3w,j3w,m3w,L3w,d3w,i3w,l3w,r8w,H3w,g3w,h3w,b3w,P3w,j3V,k3V,L3V,D9V,Y3w,I3w;y8w=this.stx.panels[this.panelName];if(!y8w){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < ("0" | 0)){return;}z8w=this.stx.pixelFromTick(this.p0[0],y8w.chart);u8w=this.stx.pixelFromTick(this.p1[0],y8w.chart);if(z8w < y8w.left && u8w < y8w.left){return;}if(z8w > y8w.right && u8w > y8w.right){return;}function v3w(e3w,E3w){if(E3w && E3w.priceFormatter){e3w=E3w.priceFormatter(U8w,y8w,e3w);}else {e3w=U8w.formatYAxisPrice(e3w,y8w,null,E3w);}c0x.P6o();return e3w;}D3w=this.stx.getYAxisByField(y8w,this.field);U8w=this.stx;x3w=Math.min(this.p1[0],this.p0[0]);c0x.n7G(102);var C3G=c0x.C7G(2,0,1,2);w3w=Math.max(this.p1[0],this.p0[0]) + C3G;c0x.n7G(6);S3w=c0x.c7G(w3w,x3w);j3w=+"0";m3w=[];for(L3w=x3w;L3w < w3w;L3w++){d3w=this.getYValue(L3w);if(d3w !== null){j3w+=d3w.transformed;m3w.push(d3w);}}c0x.Q6o();i3w=m3w.length;if(!i3w){return;}c0x.n7G(20);l3w=c0x.C7G(i3w,j3w);r8w=U8w.pixelFromTransformedValue(l3w,y8w,D3w);H3w=this.getLineColor();g3w={pattern:this.pattern,lineWidth:this.lineWidth};U8w.plotLine(z8w,u8w,r8w,r8w,H3w,"segment",c3w,y8w,g3w);c0x.n7G(6);U8w.plotLine(z8w,z8w,c0x.c7G(r8w,20),c0x.C7G(r8w,"20",c0x.n7G(103)),H3w,"segment",c3w,y8w,g3w);c0x.H7G(6);U8w.plotLine(u8w,u8w,c0x.c7G(r8w,20),c0x.c7G(20,r8w,c0x.n7G(3)),H3w,"segment",c3w,y8w,g3w);if(this.axisLabel && !this.highlighted && !this.penDown){if(z8w >= y8w.chart.left && z8w <= y8w.chart.right || u8w >= y8w.chart.left && u8w <= y8w.chart.right){U8w.endClip();U8w.createYAxisLabel(y8w,v3w(l3w,D3w),r8w,H3w,null,c3w,D3w);U8w.startClip(y8w.name);}}if(this.active1 || this.active2 || this.active3){h3w=0;for(L3w=0;L3w < i3w;L3w++){d3w=m3w[L3w];h3w+=Math.pow(d3w.transformed - l3w,2);}c0x.n7G(20);b3w=Math.sqrt(c0x.C7G(i3w,h3w));P3w={context:c3w,formatPrice:v3w,panel:y8w,points:{0:{x:z8w,v:l3w},1:{x:u8w,v:l3w}},stddev:b3w,yAxis:D3w};this.lines={};if(this.active1){this.renderStddev("1","p",P3w);this.renderStddev(("738.59" * 1,9580) < 5420?("174.15" * 1,639.86):8157 <= 677?(514.49,8.06e+3):505.01 < 6884?"1":"V",6150 === 9930?8880 < +"679.91"?6.20e+3:("0xcb3" ^ 0,0x185f):"n",P3w);}if(this.active2){this.renderStddev(("424" | 8) != 4611?(235.39,715.74) != 121.93?"2":(671.27,1293) >= 207.1?95.71:! !0:("h","h"),"p",P3w);this.renderStddev("2",(202,3970) <= 3770?7.87e+3:(758.95,21.06) >= 916.25?538.85:"n",P3w);}if(this.active3){this.renderStddev(192.63 > (673,7230)?+"726.90":(+"140.85",+"562.86") >= 8190?9493 === "460.37" * 1?0x1266:"M":"3","p",P3w);j3V=1539794600;k3V=-946926957;L3V=2;for(var H3V="1" - 0;c0x.g3V(H3V.toString(),H3V.toString().length,52284) !== j3V;H3V++){this.renderStddev(469436 != (230816,6901)?"n":("6142" & 2147483647) !== 9133?"T":"5164" - 0 === 5521?(![],0xe564):(0x9da8,2182147),(8783,8483) == ("53" << 855149760,131146)?6158565:509 >= 3898?"T":"5810057" >> 1979846752,P3w);L3V+=2;}if(c0x.l0V(L3V.toString(),L3V.toString().length,70005) !== k3V){this.renderStddev(571530 == (+"750163",3038)?"T":8273 === 6475?"T":("1783" ^ 0) == 4163?(! !{},0xc1d1):(0x3e3f,2337639),(9533,3849) !== (21,319212)?"4741277" >> 1798549024:524 > 7291?"T":7741769,P3w);}this.renderStddev(722.64 !== (240.25,+"5288")?"3":5830 === 7216?"T":9963 !== 7772?(! !{},"0x2099" & 2147483647):(0x117c,3.48e+3),(+"9500",5697) === (41,815.32)?1.88e+2:118 < 3611?"n":8.72e+3,P3w);}}if(!this.highlighted){this.pixelX=[z8w,u8w];this.pixelY=[r8w,r8w];}else {D9V="p";D9V+="0";Y3w=this.highlighted == D9V?! !{}:! !0;I3w=this.highlighted == "p1"?! !{}:!{};this.littleCircle(c3w,z8w,r8w,Y3w);this.littleCircle(c3w,u8w,r8w,I3w);}},reconstruct:function(Q3w,N3w){this.axisLabel=N3w.al;w4S.Drawing.regression.prototype.reconstruct.call(this,Q3w,N3w);},serialize:function(){var Z3w;Z3w=w4S.Drawing.regression.prototype.serialize.call(this);Z3w.al=this.axisLabel;return Z3w;}},!0);w4S.Drawing.quadrant=function(){var B9V;B9V="qu";B9V+="a";B9V+="d";B9V+="rant";this.name=B9V;};w4S.inheritsFrom(w4S.Drawing.quadrant,w4S.Drawing.regression);w4S.extend(w4S.Drawing.quadrant.prototype,{configs:[t9V,"fillColor","lineWidth",X9V],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;c0x.Q6o();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(f3w){var F9V,O9V,W3w,J3w,o3w,n3w,C3w,O3w,q3w,K3w,G3w,R3w,t3w,A3w,B3w,p3w,T3w,v4V,f4V,a4V,a3w,M3w,X3w,k3w,V3w;F9V="s";F9V+="egm";F9V+="e";F9V+="nt";O9V="s";O9V+="egment";W3w=this.stx;J3w=W3w.panels[this.panelName];if(!J3w){return;}if(!this.p1){return;}o3w=W3w.pixelFromTick(this.p0[0],J3w.chart);n3w=W3w.pixelFromTick(this.p1[0],J3w.chart);if(o3w < J3w.left && n3w < J3w.left){return;}if(o3w > J3w.right && n3w > J3w.right){return;}C3w=this.stx.getYAxisByField(J3w,this.field);O3w=null;q3w=null;for(var F3w=Math.min(this.p1[0],this.p0[0]);F3w <= Math.max(this.p1[0],this.p0[0]);F3w++){K3w=this.getYValue(F3w);if(K3w !== null){if(O3w === null || K3w.transformed > O3w){O3w=K3w.transformed;}if(q3w === null || K3w.transformed < q3w){q3w=K3w.transformed;}}}G3w=W3w.pixelFromTransformedValue(O3w,J3w,C3w);c0x.n7G(104);R3w=W3w.pixelFromTransformedValue(c0x.C7G(3,4,O3w,q3w),J3w,C3w);c0x.H7G(105);t3w=W3w.pixelFromTransformedValue(c0x.C7G(2,O3w,q3w,"3"),J3w,C3w);c0x.n7G(9);A3w=W3w.pixelFromTransformedValue(c0x.c7G(q3w,O3w,2),J3w,C3w);c0x.n7G(106);B3w=W3w.pixelFromTransformedValue(c0x.c7G(2,O3w,q3w,3),J3w,C3w);c0x.H7G(106);p3w=W3w.pixelFromTransformedValue(c0x.C7G(3,O3w,q3w,4),J3w,C3w);T3w=W3w.pixelFromTransformedValue(q3w,J3w,C3w);this.p0[1]=+"0";v4V=740800343;f4V=1283410770;a4V=+"2";for(var B4V=1;c0x.l0V(B4V.toString(),B4V.toString().length,40159) !== v4V;B4V++){this.p1[1]=![];a3w=this.getLineColor();M3w=this.fillColor;a4V+=+"2";}if(c0x.l0V(a4V.toString(),a4V.toString().length,25324) !== f4V){this.p1[9]=! !{};a3w=this.getLineColor();M3w=this.fillColor;}if(M3w == "auto" || w4S.isTransparent(M3w)){M3w=W3w.defaultColor;}f3w.fillStyle=M3w;X3w={pattern:this.pattern,lineWidth:this.lineWidth};W3w.plotLine(o3w,n3w,G3w,G3w,a3w,"segment",f3w,J3w,X3w);W3w.plotLine(o3w,n3w,T3w,T3w,a3w,O9V,f3w,J3w,X3w);if(this.name == "quadrant"){W3w.plotLine(o3w,n3w,R3w,R3w,a3w,"segment",f3w,J3w,X3w);W3w.plotLine(o3w,n3w,p3w,p3w,a3w,"segment",f3w,J3w,X3w);}else if(this.name == "tirone"){W3w.plotLine(o3w,n3w,t3w,t3w,a3w,"segment",f3w,J3w,X3w);W3w.plotLine(o3w,n3w,B3w,B3w,a3w,"segment",f3w,J3w,X3w);}W3w.plotLine(o3w,o3w,G3w,T3w,a3w,"segment",f3w,J3w,X3w);W3w.plotLine(n3w,n3w,G3w,T3w,a3w,"segment",f3w,J3w,X3w);W3w.plotLine(o3w,n3w,A3w,A3w,a3w,F9V,f3w,J3w,w4S.extend(X3w,{opacity:this.name == "tirone"?0.2:1}));f3w.globalAlpha=0.1;f3w.beginPath();c0x.n7G(6);f3w.fillRect(o3w,G3w,c0x.c7G(n3w,o3w),c0x.c7G(T3w,G3w));if(this.name == "quadrant"){c0x.n7G(6);f3w.fillRect(o3w,R3w,c0x.c7G(n3w,o3w),c0x.c7G(p3w,R3w));}else if(this.name == "tirone"){c0x.H7G(6);f3w.fillRect(o3w,t3w,c0x.C7G(n3w,o3w),c0x.C7G(B3w,t3w));}f3w.globalAlpha=1;if(!this.highlighted){this.pixelX=[o3w,n3w];this.pixelY=[G3w,T3w,A3w];if(this.name === "quadrant"){this.pixelY.push(R3w,p3w);}if(this.name === "tirone"){this.pixelY.push(t3w,B3w);}}else {k3w=this.highlighted == "p0"?!0:! !"";V3w=this.highlighted == "p1"?!0:!"1";this.littleCircle(f3w,o3w,A3w,k3w);this.littleCircle(f3w,n3w,A3w,V3w);}},intersected:function(u3w,U3w,c9w){var L9w,p9V,z3w,P9w,M5V,C5V,w5V;var {pixelX:s3w, pixelY:y3w}=this;if(!s3w || !y3w){return null;}L9w=this.repositionIntersection(u3w,U3w);if(L9w){return L9w;}for(var r3w=0;r3w < 2;r3w++){if(this.pointIntersection(s3w[r3w],y3w[2],c9w,!"")){p9V="dra";p9V+="g";c0x.n7G(3);this.highlighted=c0x.C7G(r3w,"p");return {action:p9V,point:(1658 >= 3240?(+"734.16",3160) <= (8830,942.28)?0x1e4e:("6.39e+3" & 2147483647,0x214d):"p") + r3w};}}z3w=[];s3w.forEach(d9w=>{var F1V,p1V,y1V;F1V=880395420;p1V=-1291732725;c0x.Q6o();y1V=2;for(var s1V=+"1";c0x.g3V(s1V.toString(),s1V.toString().length,38364) !== F1V;s1V++){z3w.push({p0:[d9w,y3w[0]],p1:[d9w,y3w[1]]});y1V+=2;}if(c0x.g3V(y1V.toString(),y1V.toString().length,"87707" - 0) !== p1V){z3w.push({p0:[d9w,y3w[+"8"]],p1:[d9w,y3w[2]]});}});y3w.forEach(l9w=>{c0x.Q6o();z3w.push({p0:[s3w[0],l9w],p1:[s3w[1],l9w]});});P9w=z3w.some(({p0:D9w, p1:i9w})=>{c0x.P6o();return this.lineIntersection(u3w,U3w,c9w,this.name,D9w,i9w,! ![]);});if(P9w){this.highlighted=! ![];return {action:"move",p0:w4S.clone(this.p0),p1:w4S.clone(this.p1),tick:u3w,value:U3w};}M5V=1371721187;C5V=-1279225544;w5V=2;for(var U5V=1;c0x.g3V(U5V.toString(),U5V.toString().length,90240) !== M5V;U5V++){return 1;}if(c0x.l0V(w5V.toString(),w5V.toString().length,+"71601") !== C5V){return null;}},reconstruct:function(m9w,H9w){this.stx=m9w;this.color=H9w.col;this.fillColor=H9w.fc;this.panelName=H9w.pnl;this.pattern=H9w.ptrn;this.lineWidth=H9w.lw;this.d0=H9w.d0;this.d1=H9w.d1;this.tzo0=H9w.tzo0;this.tzo1=H9w.tzo1;this.field=H9w.fld;this.adjust();},serialize:function(){c0x.P6o();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !1);w4S.Drawing.tirone=function(){c0x.P6o();this.name="tirone";};w4S.inheritsFrom(w4S.Drawing.tirone,w4S.Drawing.quadrant);w4S.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!1;this.annotationPoints=[];this.edit=null;};w4S.inheritsFrom(w4S.Drawing.elliottwave,w4S.Drawing.annotation);w4S.Drawing.elliottwave.defaultTemplate={impulse:[(593.13,3810) === (5220,298.41)?0x138c:345 !== (1507,364)?143 !== 9775?"I":!{}:(+"9.54e+3",!{}),y9V,"III",E9V,(699.12,525.21) != (227.01,285.93)?"V":3.51e+2],corrective:["76" << 253611424 <= (692.62,+"7950")?(524.49,+"1820") == (4220,2490)?842:(+"5776","6763" - 0) <= (5880,"296.45" * 1)?("0x5b8" & 2147483647,0x145e):"A":(0x1b67,4.47e+3),9360 >= ("9033" | 64)?"B":(0xe36,!0),"C"],decoration:"enclosed",showLines:! !1};w4S.Drawing.elliottwave.prototype.initializeSettings=function(g9w){c0x.Q6o();g9w.currentVectorParameters.waveParameters=w4S.clone(w4S.Drawing.elliottwave.defaultTemplate);};w4S.Drawing.elliottwave.prototype.configs=["color",s9V,Q9V,"pattern","font","waveParameters"];w4S.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];w4S.Drawing.elliottwave.prototype.construct=function(x9w,j9w){var w9w;this.stx=x9w;this.panelName=j9w.name;w9w=x9w.currentVectorParameters;Object.assign(this,w9w.waveParameters);};w4S.Drawing.elliottwave.prototype.serialize=function(){var v9w;v9w={};for(var h9w=0;h9w < this.points.length;h9w++){c0x.n7G(3);v9w[c0x.C7G(h9w,551 == 9039?("c",0x1b93):(9300,3180) !== (2130,1200)?(+"1510",117.14) == (176.76,640.67)?56.08:"d":(! !0,0x11cb))]=this[c0x.c7G(h9w,"d")];c0x.H7G(3);v9w[c0x.C7G(h9w,"tzo")]=this[c0x.C7G(h9w,"tzo")];c0x.H7G(3);v9w[c0x.C7G(h9w,"v")]=this[c0x.c7G(h9w,5610 !== (317.72,3443)?"v":("6.58e+3" ^ 0,"t"))];}v9w.annotations=this.annotationPoints.join((920.64,2580) < 417?(9362,603.59) <= 361.46?287.51:(5.18e+3,3.11e+3):",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:w4S.removeNullValues(w4S.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},v9w);};w4S.Drawing.elliottwave.prototype.reconstruct=function(Y9w,b9w){var I9V;I9V="f";I9V+="ami";I9V+="l";I9V+="y";c0x.P6o();this.stx=Y9w;this.color=b9w.col;this.panelName=b9w.pnl;this.pattern=b9w.ptrn;this.lineWidth=b9w.lw;this.font=w4S.replaceFields(b9w.fnt,{st:"style",sz:"size",wt:"weight",fl:I9V});this.decoration=b9w.decor;this.showLines=b9w.show;this.dx=b9w.dx;this.dy=b9w.dy;this.trend=b9w.trend;this.annotationPoints=b9w.annotations.split((8530,9814) < 9876?552.34 >= (8840,5367)?(7.03e+3,7.80e+3):",":(0xd32,255.81));if(b9w.decor === "enclosed"){this.calculateRadius(Y9w.chart.tempCanvas.context);}this.maxSegments=b9w.mxSeg;this.reconstructPoints(b9w);this.adjust();};w4S.Drawing.elliottwave.prototype.reconstructPoints=function(S9w){var e9w,b9V,Y9V,E9w,N9w;c0x.P6o();e9w=this.stx.panels[this.panelName];if(!e9w){return;}for(var I9w="0" << 985279744;I9w < this.annotationPoints.length;I9w++){b9V="t";b9V+="zo";Y9V="t";Y9V+="z";Y9V+="o";c0x.n7G(3);this[c0x.C7G(I9w,9310 < (+"730.41",928)?"944.12" - 0 == +"2090"?!0:(9920,419) === 264.65?42:(! ![],!{}):"d")]=S9w[c0x.c7G(I9w,1983 > (+"1248",7000)?+"7390" >= (1720,8190)?(+"4.97e+3",+"118.72"):(543.58,!0):"d")];c0x.n7G(3);this[c0x.c7G(I9w,4080 !== "886" << 414812672?"v":(674.16,! !"1"))]=S9w[c0x.c7G(I9w,"v")];c0x.n7G(3);this[c0x.C7G(I9w,Y9V)]=S9w[c0x.C7G(I9w,b9V)];E9w=w4S.strToDateTime(S9w[(470.31 == +"5732"?(+"6.14e+3",! !""):"d") + I9w]);N9w=this.stx.tickFromDate(E9w,e9w.chart);this.points.push([N9w,S9w["v" + I9w]]);}};w4S.Drawing.elliottwave.prototype.calculateRadius=function(W9w){c0x.P6o();var Q9w,J9w;this.getFontString();W9w.font=this.fontString;Q9w=+"0";for(var Z9w=+"0";Z9w < this.annotationPoints.length;Z9w++){J9w=W9w.measureText(this.annotationPoints[Z9w]).width;if(Q9w < J9w){Q9w=J9w;}}this.enclosedRadius=Q9w;};w4S.Drawing.elliottwave.prototype.check=function(O9w,a9w,o9w){var f9w,n9w;if(o9w === "1" - 0 && this.points.length === 2){return !0;}c0x.n7G(6);f9w=this.points[c0x.c7G(o9w,1)];if(f9w && O9w <= f9w["0" * 1]){return ! !0;}function q9w(C9w){for(var X9w=2;X9w < C9w.length;X9w++){if(Math.sign(C9w[X9w][1] - C9w[X9w - 1][1]) == Math.sign(C9w[X9w - 1][1] - C9w[X9w - 2][1])){return ![];}}return ! !{};}c0x.H7G(3);n9w=this.points[c0x.c7G(1,o9w)];if(n9w && O9w >= n9w[+"0"]){return ![];}if(!q9w(this.points)){return ![];}return ! ![];};w4S.Drawing.elliottwave.prototype.move=function(G9w,T9w,K9w){this.copyConfig();c0x.H7G(57);c0x.Q6o();var w3G=c0x.C7G(7,2,7);this.points[this.lastPoint + w3G]=[T9w,K9w];this.render(G9w);};w4S.Drawing.elliottwave.prototype.adjust=function(){c0x.Q6o();var t9w,A9w;t9w=this.stx.panels[this.panelName];if(!t9w){return;}for(var R9w=0;this.maxSegments + 1 > R9w;R9w++){c0x.H7G(3);A9w=this[c0x.c7G(R9w,"d")];this.setPoint(R9w,A9w,this[(("681.31" * 1,"7774" | 7756) <= 3958?"F":("1090" - 0,7120) != 746.08?"v":(140.08,6.10e+3)) + R9w],t9w.chart);this.points[R9w][+"0"]=this.stx.tickFromDate(w4S.strToDateTime(A9w),t9w.chart);c0x.H7G(29);this.points[R9w][c0x.C7G("1",1393548192)]=this[c0x.C7G(R9w,"v",c0x.H7G(3))];}};w4S.Drawing.elliottwave.prototype.click=function(F9w,B9w,p9w){c0x.Q6o();var M9w;M9w=this.stx.panels[this.panelName];if(!M9w){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",B9w,p9w,M9w.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((7923,5520) === (6080,603.9)?(987.57,8.94e+3):6205 <= 5260?"7487" - 0 <= (2547,359.29)?(261.12,! !"1"):(0x1bad,0x226e):"0");if(this.decoration === "enclosed"){this.calculateRadius(F9w);}c0x.n7G(42);var n3G=c0x.c7G(154,20,5,8);this.maxSegments=this.annotationPoints.length - n3G;this.trend=1;return !"1";}if(this.accidentalClick(B9w,p9w)){this.penDown=!0;return ! !0;}if(this.check(B9w,p9w,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,B9w,p9w,M9w.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=![];return ! !{};}}return !{};};w4S.Drawing.elliottwave.prototype.render=function(k9w){var h9V,z9V,s9w,m4w,v4w,b4w,Y4w,g4w,x4w,r9w,z9w,w4w,u9w,y9w,e9V,L4w,P4w,U9w,d4w,l4w,I4w,S4w,P9V,Z9V,D4w,i4w,c4w,j4w,h4w,e4w,H4w;h9V="strin";h9V+="g";z9V="mid";z9V+="dl";z9V+="e";s9w=this.stx.panels[this.panelName];if(!s9w){return;}m4w=this.stx;v4w=this.annotationPoints;b4w=this.pattern?w4S.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();k9w.font=this.fontString;k9w.textAlign="center";k9w.textBaseline=z9V;k9w.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(k9w);}this.lastFontString=this.fontString;Y4w=this.getLineColor();k9w.fillStyle=k9w.strokeStyle=Y4w;k9w.save();k9w.setLineDash(b4w);g4w=this.dx;x4w=this.dy;r9w=this.points;z9w=this.pts;w4w=!this.showLines && this.highlighted;u9w=r9w.length;if(this.penDown && this.segment){e9V="t";e9V+="o";e9V+="p";c0x.H7G(15);var U3G=c0x.c7G(15,17);c0x.n7G(107);var x3G=c0x.c7G(14,12,2,2);y9w=this.trend * (u9w % U3G - "0.5" * x3G) < 0;if(s9w.yAxis.flipped){y9w=!y9w;}this.drawDropZone(k9w,r9w[u9w - 2][1],this.stx.priceFromPixel(s9w.yAxis[y9w?e9V:"bottom"]),r9w[u9w - 2][0]);}else if(typeof this.highlighted === h9V && this.stx.repositioningDrawing){L4w=parseInt(this.highlighted.substring(1,this.highlighted.length),10);c0x.n7G(108);var q3G=c0x.c7G(4,20,40,9,785);c0x.H7G(3);var l3G=c0x.C7G(6,1573652442);y9w=this.trend * (L4w % q3G - 0.5) > "0" << l3G;c0x.H7G(6);P4w=r9w[c0x.C7G(L4w,1)];c0x.H7G(3);U9w=r9w[c0x.C7G(1,L4w)];d4w=L4w > 0?P4w[1]:U9w[1];if(U9w){d4w=Math[y9w?"max":"min"](d4w,U9w[1]);}if(s9w.yAxis.flipped){y9w=!y9w;}this.drawDropZone(k9w,d4w,this.stx.priceFromPixel(s9w.yAxis[y9w?"top":"bottom"]),P4w?P4w["0" * 1]:null,U9w?U9w[0]:null);}for(var V9w="0" ^ 0;V9w < u9w;V9w++){l4w=r9w[V9w];I4w=m4w.pixelFromTick(l4w[0],s9w.chart);S4w=m4w.pixelFromValueAdjusted(s9w,l4w[0],l4w[1]);z9w[V9w]=[I4w,S4w];}V9w=0;if(this.showLines || w4w){k9w.beginPath();if(w4w){k9w.globalAlpha=0.3;}for(;V9w < z9w.length;V9w++){k9w.lineTo(z9w[V9w]["0" * 1],z9w[V9w][1]);}k9w.stroke();V9w=0;}k9w.restore();for(;V9w < u9w;V9w++){P9V="e";P9V+="nclo";P9V+="s";P9V+="ed";Z9V="pare";Z9V+="nth";Z9V+="eses";D4w=V9w % 2?g4w:-g4w;i4w=V9w % 2?x4w:-x4w;D4w*=this.trend;i4w*=this.trend;if(s9w.yAxis.flipped){D4w*=-1;i4w*=-1;}c4w=z9w[V9w];c0x.n7G(47);j4w=c4w[c0x.C7G(2147483647,"2")]=c4w[0] + D4w;c0x.H7G(80);var g5G=c0x.C7G(15,14,3980,19,9);h4w=c4w[3]=c4w[g5G] + i4w;e4w=this.enclosedRadius || 8;H4w=v4w[V9w];if(this.decoration === Z9V){c0x.n7G(19);H4w=c0x.C7G(")",5419 == (+"6974",+"8810")?0x788:(320.58,+"2500") == (8670,2620)?(3490,903) < (+"7529",9185)?"j":(0x1856,0x167c):"(",H4w);}k9w.fillText(H4w,j4w,h4w);if(this.decoration === P9V){k9w.beginPath();k9w.arc(j4w,h4w,e4w,0,2 * Math.PI,!{});k9w.stroke();}if(this.highlighted){k9w.save();this.littleCircle(k9w,this.pts[V9w][0],this.pts[V9w][1],this.highlighted === ((675.33,462.91) <= (563,5210)?5688 > 7050?(125.37,2024) <= (8745,633)?("c",! !{}):("b","0x1b37" - 0):"p":("1.83e+3" & 2147483647,+"0x8d3")) + V9w);k9w.restore();}}};w4S.Drawing.elliottwave.prototype.reposition=function(q4w,E4w,Z4w,J4w){var o4w,f4w,n4w,Q4w,W4w,O4w;c0x.P6o();if(!E4w){return;}o4w=this.stx.panels[this.panelName];f4w=E4w.tick - Z4w;n4w=E4w.value - J4w;if(E4w.action === "move"){for(var N4w=0;E4w.points.length > N4w;N4w++){Q4w=E4w.points[N4w];this.setPoint(N4w,Q4w[0] - f4w,Q4w[1] - n4w,o4w.chart);this.points[N4w]=[Q4w[0] - f4w,Q4w[+"1"] - n4w];}}if(E4w.action === "drag"){W4w=E4w.point;O4w=this.points;O4w[W4w]=[Z4w,J4w];if(this.check(Z4w,J4w,W4w)){this.setPoint(W4w,Z4w,J4w,o4w.chart);;};}this.render(q4w);};w4S.Drawing.elliottwave.prototype.intersected=function(C4w,G4w,T4w){var K4w,o9V,X4w;if(!this.p0 || !this.p1){return null;}for(var a4w=0;this.points.length > a4w;a4w++){o9V="segme";o9V+="nt";X4w=this.points[a4w];if(this.pointIntersection(X4w[0],X4w["1" | 1],T4w)){c0x.n7G(3);this.highlighted=c0x.C7G(a4w,5360 === 270.41?307.25 > 626?(348.15,! !"1"):("t",! !{}):"p");return {action:"drag",point:a4w,tick:C4w,value:G4w};}if(this.points[a4w + 1] && this.lineIntersection(C4w,G4w,T4w,o9V,X4w,this.points[a4w + 1])){this.highlighted=!"";K4w={action:"move",points:w4S.clone(this.points),tick:C4w,value:G4w};}}c0x.P6o();return K4w;};w4S.Drawing.elliottwave.prototype.measure=function(){var R9V,R4w,B4w,A4w,t4w;if(this.points.length >= +"2"){R9V=".mS";R9V+="tickyInte";R9V+="rior";R4w=this.points;this.stx.setMeasure(R4w[0][1],R4w[R4w.length - 1][1],R4w["0" << 428624960][0],R4w[R4w.length - 1][+"0"],! ![]);B4w=this.stx.controls.mSticky;A4w=B4w && B4w.querySelector(R9V);if(A4w){t4w=[];t4w.push(w4S.capitalize("Elliott Wave"));if(this.getYValue){t4w.push(this.field || this.stx.defaultPlotField || "Close");}t4w.push(A4w.innerHTML);A4w.innerHTML=t4w.join("<br>");}}};w4S.Drawing.printProjection=function(r4w,g6w,p4w){var p5V,y5V,E5V,F4w,k4w,l6w,z4w,D6w,u4w,i6w,U4w,y4w,P6w,s4w,H6w,d6w,c6w,M4w,m6w;p5V=-2098868750;y5V=422497875;E5V=+"2";for(var Q5V=1;c0x.l0V(Q5V.toString(),Q5V.toString().length,"89881" ^ 0) !== p5V;Q5V++){F4w=g6w.arr;c0x.H7G(25);E5V+=c0x.c7G(1,"2");}if(c0x.l0V(E5V.toString(),E5V.toString().length,"61789" << 1534351680) !== y5V){F4w=g6w.arr;}F4w=g6w.arr;if(F4w.length > 1){k4w=F4w[0][+"0"];l6w=Math.round(r4w.chart.maxTicks * ("0.75" - 0));for(var V4w=1;V4w < F4w.length;V4w++){c0x.H7G(6);z4w=F4w[c0x.c7G(V4w,1)][0];c0x.H7G(6);D6w=F4w[V4w][c0x.c7G("0",0)];u4w=w4S.strToDateTime(z4w);i6w=w4S.strToDateTime(D6w).getTime();U4w=r4w.standardMarketIterator(u4w);y4w=0;while(u4w.getTime() < i6w){u4w=U4w.next();y4w+=1;}P6w=w4S.strToDateTime(z4w).getTime();if(P6w > w4S.strToDateTime(p4w[p4w.length - 1].Date).getTime()){c0x.n7G(15);var J5G=c0x.c7G(18,19);s4w=p4w.length - J5G;c0x.H7G(41);y4w+=c0x.C7G("1",0);}else {for(s4w=p4w.length - +"1";s4w >= 0;s4w--){if(P6w <= w4S.strToDateTime(p4w[s4w].Date).getTime())break;}}H6w={x0:0,x1:y4w,y0:p4w[s4w].Close,y1:F4w[V4w][1]};k4w=w4S.strToDateTime(z4w);U4w=r4w.standardMarketIterator(k4w);d6w=![];for(var L6w=0;L6w <= y4w;L6w++){if(!d6w){d6w=! !{};}else {k4w=U4w.next();}if(k4w.getTime() <= p4w[p4w.length - 1].DT.getTime())continue;c6w=w4S.yIntersection(H6w,L6w);if(!c6w){c6w=0;}c0x.n7G(109);var T5G=c0x.c7G(15,30000,9,4040000);c0x.H7G(6);var d5G=c0x.C7G(140000,130000);M4w=Math.round(c6w * T5G) / d5G;if(M4w === 0){M4w=F4w[V4w][1];}m6w={Date:w4S.yyyymmddhhmmssmmm(k4w),DT:k4w,Open:M4w,Close:M4w,High:M4w,Low:M4w,Volume:0,Adj_Close:M4w,Split_Close:M4w,projection:! !{}};if(r4w.layout.interval == "minute")if(l6w-- < 0)break;p4w[p4w.length]=m6w;}}}};}};d94=w6w=>{var N9V,x6w;N9V="unde";N9V+="fi";N9V+="ne";N9V+="d";x6w=typeof _CIQ !== N9V?_CIQ:w6w.CIQ;if(!x6w.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {x6w.formatEquation=function(S6w){var u5x=D3mm;var v6w,Y6w,j6w,b6w,h6w;v6w="";Y6w=[];j6w="";b6w=! !"";for(var I6w=1;I6w < S6w.length;I6w++){h6w=S6w[I6w].toUpperCase();if(h6w == "[" && !b6w){b6w=! ![];}else if(h6w == "]" && b6w){b6w=!{};if(j6w !== ""){Y6w.push(j6w);u5x.n7G(19);v6w+=u5x.c7G("]",(7430,6040) != (969.49,152.47)?+"3540" == 828.25?(5568,3690) <= (6114,587.47)?0x19d3:! !"1":"[":("V","e"),j6w);}j6w="";}else if(b6w){j6w+=h6w;}else if(h6w == ((+"9175",5031) != 161.07?"+":(4670,3360) >= (9634,"259.53" * 1)?+"9780" < "401.48" - 0?(!"",0x2079):422.74:(3.30e+3,+"0x1b3f")) || h6w == (316.74 === 107.15?(1.51e+3,! !1):692 > (363,72.93)?"-":(0xd10,0x2149)) || h6w == "*" || h6w == "/" || h6w == (9570 < 393?"G":":") || h6w == ((+"6891",9709) === ("720.74" - 0,2163)?("0x1c3d" * 1,5.24e+3):(234,154.55) === 7309?(0x1a,468):"%") || h6w == ((896.18,4837) !== 717.43?(1180,8509) === 686?(954.2,5010) === ("8143" >> 1681519072,+"56.79")?("F",203.11):0x1ee8:"(":0x10b6) || h6w == ")"){if(j6w !== "" && isNaN(j6w)){Y6w.push(j6w);u5x.H7G(19);v6w+=u5x.C7G((+"707.65",9650) != 5900?"]":(5605,7904) !== (5690,978.31)?(4.07,6216) === 2586?98:(!0,733.27):("x",! !{}),3050 != (375.16,6020)?"[":(+"8881","6669" * 1) < 6950?(8250,7049) == 18.31?(954.23,!{}):"P":778.97,j6w);}else {v6w+=j6w;}if(h6w == (("419" << 31315744,83) != (8007,83.87)?":":695.04 === (2830,2270)?!"":(!{},+"432.70"))){h6w=(979.38,7310) == (6090,900.95)?0x1317:400.79 >= ("487.3" - 0,"2789" * 1)?(!{},! !{}):875.71 == (638.51,918.08)?+"6.08e+3":"/";}v6w+=h6w;j6w="";}else if(h6w != ((515.63,+"8670") !== (5738,495.06)?3240 == 9430?(0x95f,6.59e+3):4913 >= 589.57?" ":"2.76e+3" >> 1964012480:"C")){j6w+=h6w;}}if(j6w !== "" && isNaN(j6w)){Y6w.push(j6w);u5x.H7G(19);v6w+=u5x.C7G(6740 == 812.8?(331.37,9.31e+2):"]",("3077" << 421875680,8090) == (9039,2814)?! !{}:1745 < (571.61,4686)?3220 != (547.91,750.09)?"[":"v":(!1,! !""),j6w);}else {v6w+=j6w;}return {equation:v6w,symbols:Y6w};};x6w.fetchEquationChart=function(e6w,o6w){var Q6w,Z6w,J6w,W6w,N6w;Q6w=x6w.formatEquation(e6w.symbol);Z6w=Q6w.symbols;J6w=[];W6w=e6w.stx;e6w.stx=null;for(var E6w=0;E6w < Z6w.length;E6w++){N6w=x6w.shallowClone(e6w);N6w.stx=W6w;N6w.symbol=Z6w[E6w];N6w.symbolObject={symbol:Z6w[E6w]};J6w.push(N6w);}e6w.stx=W6w;W6w.quoteDriver.multiFetch(J6w,function(C6w){var a6w,f6w,n6w,O6w,G6w;a6w={};D3mm.Q6o();e6w.loadMoreReplace=! ![];f6w={charge:0};for(var q6w=0;q6w < C6w.length;q6w++){n6w=C6w[q6w];if(n6w.dataCallback.error){o6w({error:n6w.dataCallback.error});return;}a6w[n6w.params.symbol]=n6w.dataCallback.quotes;e6w.loadMoreReplace=e6w.loadMoreReplace && n6w.params.loadMoreReplace;e6w.moreToLoad=e6w.moreToLoad || n6w.dataCallback.moreAvailable;O6w=n6w.dataCallback.attribution;if(O6w){if(O6w.charge){f6w.charge+=O6w.charge;}f6w.source=O6w.source;if(f6w.exchange === undefined){f6w.exchange=O6w.exchange;}else if(f6w.exchange != O6w.exchange){f6w.exchange="";};}}if(J6w.length || !(e6w.loadMore || e6w.update)){try{G6w=x6w.computeEquationChart(Q6w.equation,a6w);o6w({quotes:G6w,moreAvailable:e6w.moreToLoad,attribution:f6w});}catch(T6w){var X6w;X6w={error:"Invalid equation: " + Q6w.equation};if(T6w.name && T6w.name == "NoException"){X6w.suppressAlert=! !"1";}o6w(X6w);}}});};}};l94=R6w=>{var K6w;D3mm.Q6o();K6w=typeof _CIQ !== "undefined"?_CIQ:R6w.CIQ;if(!K6w.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!K6w.Marker.Performance){K6w.ChartEngine.prototype.removeDOMMarker=function(t6w){var Q1V,I1V,Y1V;Q1V=-604390522;I1V=-700305195;Y1V=2;for(var z1V=1;D3mm.g3V(z1V.toString(),z1V.toString().length,75147) !== Q1V;z1V++){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");Y1V+=2;}D3mm.P6o();if(D3mm.l0V(Y1V.toString(),Y1V.toString().length,68473) !== I1V){console.warn("");}K6w.Marker.Performance.prototype.removeDOMMarker.call(t6w.params.node,t6w);};K6w.ChartEngine.prototype.drawMarkers=function(){D3mm.P6o();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");K6w.Marker.Performance.drawMarkers(this);};K6w.ChartEngine.prototype.calculateMarkerStyles=function(A6w,B6w){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");D3mm.Q6o();K6w.Marker.Performance.calculateMarkerStyles(this,A6w,B6w);};K6w.ChartEngine.prototype.drawCircleMarker=function(p6w,M6w,F6w){D3mm.P6o();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");K6w.Marker.Performance.drawCircleMarker(p6w,M6w,F6w);};K6w.ChartEngine.prototype.drawSquareMarker=function(k6w,V6w,s6w){D3mm.Q6o();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");K6w.Marker.Performance.drawSquareMarker(k6w,V6w,s6w);};K6w.ChartEngine.prototype.drawCalloutMarker=function(y6w,r6w,z6w){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");K6w.Marker.Performance.drawCalloutMarker(y6w,r6w,z6w);};K6w.ChartEngine.prototype.drawMarkerStem=function(u6w,U6w,L7w){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");D3mm.Q6o();K6w.Marker.Performance.drawMarkerStem(u6w,U6w,L7w);};K6w.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");K6w.Marker.Performance.drawMarkers(this);};K6w.Marker.Performance=function(d7w){var L9V,k9V,j9V,u9V,P7w,c7w,D7w,H7w,l7w,i7w,m7w,S9V,g7w;L9V=".";L9V+="st";L9V+="x-visua";L9V+="l";k9V=".stx-mark";k9V+="er";j9V="<";j9V+="div class=\"stx-s";j9V+="tem\"><";j9V+="/div>";u9V="T";u9V+="EMPLAT";u9V+="E";this.params={displayCategory:! !{},displayStem:! ![],invert:! !0,story:"",headline:""};K6w.extend(this.params,d7w);P7w=this.template=document.createElement(u9V);D3mm.n7G(110);P7w.innerHTML=D3mm.c7G("</div>",'<div class="stx-marker-content">','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>",'<div class="stx-marker highlight">','<div class="stx-visual">',j9V,"</div>");c7w=this.template.content.cloneNode(! !{});D7w=c7w.querySelector(k9V,P7w);D7w.classList.add(d7w.type);D7w.classList.add(d7w.category);H7w=c7w.querySelector(L9V,P7w);l7w=c7w.querySelector(".stx-marker-expand");i7w=c7w.querySelector("h4",P7w);m7w=c7w.querySelector(3470 > (267.94,676.55)?(678.79,4889) <= 3930?("367" | 296,+"5.86e+3"):"p":(7.30e+3,4.93e+3),P7w);i7w.innerText=this.params.headline;m7w.innerText=this.params.story;this.hasText=! !d7w.headline || ! !d7w.story;this.deferAttach=! !{};this.node=c7w.firstChild;this.node.params=this.params;this.visual=H7w;this.expand=l7w;if(d7w.type === "callout"){S9V=".stx-marker-";S9V+="content";g7w=l7w.removeChild(i7w);c7w.querySelector(S9V,P7w).insertBefore(g7w,l7w);}};K6w.inheritsFrom(K6w.Marker.Performance,K6w.Marker.NodeCreator,! !"");K6w.Marker.Performance.consolidateExpanded=function(Y7w){var R5x=D3mm;var x7w,w7w,v7w,h7w,b7w;x7w=Y7w.markerHelper.highlighted;R5x.P6o();if(!x7w.length){return;}R5x.H7G(60);var G5G=R5x.c7G(1,6,0,7);w7w=x7w[x7w.length - G5G];v7w=w7w.params.node;if(!w7w.consolidated){w7w.consolidated=[];}function I7w(N7w){var H9V,x5V,q5V,l5V,e7w,S7w,E7w;H9V="n";H9V+="o";H9V+="ne";x5V=-2099939504;q5V=- +"223440459";l5V=2;for(var J6V=1;R5x.g3V(J6V.toString(),J6V.toString().length,22193) !== x5V;J6V++){e7w=N7w.params.node;S7w=e7w.expand;if(-S7w){return "";}l5V+=2;}if(R5x.l0V(l5V.toString(),l5V.toString().length,8006) !== q5V){e7w=N7w.params.node;S7w=e7w.expand;if(+S7w){return "";}}e7w=N7w.params.node;S7w=e7w.expand;if(!S7w){return "";}E7w=S7w.style.display !== H9V?S7w.innerHTML:"";return E7w;}for(var j7w=x7w.length - 2;j7w >= 0;j7w--){h7w=I7w(x7w[j7w]);R5x.n7G(19);b7w=R5x.C7G("</consolidated>","<consolidated>",h7w);if(h7w.length){v7w.expand.innerHTML+=b7w;}}w7w.stxNodeCreator.quickCache(w7w);};K6w.Marker.Performance.reconstituteExpanded=function(W7w){var J5x=D3mm;var Q7w,H4V,K4V,i4V,o7w,f7w,J7w;Q7w=W7w.markerHelper.highlighted;H4V=-2129496808;K4V=588890600;J5x.Q6o();i4V=2;for(var c4V=1;J5x.l0V(c4V.toString(),c4V.toString().length,31233) !== H4V;c4V++){if(-Q7w.length && +W7w.activeMarker){return;}J5x.H7G(6);i4V+=J5x.C7G("2",0);}if(J5x.l0V(i4V.toString(),i4V.toString().length,521) !== K4V){if(!Q7w.length || ~W7w.activeMarker){return;}}if(!Q7w.length || !W7w.activeMarker){return;}Q7w=[W7w.activeMarker];for(var Z7w=Q7w.length - 1;Z7w >= 0;Z7w--){o7w=Q7w[Z7w];f7w=o7w.params.node;J7w=f7w.expand;while(J7w.lastElementChild.nodeName === "CONSOLIDATED"){J7w.removeChild(J7w.lastElementChild);}}};K6w.Marker.Performance.drawMarkers=function(C7w){var X7w,n7w,q7w,a7w,G7w,T7w;X7w=C7w.getMarkerArray("all");n7w=C7w.chart;for(var O7w=0;O7w < X7w.length;O7w++){q7w=X7w[O7w];a7w=q7w.stxNodeCreator;G7w=n7w.dataSegment[0].tick;T7w=n7w.dataSegment[n7w.dataSegment.length - 1].tick;if(G7w <= q7w.tick <= T7w){if(a7w && a7w.drawMarker){a7w.drawMarker(q7w);}}}};K6w.Marker.Performance.calculateMarkerStyles=function(R7w,t7w,p7w){var K7w,d1V,G1V,v1V,K9V,i9V,A7w,B7w;K7w=document.querySelector(".stx-marker-templates");if(!K7w){d1V=442928060;G1V=1016575652;v1V=2;for(var a1V=1;D3mm.g3V(a1V.toString(),a1V.toString().length,65998) !== d1V;a1V++){K9V="D";K9V+="I";K9V+="V";K7w=document.createElement(K9V);K7w.style.visibility="hidden";v1V+=2;}if(D3mm.g3V(v1V.toString(),v1V.toString().length,79416) !== G1V){i9V="h";i9V+="id";i9V+="d";i9V+="en";K7w=document.createElement(i9V);K7w.style.visibility="hidden";}K7w.style.left="-1000px";document.body.append(K7w);}K7w.appendChild(t7w.node);A7w=getComputedStyle(t7w.stxNodeCreator.visual);if(!R7w.styles.stx_marker_stem){B7w=getComputedStyle(document.querySelector(".stx-stem",t7w.node));R7w.styles.stx_marker_stem=R7w.cloneStyle(B7w);}R7w.styles[p7w]=R7w.cloneStyle(A7w);D3mm.Q6o();K7w.removeChild(t7w.node);};K6w.Marker.Performance.drawCircleMarker=function(s7w,L1w,F7w){var u7w,U7w,M7w,k7w,V7w,y7w,r7w,z7w,r9V;u7w=s7w.params.stx;U7w=u7w.chart;M7w=U7w.context;k7w=F7w.x;V7w=F7w.y;y7w=F7w.radius;r7w=F7w.label;z7w=F7w.color?F7w.color:L1w.backgroundColor;M7w.beginPath();M7w.setLineDash([]);M7w.lineWidth=1;M7w.fillStyle=z7w;M7w.strokeStyle=z7w;M7w.font="normal bold 12px Roboto, Helvetica, sans-serif";M7w.arc(k7w,V7w,y7w,+"0",+"2" * Math.PI,! !"");M7w.fill();D3mm.P6o();M7w.stroke();M7w.closePath();if(r7w){r9V="wh";r9V+="ite";M7w.fillStyle=K6w.colorsEqual(r9V,M7w.fillStyle)?"black":"white";M7w.fillText(r7w.charAt(+"0").toUpperCase(),k7w - 4,V7w + ("1" | 0));}if(s7w.highlight || s7w.active){M7w.beginPath();D3mm.n7G(3);M7w.arc(k7w,V7w,D3mm.C7G(4,y7w),0,2 * Math.PI,!1);M7w.stroke();M7w.closePath();}};K6w.Marker.Performance.drawSquareMarker=function(H1w,j1w,P1w){var X5x=D3mm;var x1w,w1w,c1w,D1w,i1w,d1w,m1w,g1w,l1w;x1w=H1w.params.stx;w1w=x1w.chart;c1w=w1w.context;D1w=P1w.x;i1w=P1w.y;d1w=P1w.half;m1w=P1w.label;g1w=P1w.color?P1w.color:j1w.backgroundColor;X5x.H7G(25);l1w=X5x.c7G(2,d1w);c1w.beginPath();c1w.setLineDash([]);c1w.lineWidth=1;c1w.fillStyle=g1w;c1w.strokeStyle=g1w;c1w.font="normal bold 12px Roboto, Helvetica, sans-serif";X5x.H7G(6);c1w.rect(X5x.c7G(D1w,d1w),X5x.C7G(i1w,d1w),l1w,l1w);c1w.fill();if(H1w.highlight || H1w.active){X5x.H7G(111);c1w.rect(X5x.C7G(D1w,"4",0,d1w),X5x.C7G(4,d1w,i1w,X5x.H7G(61)),X5x.C7G(8,l1w,X5x.H7G(3)),X5x.c7G(l1w,"8",1,X5x.H7G(22)));}c1w.stroke();c1w.closePath();if(m1w){c1w.fillStyle=K6w.colorsEqual("white",c1w.fillStyle)?"black":"white";c1w.fillText(m1w.charAt(0).toUpperCase(),D1w - 4,i1w + 1);}};K6w.Marker.Performance.drawCalloutMarker=function(Y1w,n1w,v1w){var A9V,c9V,W1w,o1w,h1w,b1w,O1w,S1w,e1w,E1w,N1w,Q1w,f1w,I1w,Z1w,J1w;A9V="b";A9V+="la";A9V+="ck";c9V="rgba(255,255,2";c9V+="55,0.8)";W1w=Y1w.params.stx;o1w=W1w.chart;h1w=o1w.context;b1w=Y1w.params;O1w=v1w.x;S1w=v1w.y;e1w=v1w.half;E1w=v1w.midWidth;N1w=v1w.headline;Q1w=v1w.color?v1w.color:n1w.backgroundColor;f1w=e1w * 2 || "25" >> 339558656;I1w=Math.round(h1w.measureText(N1w).width);Z1w=E1w?E1w * 2:I1w + 8;h1w.beginPath();h1w.setLineDash([]);h1w.lineWidth=1;h1w.fillStyle=Q1w;h1w.strokeStyle=Q1w;h1w.font="normal bold 12px Roboto, Helvetica, sans-serif";h1w.rect(b1w.box.x0,b1w.box.y0,Z1w,f1w);h1w.fill();h1w.stroke();h1w.closePath();h1w.beginPath();h1w.fillStyle=Y1w.highlight || Y1w.active?c9V:"rgba(255,255,255,0.65)";D3mm.n7G(112);J1w=D3mm.C7G(0,I1w,20,"2",Z1w);h1w.rect(b1w.box.x0 + J1w,S1w - e1w,I1w + 40,22);h1w.fill();h1w.stroke();h1w.closePath();h1w.fillStyle=A9V;h1w.fillText(N1w,b1w.box.x0 + J1w + 10,S1w);};K6w.Marker.Performance.drawMarkerStem=function(a1w,T1w,X1w){var K1w,R1w,q1w,C1w,B1w,G1w,t1w,A1w;K1w=a1w.params.stx;R1w=K1w.chart;q1w=R1w.context;C1w=X1w.x;B1w=X1w.y;q1w.beginPath();q1w.strokeStyle=T1w.borderLeftColor;q1w.setLineDash([+"1",+"1"]);G1w=K6w.stripPX(T1w.height);t1w=X1w.invert?a1w.params.box.y0:a1w.params.box.y1;D3mm.Q6o();A1w=X1w.invert?a1w.params.box.y0 - G1w:a1w.params.box.y1 + G1w;q1w.moveTo(C1w,t1w);q1w.lineTo(C1w,A1w);q1w.stroke();q1w.closePath();};K6w.Marker.Performance.prototype.drawMarker=function(p1w){var N5x=D3mm;var V9V,L2w,F1w,H2w,m2w,l2w,k1w,r1w,z1w,g2w,D2w,c2w,i2w,P2w,V1w,d2w,M1w,u1w,U1w,x2w,w2w,s1w,y1w;V9V="c";V9V+="all";V9V+="ou";V9V+="t";L2w=p1w.params;F1w=p1w.params.stx;if(!F1w){return;}H2w=F1w.chart;m2w=H2w.dataSegment;if(!m2w.length){return;}l2w=F1w.panels[p1w.params.panelName];k1w=p1w.stxNodeCreator.params;r1w=k1w.type;z1w=k1w.category;g2w=k1w.headline;D2w=k1w.displayCategory;c2w=k1w.color;i2w=k1w.invert;N5x.H7G(113);P2w=N5x.C7G("stx_marker_",z1w,"_",r1w);if(!F1w.styles[P2w]){K6w.Marker.Performance.calculateMarkerStyles(F1w,p1w,P2w);}V1w=p1w.style=F1w.styles[P2w];d2w=F1w.styles.stx_marker_stem;N5x.n7G(114);var v5G=N5x.C7G(18,20,19,19,0);M1w=parseInt(V1w.height,"10" | 0) / v5G;u1w=parseInt(V1w.width,+"10") / ("2" & 2147483647);U1w=k1w.displayStem?parseInt(d2w.height,"10" * 1) + parseInt(d2w.marginBottom,10):0;N5x.H7G(3);var f5G=N5x.C7G(8,2);N5x.P6o();x2w=U1w + parseInt(V1w.height,f5G);w2w=U1w?U1w + M1w:0;s1w=F1w.pixelFromDate(L2w.x);y1w=L2w.node.calculateYPosition({marker:p1w,panel:l2w,height:x2w,half:M1w,offset:w2w,inverted:i2w});if(!p1w.tick && p1w.tick !== 0){return;}L2w.box={x0:s1w - (u1w || M1w),y0:y1w - M1w,x1:s1w + (u1w || M1w),y1:y1w + M1w,midY:M1w,midX:u1w || M1w,stemHeight:U1w};if(!D2w){z1w=D2w;}F1w.startClip(l2w.name);if(r1w === "circle"){K6w.Marker.Performance.drawCircleMarker(p1w,V1w,{x:s1w,y:y1w,radius:M1w,label:z1w,color:c2w});}else if(r1w === "square"){K6w.Marker.Performance.drawSquareMarker(p1w,V1w,{x:s1w,y:y1w,half:M1w,label:z1w,color:c2w});}else if(r1w === V9V){K6w.Marker.Performance.drawCalloutMarker(p1w,V1w,{x:s1w,y:y1w,half:M1w,midWidth:u1w,headline:g2w,color:c2w});}else {N5x.n7G(19);console.warn(N5x.c7G(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: ",r1w));}if(k1w.displayStem){K6w.Marker.Performance.drawMarkerStem(p1w,d2w,{x:s1w,y:y1w,invert:i2w});}F1w.endClip();if(p1w.attached){this.positionPopUpNode(p1w);}};K6w.Marker.Performance.prototype.positionPopUpNode=function(h2w){var H5x=D3mm;var C9V,M9V,m9V,e2w,b2w,j2w,E2w,I2w,v2w,N2w,V3V,W3V,m3V,W9V,o2w,f2w,n2w,O2w,Q2w,Y2w,W2w,Z2w,S2w,J2w,q2w;C9V="px) t";C9V+="ranslateY(";M9V="transl";M9V+="ateX(";m9V="h";m9V+="id";m9V+="de";m9V+="n";if(!h2w.attached || !h2w.params.box){return;}e2w=h2w.params;b2w=e2w.stx;j2w=e2w.box;E2w=h2w.params.node.expand;I2w=b2w.chart.dataSet;v2w=b2w.chart.dataSegment;if(h2w.tick){V3V=+"954608672";W3V=-2049853989;m3V=2;for(var C3V="1" << 1890528128;H5x.l0V(C3V.toString(),C3V.toString().length,27415) !== V3V;C3V++){W9V="Da";W9V+="te";o2w=[I2w[v2w[+"0"] && v2w[+"0"].tick - 1],I2w[v2w[0] && v2w[0].tick - ("2" << 1450763744)]];f2w=b2w.getFirstLastDataRecord(o2w.concat(v2w),W9V);H5x.H7G(115);var a5G=H5x.C7G(2,20,2,17,14);H5x.n7G(116);var D5G=H5x.c7G(18,0,18,20,18);H5x.n7G(117);var B5G=H5x.c7G(10,11,12,0,11);n2w=[I2w[v2w[v2w.length - a5G].tick + +"1"],I2w[v2w[v2w.length - D5G].tick + B5G]];O2w=b2w.getFirstLastDataRecord(v2w.concat(n2w),"Date",! !1);m3V+=2;}if(H5x.l0V(m3V.toString(),m3V.toString().length,65344) !== W3V){o2w=[I2w[v2w[3] || v2w[1].tick + +"8"],I2w[v2w["4" & 2147483647] || v2w[1].tick + 0]];f2w=b2w.getFirstLastDataRecord(o2w.concat(v2w),"Date");H5x.n7G(118);var t5G=H5x.c7G(60,18,12,25);H5x.n7G(26);var X5G=H5x.C7G(1,0,23,11,16);n2w=[I2w[v2w[v2w.length + t5G].tick % ("9" & 2147483647)],I2w[v2w[v2w.length / +"6"].tick % X5G]];O2w=b2w.getFirstLastDataRecord(v2w.concat(n2w),"Date",![]);}N2w=f2w.DT <= I2w[h2w.tick].DT && I2w[h2w.tick].DT <= O2w.DT;}else {N2w=!{};}if(!h2w.highlight && !h2w.active){N2w=!{};}E2w.style.visibility=N2w?"":m9V;if(!N2w){return;}Q2w=b2w.panels[e2w.panelName];Y2w=E2w.rects;H5x.n7G(48);var O5G=H5x.c7G(15,1,5);W2w=Y2w.height / O5G;H5x.P6o();S2w=h2w.node.params.infoOffset || 0;if(h2w.node.params.infoOnLeft){Z2w=j2w.x0 - Y2w.width - S2w < Q2w.left?j2w.x1 + S2w:j2w.x0 - Y2w.width - S2w;}else {Z2w=j2w.x0 + Y2w.width > Q2w.right?j2w.x0 - Y2w.width - S2w:j2w.x1 + S2w;}Z2w-=b2w.chart.left;J2w=j2w.y0 - W2w >= Q2w.top?j2w.y0 + j2w.midY - W2w:j2w.y0;if(!e2w.avoidFlush && j2w.y1 + j2w.stemHeight === Q2w.yAxis.bottom && Y2w.height > j2w.y1 - j2w.y0 + j2w.stemHeight){J2w=j2w.y1 - Y2w.height + j2w.stemHeight;}J2w-=b2w.chart.panel.top;q2w=M9V + Math.floor(Z2w) + C9V + Math.floor(J2w) + "px) translateZ(0)";E2w.style.transform=q2w;E2w.transform={translateX:Z2w,translateY:J2w};};K6w.Marker.Performance.prototype.quickCache=function(C2w){var G2w,a2w,X2w,T2w;G2w=C2w.params.node;a2w=G2w.expand;X2w=C2w.style;T2w=K6w.stripPX(X2w.marginLeft) + K6w.stripPX(X2w.marginRight) + K6w.stripPX(X2w.borderRight) + K6w.stripPX(X2w.borderLeft);D3mm.P6o();a2w.rects=a2w.getBoundingClientRect();a2w.scrollBarWidth=a2w.rects.width - a2w.clientWidth - T2w;};K6w.Marker.Performance.prototype.calculateYPosition=function(M2w){var n9V,w9V,p2w,R2w,V2w,F2w,B2w,s2w,t2w,y2w,r2w,A2w,k2w,z2w,K2w,u2w,U2w;n9V="bott";n9V+="o";n9V+="m";w9V="on_ca";w9V+="ndl";w9V+="e";p2w=M2w.marker;R2w=M2w.panel;V2w=M2w.height;F2w=M2w.half;B2w=M2w.offset;s2w=M2w.inverted;t2w=p2w.params.stx;y2w=t2w.chart;r2w=t2w.chart.highLowBars;A2w=y2w.dataSet[p2w.tick];if(!A2w){return;}k2w=r2w?A2w.High:A2w.Close;z2w=p2w.params.yPositioner;D3mm.P6o();switch(z2w){case "value":if(p2w.params.y || p2w.params.y === 0){K2w=t2w.pixelFromPrice(p2w.params.y,R2w) - V2w * 0.5 + F2w;}else {K2w=t2w.pixelFromPrice(k2w,R2w) - B2w;}break;case "above_candle":K2w=t2w.pixelFromPrice(k2w,R2w) - B2w;break;case "below_candle":K2w=t2w.pixelFromPrice(A2w.Low || k2w,R2w);if(s2w && B2w){K2w+=B2w;}else {K2w+=F2w;}break;case w9V:(u2w=A2w.High || A2w.Close,U2w=A2w.Low || A2w.Low === 0 || A2w.Close);D3mm.n7G(119);var F5G=D3mm.c7G(4,16,20,9,398);K2w=t2w.pixelFromPrice((u2w + U2w) / F5G,R2w) - V2w * 0.5 + F2w;break;case "top":K2w=t2w.pixelFromPrice(R2w.yAxis.high,R2w);if(s2w && B2w){K2w+=B2w;}else {K2w+=F2w;}break;case n9V:K2w=t2w.pixelFromPrice(R2w.yAxis.low,R2w) - (B2w || F2w);break;default:break;}return K2w;};K6w.Marker.Performance.prototype.prepareForHolder=function(c5w){var L5w,P5w;L5w=this.expand;P5w=c5w.params.stx;L5w.classList.add(this.params.type);P5w.markerHelper.domMarkers.push(c5w);return L5w;};K6w.Marker.Performance.prototype.addToHolder=function(D5w){var U9V,l5w,d5w;U9V="m";U9V+="oused";U9V+="own";l5w=this.expand;d5w=D5w.params.stx;K6w.Marker.Performance.reconstituteExpanded(d5w);K6w.Marker.Performance.consolidateExpanded(d5w);this.quickCache(D5w);if(l5w.clickClosure){return;}l5w.addEventListener(U9V,i5w);l5w.addEventListener("touchstart",i5w);function i5w(H5w){d5w.activeMarker=D5w;d5w.activeMarker.click({cx:H5w.clientX,cy:H5w.clientY,panel:d5w.currentPanel});D3mm.Q6o();H5w.stopPropagation();}l5w.clickClosure=i5w;};K6w.Marker.Performance.prototype.remove=function(g5w){var m5w,w5w,j5w,x5w;m5w=g5w.params.stx;if(!m5w){return;}if(!m5w.markerHelper.domMarkers){return;}w5w=m5w.markerHelper.domMarkers.indexOf(g5w);if(w5w != -1){m5w.markerHelper.domMarkers.splice(w5w,1);}if(g5w.attached){j5w=m5w.panels[g5w.params.panelName];x5w=g5w.params.node.expand;if(x5w.parentNode === j5w.subholder){j5w.subholder.removeChild(x5w);}x5w.removeEventListener("click",x5w.clickClosure);}};K6w.Marker.Performance.prototype.click=function(I5w){var x9V,b5w,S5w,v5w;x9V="num";x9V+="ber";if(!this.hasText){return;}if(typeof arguments[+"0"] === x9V){I5w={cx:arguments["0" << 1279064896],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:Y5w, cy:e5w, marker:h5w, panel:E5w}=I5w;b5w=h5w.params.stx;if(h5w.attached){v5w=this.expand;if(v5w.rects.width - v5w.scrollBarWidth + v5w.transform.translateX < b5w.backOutX(Y5w) && b5w.backOutX(Y5w) < v5w.rects.width + v5w.transform.translateX){return;}this.remove(h5w);}else {b5w.addToHolder(h5w);S5w=! !{};}h5w.attached=!h5w.attached;h5w.active=!h5w.active;if(S5w){h5w.stxNodeCreator.positionPopUpNode(h5w);}};}};D94=Q5w=>{var N5w;N5w=typeof _CIQ !== "undefined"?_CIQ:Q5w.CIQ;N5w.Renderer.OHLC.requestNew=function(X5w,Z5w){var J5w,o5w,f5w,n5w,O5w,q5w,g7V,l9V,q9V,a5w,J7V;J5w=null;o5w=Z5w.hlc;f5w=Z5w.colored;n5w=Z5w.hollow;O5w=Z5w.volume;q5w=Z5w.histogram;for(var W5w=0;W5w < X5w.length;W5w++){g7V="co";g7V+="lored";l9V="cand";l9V+="l";l9V+="e";q9V="b";q9V+="ar";a5w=X5w[W5w];switch(a5w){case q9V:case l9V:J5w=a5w;break;case "volume":O5w=! ![];break;case "hollow":n5w=! !"1";break;case g7V:f5w=!"";break;case "histogram":q5w=! !1;J5w="candle";break;case "hlc":J7V="ba";J7V+="r";o5w=! !{};J5w=J7V;break;default:return null;}}if(J5w === null){return null;}return new N5w.Renderer.OHLC({params:N5w.extend(Z5w,{type:J5w,hlc:o5w,colored:f5w,hollow:n5w,volume:O5w,histogram:q5w})});};N5w.Renderer.OHLC.getChartParts=function(B5w,A5w){var p0x=D3mm;var R7V,o7V,P7V,Z7V,h7V,e7V,z7V,b7V,Y7V,I7V,Q7V,s7V,E7V,y7V,p7V,F7V,O7V,X7V,t7V,B7V,D7V,a7V,f7V,v7V,G7V,d7V,T7V,T5w,K5w,R5w,C5w,G5w,t5w;R7V="fill_color";R7V+="_even";o7V="candl";o7V+="e";p0x.Q6o();P7V="border_co";P7V+="lor_do";P7V+="w";P7V+="n";Z7V="hol";Z7V+="lo";Z7V+="w";h7V="stx_holl";h7V+="ow_";h7V+="candle_even";e7V="c";e7V+="a";e7V+="n";e7V+="dle";z7V="stx_hollow_candle_d";z7V+="own";b7V="f";b7V+="ill_color_u";b7V+="p";Y7V="holl";Y7V+="ow";I7V="bo";I7V+="rde";I7V+="r_";I7V+="color_even";Q7V="shad";Q7V+="o";Q7V+="w";s7V="st";s7V+="x_hollow_candle_down";E7V="shado";E7V+="w";y7V="ca";y7V+="n";y7V+="d";y7V+="le";p7V="stx";p7V+="_candle_u";p7V+="p";F7V="c";F7V+="and";F7V+="l";F7V+="e";O7V="stx_candle_shadow_";O7V+="u";O7V+="p";X7V="can";X7V+="dle";t7V="stx";t7V+="_ba";t7V+="r";t7V+="_even";B7V="stx_bar_dow";B7V+="n";D7V="b";D7V+="a";D7V+="r";a7V="stx";a7V+="_ba";a7V+="r_up";f7V="b";f7V+="a";f7V+="r";v7V="h";v7V+="istogr";v7V+="am";G7V="stx_histo";G7V+="gram";G7V+="_down";d7V="his";d7V+="t";d7V+="ogram";T7V="hi";T7V+="stogra";T7V+="m";T5w=1;K5w=2;p0x.H7G(18);R5w=p0x.c7G("4",0);p0x.n7G(29);C5w=p0x.c7G("8",843015584);G5w=16;t5w=32;return [{type:"histogram",drawType:T7V,style:"stx_histogram_up",condition:C5w,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !"1",useBorderStyleProp:! !1},{type:"histogram",drawType:d7V,style:G7V,condition:G5w,fill:"fill_color_down",border:"border_color_down",useColorInMap:!"",useBorderStyleProp:! !{}},{type:"histogram",drawType:v7V,style:"stx_histogram_even",condition:t5w,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:!"",useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:B5w || "stx_bar_chart",border:"border_color",useColorInMap:! !1},{type:"bar",drawType:f7V,style:a7V,condition:A5w?C5w:T5w,border:"border_color_up",useColorInMap:!""},{type:"bar",drawType:D7V,style:B7V,condition:A5w?G5w:K5w,border:"border_color_down",useColorInMap:! !{}},{type:"bar",drawType:"bar",style:t7V,condition:A5w?t5w:R5w,border:"border_color_even",skipIfPass:! !1,useColorInMap:! ![]},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:X7V,drawType:"shadow",style:O7V,condition:C5w,border:"border_color_up"},{type:F7V,drawType:"shadow",style:"stx_candle_shadow_down",condition:G5w,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:t5w,border:"border_color_even",skipIfPass:! !1},{type:"candle",drawType:"candle",style:p7V,condition:C5w,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !"1",useBorderStyleProp:! ![]},{type:"candle",drawType:y7V,style:"stx_candle_down",condition:G5w,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1,useBorderStyleProp:! ![]},{type:"hollow",drawType:E7V,style:"stx_hollow_candle_up",condition:T5w,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:s7V,condition:K5w,border:"border_color_down"},{type:"hollow",drawType:Q7V,style:"stx_hollow_candle_even",condition:R5w,border:I7V,skipIfPass:! ![]},{type:Y7V,drawType:"candle",style:"stx_hollow_candle_up",condition:T5w | G5w,fill:b7V,border:"border_color_up",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:z7V,condition:K5w | G5w,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:e7V,style:h7V,condition:R5w | G5w,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{}},{type:Z7V,drawType:"candle",style:"stx_hollow_candle_up",condition:T5w | C5w,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:K5w | C5w,fill:"fill_color_down",border:P7V},{type:"hollow",drawType:o7V,style:"stx_hollow_candle_even",condition:R5w | C5w,fill:R7V,border:"border_color_even"}];;};N5w.Renderer.Bars=function(M5w){D3mm.Q6o();var N7V,p5w;N7V="ba";N7V+="r";this.construct(M5w);p5w=this.params;p5w.type=N7V;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;p5w.hlc=p5w.volume=p5w.hollow=p5w.histogram=!{};};N5w.inheritsFrom(N5w.Renderer.Bars,N5w.Renderer.OHLC,! !0);N5w.Renderer.HLC=function(k5w){var u7V,F5w;u7V="b";u7V+="a";D3mm.P6o();u7V+="r";this.construct(k5w);F5w=this.params;F5w.type=u7V;F5w.hlc=! !"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];F5w.volume=F5w.hollow=F5w.histogram=![];};N5w.inheritsFrom(N5w.Renderer.HLC,N5w.Renderer.Bars,![]);N5w.Renderer.Shading=function(V5w){this.construct(V5w);this.beenSetup=!"1";this.errTimeout=null;this.params.useChartLegend=!1;this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !{};}};N5w.inheritsFrom(N5w.Renderer.Shading,N5w.Renderer.Lines,! !"");N5w.Renderer.Shading.requestNew=function(u5w,U5w){var s5w,r5w,j7V,z5w;s5w=null;r5w=null;for(var y5w=0;y5w < u5w.length;y5w++){j7V="range";j7V+="cha";j7V+="nnel";z5w=u5w[y5w];if(z5w == j7V){s5w="rangechannel";}else if(z5w == "step"){r5w=! !{};}}if(s5w === null){return null;}D3mm.P6o();return new N5w.Renderer.Shading({params:N5w.extend(U5w,{type:s5w,step:r5w})});};N5w.Renderer.Shading.prototype.setShading=function(c0p){if(c0p.constructor != Array){c0p=[c0p];}this.shading=c0p;};N5w.Renderer.Shading.prototype.draw=function(){var k7V,i0p,P0p,H0p,S7V,L7V,e0p,g0p,E0p,h0p,N0p,m0p,D0p,b0p,Y0p,Q0p,K7V,H7V,l0p,w0p,I0p,S0p,x0p;function Z0p(f0p){var Z9x=D3mm;var J0p,q0p,W0p,q4V,l4V,g1V;J0p=m0p[f0p];if(J0p){q0p=J0p.parameters.field;W0p=J0p.parameters.subField;Z9x.n7G(3);return Z9x.C7G(W0p?(9767 != 146.4?"6240" - 0 == 8335?(6.11e+3,2.20e+3):(9598,8120) != 9510?".":(! ![],"337.94" * 1):!1) + W0p:"",q0p);}q4V=391751865;Z9x.P6o();l4V=-981923931;g1V=2;for(var T1V=1;Z9x.l0V(T1V.toString(),T1V.toString().length,23498) !== q4V;T1V++){return f0p;}if(Z9x.g3V(g1V.toString(),g1V.toString().length,35974) !== l4V){return f0p;}}k7V="range";k7V+="chann";k7V+="el";i0p=this.stx;P0p=this.params;D3mm.P6o();H0p=i0p.panels[P0p.panel].chart;if(P0p.type == k7V){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {S7V="S";S7V+="h";S7V+="adin";S7V+="g";L7V="Hi";L7V+="gh";this.beenSetup=! !"1";P0p.display=this.seriesParams[0].display;P0p.yAxis=this.seriesParams[0].yAxis;e0p=this.seriesParams["0" - 0].color || "auto";g0p=this.seriesParams[0].symbol;E0p="";if(g0p){D3mm.n7G(3);E0p=D3mm.C7G(".",g0p);}this.removeAllSeries(! ![]);h0p=P0p.name;i0p.addSeries(null,{symbol:g0p,loadData:! !g0p,field:L7V,renderer:S7V,name:h0p,style:"stx_line_up",display:P0p.display,shareYAxis:! !"1"});i0p.addSeries(null,{symbol:g0p,loadData:! !g0p,field:"Low",renderer:"Shading",name:h0p,style:"stx_line_down",display:P0p.display,shareYAxis:! ![]});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams["1" ^ 0].id,color:e0p});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");N0p=this;this.errTimeout=setTimeout(function(){N0p.errTimeout=null;},10000);}}m0p={};for(D0p=0;D0p < this.seriesParams.length;D0p++){b0p={};if(H0p.series[this.seriesParams[D0p].id]){b0p=N5w.clone(H0p.series[this.seriesParams[D0p].id].parameters);}m0p[this.seriesParams[D0p].id]={parameters:N5w.extend(N5w.extend(b0p,P0p),this.seriesParams[D0p]),yValueCache:this.caches[this.seriesParams[D0p].id]};}i0p.drawSeries(H0p,m0p,P0p.yAxis,this);if(H0p.legend && P0p.type == "rangechannel"){if(!H0p.legend.colorMap){H0p.legend.colorMap={};}Y0p=P0p.display;Q0p=[i0p.getCanvasColor("stx_line_up"),i0p.getCanvasColor("stx_line_down")];H0p.legend.colorMap[Y0p]={color:Q0p,display:Y0p,isBase:this == i0p.mainSeriesRenderer};;}for(D0p in m0p){this.caches[D0p]=m0p[D0p].yValueCache;}for(D0p=0;D0p < this.shading.length;D0p++){K7V="Cl";K7V+="os";K7V+="e";H7V="Cl";H7V+="ose";l0p=this.shading[D0p];w0p=l0p.color;if(l0p.color == "auto"){w0p=i0p.defaultColor;}if(!l0p.primary){l0p.primary=H7V;}if(!l0p.secondary && this.seriesParams[0]){l0p.secondary=this.seriesParams[0].field;}if(!l0p.secondary)continue;else if(!m0p[l0p.primary] && l0p.primary != "Close")continue;else if(!m0p[l0p.secondary])continue;else if(l0p.primary == "Close" && P0p.yAxis && P0p.yAxis != H0p.yAxis)continue;I0p=Z0p(l0p.primary).split(".");S0p=Z0p(l0p.secondary).split(".");x0p={topBand:I0p["0" << 807767200],topSubBand:I0p[1],topColor:l0p.greater || w0p || i0p.containerColor,topAxis:P0p.yAxis,bottomBand:S0p[0],bottomSubBand:S0p["1" << 1029680576],bottomColor:l0p.lesser || w0p || i0p.containerColor,bottomAxis:l0p.primary == K7V?null:P0p.yAxis,tension:P0p.tension || H0p.tension,opacity:0.1,step:P0p.step};if(!x0p.topColor && !x0p.bottomColor)continue;if(!P0p.highlight && i0p.highlightedDraggable){x0p.opacity*=0.3;}N5w.fillIntersecting(i0p,P0p.panel,x0p);}};N5w.Renderer.Histogram=function(X0p){var i7V;this.construct(X0p);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !1;if(this.params.yAxis){i7V="n";i7V+="um";i7V+="be";i7V+="r";this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == i7V){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};N5w.inheritsFrom(N5w.Renderer.Histogram,N5w.Renderer,!{});N5w.Renderer.Histogram.prototype.adjustYAxis=function(){var C0p;D3mm.Q6o();C0p=this.params.yAxis;if(!C0p || C0p.baseline){return;}C0p.min=0;C0p.highValue/=this.params.heightPercentage || 1;};N5w.Renderer.Histogram.prototype.draw=function(){var r7V,G0p,K0p,c7V,B0p,p0p;r7V="st";r7V+="a";D3mm.Q6o();r7V+="c";r7V+="ked";G0p=N5w.clone(this.params);G0p.type=G0p.subtype;this.useSum=G0p.subtype == r7V;if(!G0p.yAxis || G0p.yAxis == this.stx.chart.yAxis){G0p.bindToYAxis=! ![];}this.stx.drawHistogram(G0p,this.seriesParams);K0p=G0p.yAxis && G0p.yAxis.baseline;if(K0p && K0p.color){c7V="s";c7V+="ol";c7V+="i";c7V+="d";B0p=this.stx.panels[this.params.panel];p0p=this.stx.pixelFromPrice(K0p.value,B0p,this.params.yAxis) - +"0.5";this.stx.plotLine({x0:B0p.left,x1:B0p.right,y0:p0p,y1:p0p,color:K0p.color,type:"line",context:B0p.chart.context,confineToPanel:B0p,pattern:K0p.pattern || c7V,lineWidth:K0p.lineWidth || +"1",opacity:K0p.opacity || 0.8,globalCompositeOperation:"destination-over"});}};N5w.Renderer.Histogram.prototype.getBasis=function(u0p,U0p,L8p){D3mm.Q6o();var r0p,z0p,k0p;r0p=0;if(u0p && this.useSum){for(var y0p=0;y0p < this.seriesParams.length;y0p++){z0p=this.seriesParams[y0p].field;if(z0p === U0p)break;k0p=u0p[z0p];if(k0p && typeof k0p === "object"){k0p=k0p[L8p || this.seriesParams[y0p].subField || this.stx.chart.defaultPlotField || "Close"];}if(k0p){r0p+=k0p;}}}return r0p;};N5w.Renderer.Heatmap=function(c8p){this.construct(c8p);D3mm.P6o();this.params.type="heatmap";this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=! ![];};N5w.inheritsFrom(N5w.Renderer.Heatmap,N5w.Renderer,!"1");N5w.Renderer.Heatmap.requestNew=function(l8p,i8p){var P8p,D8p;P8p=null;for(var d8p="0" >> 1243696800;d8p < l8p.length;d8p++){D8p=l8p[d8p];if(D8p == "heatmap"){P8p="heatmap";}}if(P8p === null){return null;}return new N5w.Renderer.Heatmap({params:N5w.extend(i8p,{type:P8p})});};N5w.Renderer.Heatmap.prototype.draw=function(){D3mm.P6o();this.stx.drawHeatmap(N5w.clone(this.params),this.seriesParams);};N5w.Renderer.Scatter=function(H8p){this.construct(H8p);this.standaloneBars=this.barsHaveWidth=! !{};this.bounded=! ![];};N5w.inheritsFrom(N5w.Renderer.Scatter,N5w.Renderer.Lines,!"1");N5w.Renderer.Scatter.requestNew=function(x8p,j8p){var m8p,A7V,w8p;m8p=null;for(var g8p=0;g8p < x8p.length;g8p++){A7V="s";A7V+="cat";A7V+="ter";w8p=x8p[g8p];if(w8p == "scatterplot"){m8p=A7V;}}D3mm.P6o();if(m8p === null){return null;}return new N5w.Renderer.Scatter({params:N5w.extend(j8p,{type:m8p})});};N5w.Renderer.Scatter.prototype.drawIndividualSeries=function(Y8p,v8p){var V7V,b8p,h8p;V7V="Error, Scatter r";V7V+="enderer r";V7V+="equires customChart.js";b8p=this.stx.panels[v8p.panel] || Y8p.panel;h8p={colors:[]};if(this.stx.scatter){h8p=this.stx.scatter(b8p,v8p);}else {console.warn(V7V);}return h8p;};};i94=S8p=>{var I8p,M7V;D3mm.Q6o();I8p=typeof _CIQ !== "undefined"?_CIQ:S8p.CIQ;if(!I8p.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {M7V="Accumul";M7V+="ation/";M7V+="D";M7V+="istribution";I8p.Studies.calculateAccumulationDistribution=function(o8p,Q8p){var s9x=D3mm;var W8p,m7V,W7V,e8p,N8p,Z8p,J8p;W8p=Q8p.chart.scrubbed;for(var E8p=Q8p.startFrom;E8p < W8p.length;E8p++){m7V="Res";m7V+="u";m7V+="lt ";W7V="Use Volum";W7V+="e";if(!E8p)continue;e8p=W8p[E8p];if(e8p.futureTick)break;s9x.n7G(6);N8p=W8p[s9x.C7G(E8p,1)];s9x.H7G(25);Z8p=s9x.c7G(1,"0");if(e8p.Close > N8p.Close){Z8p=e8p.Close - Math.min(e8p.Low,N8p.Close);}else if(e8p.Close < N8p.Close){Z8p=e8p.Close - Math.max(e8p.High,N8p.Close);}if(Q8p.inputs[W7V]){Z8p*=e8p.Volume;}J8p=N8p[m7V + Q8p.name];if(!J8p){J8p=0;}J8p+=Z8p;if(!isNaN(e8p.Close)){e8p["Result " + Q8p.name]=J8p;}}};I8p.Studies.studyLibrary=I8p.extend(I8p.Studies.studyLibrary,{"W Acc Dist":{name:M7V,calculateFN:I8p.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}});}};H94=n8p=>{var f8p,T0m,J0m,g0m;f8p=typeof _CIQ !== "undefined"?_CIQ:n8p.CIQ;if(!f8p.Studies){console.error("adx feature requires first activating studies feature.");}else {T0m="#FF0";T0m+="000";J0m="#0";J0m+="0DD00";g0m="a";g0m+="u";g0m+="t";g0m+="o";f8p.Studies.calculateADX=function(s8p,O8p){var p9x=D3mm;var X8p,C8p,G8p,t8p,A8p,B8p,p8p,q8p,T8p,K8p,n7V,w7V,C7V,M8p,F8p,k8p,U7V,x7V,q7V,V8p;f8p.Studies.calculateStudyATR(s8p,O8p);X8p=O8p.chart.scrubbed;C8p=O8p.days;G8p=parseInt(O8p.inputs["Smoothing Period"],+"10");if(!G8p && G8p !== 0){G8p=C8p;}if(X8p.length < O8p.days + +"1"){O8p.error=! !{};return;}t8p=+"0";A8p=0;p9x.n7G(18);B8p=p9x.C7G("0",0);p8p=0;for(var a8p=Math.max(1,O8p.startFrom);a8p < X8p.length;a8p++){q8p=X8p[a8p];T8p=Math.max(0,q8p.High - X8p[a8p - 1].High);K8p=Math.max(0,X8p[a8p - 1].Low - q8p.Low);if(T8p > K8p){K8p=0;}else if(K8p > T8p){T8p=0;}else {T8p=K8p=+"0";}if(a8p <= C8p){A8p+=T8p;B8p+=K8p;t8p+=q8p["True Range " + O8p.name];}else {n7V="_s";n7V+="m";n7V+="TR ";w7V="_sm";w7V+="-D";w7V+="M";w7V+=" ";C7V="_sm+";C7V+="D";C7V+="M ";p9x.n7G(10);var p5G=p9x.C7G(1,5,5);p9x.H7G(5);var y5G=p9x.C7G(15,0,14);A8p=X8p[a8p - ("1" | p5G)][C7V + O8p.name] * (C8p - ("1" | y5G)) / C8p + T8p;p9x.H7G(36);var E5G=p9x.C7G(14,111,0,8);p9x.n7G(5);var s5G=p9x.C7G(13,0,12);B8p=X8p[a8p - E5G][w7V + O8p.name] * (C8p - s5G) / C8p + K8p;p9x.H7G(6);var Q5G=p9x.c7G(6,5);p9x.H7G(6);var I5G=p9x.c7G(13,12);t8p=X8p[a8p - Q5G][n7V + O8p.name] * (C8p - I5G) / C8p + q8p["True Range " + O8p.name];}q8p["_sm+DM " + O8p.name]=A8p;q8p["_sm-DM " + O8p.name]=B8p;q8p["_smTR " + O8p.name]=t8p;if(a8p < C8p)continue;p9x.H7G(120);M8p=p9x.C7G(A8p,100,t8p);p9x.n7G(120);F8p=p9x.C7G(B8p,100,t8p);p9x.n7G(6);var Y5G=p9x.C7G(900,800);k8p=Y5G * Math.abs(M8p - F8p) / (M8p + F8p);q8p["+DI " + O8p.name]=M8p;q8p["-DI " + O8p.name]=F8p;if(O8p.inputs.Series !== !"1" && G8p){if(a8p < C8p + G8p - 1){if(a8p == O8p.startFrom){for(var R8p=C8p;R8p < O8p.startFrom;R8p++){U7V="-";U7V+="D";U7V+="I";U7V+=" ";p9x.H7G(71);var b5G=p9x.C7G(4,89,95,89,1);p8p+=b5G * Math.abs(X8p[R8p]["+DI " + O8p.name] - X8p[R8p]["-DI " + O8p.name]) / (X8p[R8p]["+DI " + O8p.name] + X8p[R8p][U7V + O8p.name]);}}p8p+=k8p;}else if(a8p == C8p + G8p - 1){p9x.H7G(20);q8p["ADX " + O8p.name]=p9x.C7G(G8p,p8p);}else {x7V="A";x7V+="D";x7V+="X";x7V+=" ";p9x.H7G(10);var z5G=p9x.C7G(3,11,13);q8p[x7V + O8p.name]=(X8p[a8p - z5G]["ADX " + O8p.name] * (G8p - +"1") + k8p) / G8p;}}if(O8p.inputs.Histogram){q7V="+";q7V+="D";q7V+="I";q7V+=" ";V8p=O8p.name + "_hist";if(!q8p[q7V + O8p.name] && q8p["+DI " + O8p.name] !== ("0" ^ 0))continue;if(!q8p["-DI " + O8p.name] && q8p["-DI " + O8p.name] !== 0)continue;q8p[V8p]=q8p["+DI " + O8p.name] - q8p["-DI " + O8p.name];if(O8p.inputs.Series === ![]){q8p["+DI " + O8p.name]=null;q8p["-DI " + O8p.name]=null;}O8p.outputMap[V8p]="";}}};f8p.Studies.displayADX=function(r8p,y8p,c3p){var l7V,P3p,z8p,u8p,d3p,l3p,U8p,L3p;l7V="Nothing ";l7V+="to display";P3p=y8p.underlay?0.3:y8p.inputs.Series?0.4:"1" << 284316896;if(y8p.inputs.Series && y8p.inputs.Shading){z8p="+DI " + y8p.name;u8p="-DI " + y8p.name;d3p=f8p.Studies.determineColor(y8p.outputs[y8p.outputMap[z8p]]);l3p=f8p.Studies.determineColor(y8p.outputs[y8p.outputMap[u8p]]);U8p=y8p.getYAxis(r8p);L3p={topBand:z8p,bottomBand:u8p,topColor:d3p,bottomColor:l3p,skipTransform:r8p.panels[y8p.panel].name != y8p.chart.name,topAxis:U8p,bottomAxis:U8p,opacity:0.3};if(!y8p.highlight && r8p.highlightedDraggable){L3p.opacity*=0.3;}f8p.fillIntersecting(r8p,y8p.panel,L3p);}D3mm.Q6o();if(y8p.inputs.Histogram){f8p.Studies.createHistogram(r8p,y8p,c3p,! !"",P3p);}if(y8p.inputs.Series !== !"1"){f8p.Studies.displaySeriesAsLine(r8p,y8p,c3p);}else if(!y8p.inputs.Series && !y8p.inputs.Histogram){r8p.displayErrorAsWatermark(y8p.panel,r8p.translateIf(y8p.name) + ": " + r8p.translateIf(l7V));}};f8p.Studies.studyLibrary=f8p.extend(f8p.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:f8p.Studies.calculateADX,seriesFN:f8p.Studies.displayADX,inputs:{Period:+"14","Smoothing Period":14,Series:! !{},Shading:! !0,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:g0m,"Positive Bar":J0m,"Negative Bar":T0m}}});}};m94=i3p=>{var D3p,e0m,z0m,b0m;D3p=typeof _CIQ !== "undefined"?_CIQ:i3p.CIQ;if(!D3p.Studies){console.error("alligator feature requires first activating studies feature.");}else {e0m="#";e0m+="00";e0m+="DD00";z0m="Gator O";z0m+="scillat";z0m+="or";b0m="#FF";b0m+="000";b0m+="0";D3p.Studies.calculateAlligator=function(v3p,g3p){var P9x=D3mm;var d0m,x3p,H3p,v0m,G0m,f0m,j3p,h3p,w3p,a0m;d0m="Teeth";d0m+=" Per";d0m+="iod";x3p={J:Number(g3p.inputs["Jaw Period"]),T:Number(g3p.inputs[d0m]),L:Number(g3p.inputs["Lips Period"])};H3p=g3p.chart.scrubbed;if(H3p.length < Math.max(x3p.J,x3p.T,x3p.L) + 1){g3p.error=! !{};return;}if(g3p.type === "Gator" || g3p.inputs["Show Lines"]){v0m="L";v0m+="i";v0m+="ps";G0m="wel";G0m+="les w";G0m+="ild";G0m+="er";D3p.Studies.MA("welles wilder",x3p.J,"hl/2",g3p.inputs["Jaw Offset"],"Jaw",v3p,g3p);D3p.Studies.MA(G0m,x3p.T,"hl/2",g3p.inputs["Teeth Offset"],"Teeth",v3p,g3p);D3p.Studies.MA("welles wilder",x3p.L,"hl/2",g3p.inputs["Lips Offset"],v0m,v3p,g3p);}for(var m3p=g3p.startFrom;m3p < H3p.length;m3p++){if(!H3p[m3p])continue;if(g3p.type == "Gator"){f0m="_";f0m+="hi";f0m+="s";f0m+="t1";j3p=H3p[m3p]["Jaw " + g3p.name];h3p=H3p[m3p]["Lips " + g3p.name];w3p=H3p[m3p]["Teeth " + g3p.name];if(w3p || w3p === 0){if(j3p || j3p === 0){P9x.n7G(6);H3p[m3p][g3p.name + "_hist1"]=Math.abs(P9x.C7G(j3p,w3p));}if(h3p || h3p === ("0" ^ 0)){P9x.H7G(6);H3p[m3p][g3p.name + "_hist2"]=-Math.abs(P9x.c7G(w3p,h3p));}}g3p.outputMap={};g3p.outputMap[g3p.name + f0m]="";g3p.outputMap[g3p.name + "_hist2"]="";}if(g3p.inputs["Show Fractals"]){if(!H3p[m3p - 2] || !H3p[m3p - 1] || !H3p[m3p] || !H3p[m3p + 1] || !H3p[m3p + 2])continue;if(H3p[m3p - 2].High && H3p[m3p - +"1"].High && H3p[m3p].High && H3p[m3p + 1].High && H3p[m3p + 2].High){if(H3p[m3p].High > H3p[m3p - 1].High && H3p[m3p].High > H3p[m3p - 2].High && H3p[m3p].High > H3p[m3p + 1].High && H3p[m3p].High > H3p[m3p + 2].High){P9x.H7G(41);H3p[m3p]["Fractal High " + g3p.name]=P9x.c7G("1",0);}}if(H3p[m3p - "2" * 1].Low && H3p[m3p - 1].Low && H3p[m3p].Low && H3p[m3p + 1].Low && H3p[m3p + 2].Low){if(H3p[m3p].Low < H3p[m3p - +"1"].Low && H3p[m3p].Low < H3p[m3p - 2].Low && H3p[m3p].Low < H3p[m3p + +"1"].Low && H3p[m3p].Low < H3p[m3p + 2].Low){a0m="F";a0m+="ractal Low ";P9x.n7G(47);H3p[m3p][a0m + g3p.name]=P9x.c7G(2147483647,"1");}}}}};D3p.Studies.displayAlligator=function(b3p,S3p,e3p){var t0m,B0m,Y3p,O0m,X0m;function E3p(Z3p,J3p){D3mm.Q6o();var Q3p,N3p,D0m;N3p=b3p.chart.panel.yAxis.flipped;if(Z3p == "high"){D0m="botto";D0m+="m";Y3p.fillStyle=b3p.defaultColor;Y3p.textBaseline=N3p?"top":D0m;Q3p=b3p.pixelFromPrice(e3p[J3p].High);Y3p.fillText(N3p?(5146,338) == 856?"0x14d0" - 0:3351 > 678.33?"\u25BC":1.90e+3:"\u25B2",b3p.pixelFromBar(I3p,b3p.chart) - Y3p.measureText(4017 !== 65.75?"\u25B2":373.24 === 8940?25.90:(! !{},6.16e+3)).width / 2 + +"1",N3p?Q3p + 5:Q3p - 5);;}else if(Z3p == "low"){Y3p.fillStyle=b3p.defaultColor;Y3p.textBaseline=N3p?"bottom":"top";Q3p=b3p.pixelFromPrice(e3p[J3p].Low);Y3p.fillText(N3p?"\u25B2":"\u25BC",b3p.pixelFromBar(I3p,b3p.chart) - Y3p.measureText("3659" * 1 >= (+"720.06",7940)?9.09e+2:"\u25BC").width / ("2" ^ 0) + 1,N3p?Q3p - 5:Q3p + 5);;}}t0m="Sh";t0m+="ow Fractals";B0m="Sh";B0m+="ow Li";B0m+="nes";Y3p=S3p.getContext(b3p);if(S3p.inputs[B0m]){D3p.Studies.displaySeriesAsLine(b3p,S3p,e3p);}if(S3p.inputs[t0m]){b3p.startClip();Y3p.globalAlpha=S3p.underlay?+"0.3":1;if(!S3p.highlight && b3p.highlightedDraggable){D3mm.n7G(6);Y3p.globalAlpha*=D3mm.C7G("0.3",0);}for(var I3p="2" << 1257263936;I3p < e3p.length - 2;I3p++){if(e3p[I3p]){O0m="l";O0m+="o";O0m+="w";X0m="Fractal ";X0m+="Low ";if(e3p[I3p]["Fractal High " + S3p.name]){E3p("high",I3p);}if(e3p[I3p][X0m + S3p.name]){E3p(O0m,I3p);}}}b3p.endClip();}};D3p.Studies.displayGator=function(o3p,W3p,G3p){var n9x=D3mm;var p0m,F0m,C3p,n3p,T3p,K3p,a3p,R3p,t3p,q3p,X3p,Y0m,I0m,Q0m,s0m,E0m,y0m;p0m="stx";p0m+="_hist";p0m+="ogram";F0m="In";F0m+="c";F0m+="reasing Bar";C3p=o3p.panels[W3p.panel];n3p=W3p.getContext(o3p);T3p=W3p.getYAxis(o3p);n9x.n7G(29);K3p=o3p.pixelFromPrice(n9x.C7G("0",86965952),C3p,T3p);n9x.H7G(121);var e5G=n9x.c7G(1,5,5,2);a3p=o3p.layout.candleWidth - e5G;if(a3p < 2){a3p=1;}R3p=D3p.Studies.determineColor(W3p.outputs[F0m]);t3p=D3p.Studies.determineColor(W3p.outputs["Decreasing Bar"]);o3p.canvasColor(p0m);if(!W3p.underlay){n3p.globalAlpha=+"1";}n3p.fillStyle="#CCCCCC";o3p.startClip(W3p.panel);if(!W3p.highlight && o3p.highlightedDraggable){n3p.globalAlpha*=0.3;}for(var O3p=0;O3p < G3p.length;O3p++){q3p=G3p[O3p];n9x.H7G(6);X3p=G3p[n9x.c7G(O3p,1)];if(!q3p)continue;for(var f3p=1;f3p <= 2;f3p++){Y0m="_";Y0m+="h";Y0m+="is";Y0m+="t";I0m="_";I0m+="hist";Q0m="_";Q0m+="hist";s0m="_";s0m+="hist";E0m="#CCC";E0m+="CCC";y0m="_";y0m+="hist";if(!X3p){X3p=o3p.getPreviousBar(o3p.chart,W3p.name + y0m + f3p,O3p);}if(!X3p){n3p.fillStyle=E0m;}else if(Math.abs(X3p[W3p.name + s0m + f3p]) < Math.abs(q3p[W3p.name + Q0m + f3p])){n3p.fillStyle=R3p;}else if(Math.abs(X3p[W3p.name + I0m + f3p]) > Math.abs(q3p[W3p.name + "_hist" + f3p])){n3p.fillStyle=t3p;}if(q3p.candleWidth){a3p=Math.floor(Math.max(1,q3p.candleWidth - 2));}n3p.fillRect(Math.floor(o3p.pixelFromBar(O3p,C3p.chart) - a3p / 2),Math.floor(K3p),Math.floor(a3p),Math.floor(o3p.pixelFromPrice(q3p[W3p.name + Y0m + f3p],C3p,T3p) - K3p));}}o3p.endClip();};D3p.Studies.studyLibrary=D3p.extend(D3p.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!0,seriesFN:D3p.Studies.displayAlligator,calculateFN:D3p.Studies.calculateAlligator,inputs:{"Show Lines":! !{},"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":"5" & 2147483647,"Lips Period":5,"Lips Offset":3,"Show Fractals":!{}},outputs:{Jaw:"#0000FF",Teeth:b0m,Lips:"#00DD00"}},Gator:{name:z0m,seriesFN:D3p.Studies.displayGator,calculateFN:D3p.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":+"8","Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":e0m,"Decreasing Bar":"#FF0000"},centerline:0}});}};g94=B3p=>{var A3p,N0m,R0m;D3mm.P6o();A3p=typeof _CIQ !== "undefined"?_CIQ:B3p.CIQ;if(!A3p.Studies){console.error("aroon feature requires first activating studies feature.");}else {N0m="a";N0m+="u";N0m+="t";N0m+="o";R0m="A";R0m+="roon Oscillator";A3p.Studies.calculateAroon=function(d9p,p3p){var r9x=D3mm;var s3p,y3p,r3p,F3p,k3p,h0m,u3p,V3p,o0m,P0m,Z0m,M3p,U3p,L9p,c9p,P9p;s3p=p3p.chart.scrubbed;if(s3p.length < p3p.days + 1){p3p.error=! ![];return;}y3p=0;r3p=0;F3p=null;k3p=null;if(p3p.startFrom > 0){h0m="_st";h0m+="ate ";r9x.n7G(5);var h5G=r9x.c7G(10,6,15);u3p=s3p[p3p.startFrom - h5G][h0m + p3p.name];if(u3p){y3p=u3p[0];r3p=u3p[1];F3p=u3p[2];k3p=u3p[3];}}for(var z3p=p3p.startFrom;z3p < s3p.length;z3p++){o0m="_s";o0m+="t";o0m+="ate";o0m+=" ";P0m="Aro";P0m+="on ";P0m+="Up ";Z0m="Aroon Up";Z0m+=" ";M3p=s3p[z3p];if(M3p.futureTick)break;if(F3p === null){F3p=M3p.High;}if(k3p === null){k3p=M3p.Low;}F3p=Math.max(F3p,M3p.High);if(F3p == M3p.High){y3p=0;}else {y3p++;if(y3p > p3p.days){F3p=M3p.High;y3p=+"0";for(V3p=1;V3p <= p3p.days;V3p++){F3p=Math.max(F3p,s3p[z3p - V3p].High);if(F3p == s3p[z3p - V3p].High){y3p=V3p;}}}}k3p=Math.min(k3p,M3p.Low);if(k3p == M3p.Low){r3p=0;}else {r3p++;if(r3p > p3p.days){k3p=M3p.Low;r3p=+"0";for(V3p=1;V3p <= p3p.days;V3p++){k3p=Math.min(k3p,s3p[z3p - V3p].Low);if(k3p == s3p[z3p - V3p].Low){r3p=V3p;}}}}U3p=!isNaN(M3p.High);L9p=!isNaN(M3p.Low);r9x.n7G(109);var Z5G=r9x.C7G(11,700,2,15300);r9x.H7G(15);var P5G=r9x.C7G(10,11);c9p=Z5G * (P5G - y3p / p3p.days);if(U3p){M3p[Z0m + p3p.name]=c9p;}r9x.H7G(58);var o5G=r9x.c7G(97,111,37);r9x.n7G(122);var R5G=r9x.C7G(6,59,19,14,15);P9p=o5G * (R5G - r3p / p3p.days);if(L9p){M3p["Aroon Down " + p3p.name]=P9p;}if(U3p && L9p){M3p["Aroon Oscillator " + p3p.name]=M3p[P0m + p3p.name] - M3p["Aroon Down " + p3p.name];}M3p[o0m + p3p.name]=[y3p,r3p,F3p,k3p];}};A3p.Studies.studyLibrary=A3p.extend(A3p.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:A3p.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:R0m,calculateFN:A3p.Studies.calculateAroon,outputs:{"Aroon Oscillator":N0m}}});}};x94=D9p=>{var l9p,V0m,A0m,c0m,r0m,i0m,K0m,H0m,S0m,L0m,k0m;l9p=typeof _CIQ !== "undefined"?_CIQ:D9p.CIQ;if(!l9p.Studies){console.error("atr feature requires first activating studies feature.");}else {V0m="#0";V0m+="0FF";V0m+="00";A0m="#";A0m+="FF";A0m+="00";A0m+="00";c0m="squ";c0m+="arewave";r0m="poin";r0m+="ts";i0m="AT";i0m+="R Tra";i0m+="ilin";i0m+="g Stops";K0m="a";K0m+="u";K0m+="t";K0m+="o";H0m="au";H0m+="t";H0m+="o";S0m="STAR";S0m+="C B";S0m+="ands";L0m="aut";L0m+="o";k0m="a";k0m+="u";k0m+="t";k0m+="o";l9p.Studies.calculateATRBands=function(m9p,i9p){var H9p;l9p.Studies.calculateStudyATR(m9p,i9p);H9p=i9p.inputs.Field;if(!H9p || H9p == "field"){H9p="Close";}l9p.Studies.calculateGenericEnvelope(m9p,i9p,i9p.inputs.Shift,H9p,"ATR " + i9p.name);};l9p.Studies.calculateSTARCBands=function(x9p,g9p){l9p.Studies.calculateStudyATR(x9p,g9p);l9p.Studies.MA("simple",g9p.inputs["MA Period"],"Close",0,"_MA",x9p,g9p);D3mm.P6o();l9p.Studies.calculateGenericEnvelope(x9p,g9p,g9p.inputs.Multiplier,"_MA " + g9p.name,"ATR " + g9p.name);};l9p.Studies.calculateATRStops=function(N9p,w9p){var j9x=D3mm;var j0m,b9p,S9p,j9p,E9p,h9p,v9p,I9p,e9p,u0m;j0m="A";j0m+="ll";j0m+=" Stop";j0m+="s ";j9x.Q6o();b9p=w9p.chart.scrubbed;if(!b9p){return;}l9p.Studies.calculateStudyATR(N9p,w9p);S9p=w9p.inputs.HighLow;for(var Y9p=Math.max(w9p.startFrom - 1,1);Y9p < b9p.length - 1;Y9p++){j9p=b9p[Y9p];j9x.H7G(6);E9p=b9p[j9x.c7G(Y9p,1)];h9p=j9p["Buy Stops " + w9p.name];if(!h9p){h9p=j9p["Sell Stops " + w9p.name];}if(!h9p){h9p=0;}if(!j9p || !E9p)continue;v9p=j9p.Close;I9p=v9p;e9p=j9p["ATR " + w9p.name] * w9p.inputs.Multiplier;if(j9p.Close > h9p && E9p.Close > h9p){if(S9p){v9p=j9p.High;}j9x.H7G(6);I9p=Math.max(h9p,j9x.c7G(v9p,e9p));}else if(j9p.Close <= h9p && E9p.Close <= h9p){if(S9p){v9p=j9p.Low;}j9x.H7G(3);I9p=Math.min(h9p,j9x.c7G(e9p,v9p));}else if(j9p.Close > h9p){if(S9p){v9p=j9p.High;}j9x.H7G(6);I9p=j9x.c7G(v9p,e9p);}else if(j9p.Close <= h9p){if(S9p){v9p=j9p.Low;}j9x.H7G(3);I9p=j9x.C7G(e9p,v9p);}if(v9p <= I9p){u0m="Bu";u0m+="y Stops ";j9x.n7G(3);b9p[j9x.C7G(1,Y9p)][u0m + w9p.name]=I9p;j9x.H7G(3);delete b9p[j9x.C7G(1,Y9p)]["Sell Stops " + w9p.name];}else if(v9p > I9p){j9x.n7G(3);b9p[j9x.C7G(1,Y9p)]["Sell Stops " + w9p.name]=I9p;j9x.n7G(40);delete b9p[j9x.c7G(Y9p,0,"1")]["Buy Stops " + w9p.name];}j9x.n7G(3);b9p[j9x.C7G(1,Y9p)]["All Stops " + w9p.name]=I9p;}w9p.referenceOutput="All Stops";w9p.outputMap={};w9p.outputMap[j0m + w9p.name]="";};l9p.Studies.studyLibrary=l9p.extend(l9p.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:l9p.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !"1",seriesFN:l9p.Studies.displayChannel,calculateFN:l9p.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":k0m,"ATR Bands Channel":L0m},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:S0m,overlay:! !{},seriesFN:l9p.Studies.displayChannel,calculateFN:l9p.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! ![]},outputs:{"STARC Bands Top":"auto","STARC Bands Median":H0m,"STARC Bands Bottom":K0m},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:i0m,overlay:!"",seriesFN:l9p.Studies.displayPSAR2,calculateFN:l9p.Studies.calculateATRStops,inputs:{Period:+"21",Multiplier:+"3","Plot Type":[r0m,c0m],HighLow:!{}},outputs:{"Buy Stops":A0m,"Sell Stops":V0m},attributes:{Multiplier:{min:"0.1" * 1,step:0.1}}}});}};w94=Z9p=>{var W0m,Q9p,q0m;W0m="undefi";W0m+="ned";Q9p=typeof _CIQ !== W0m?_CIQ:Z9p.CIQ;if(!Q9p.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {q0m="#FF00";q0m+="00";Q9p.Studies.calculateAwesomeOscillator=function(f9p,J9p){var O9x=D3mm;var C0m,m0m,B5V,t5V,X5V,W9p,M0m;C0m="_hi";C0m+="st";m0m="h";m0m+="l";m0m+="/";m0m+="2";B5V=-532409144;t5V=974793556;X5V=2;for(var F5V=1;O9x.g3V(F5V.toString(),F5V.toString().length,75552) !== B5V;F5V++){W9p=J9p.chart.scrubbed;X5V+=2;}if(O9x.g3V(X5V.toString(),X5V.toString().length,58715) !== t5V){W9p=J9p.chart.scrubbed;}if(W9p.length < 33){J9p.error=!"";return;}O9x.H7G(0);Q9p.Studies.MA("simple",5,m0m,O9x.C7G("0",1944062176),"_MA5",f9p,J9p);Q9p.Studies.MA("simple",34,"hl/2",0,"_MA34",f9p,J9p);for(var o9p=Math.max(J9p.startFrom,33);o9p < W9p.length;o9p++){M0m="_";M0m+="M";M0m+="A";M0m+="5 ";if(!W9p[o9p])continue;W9p[o9p][J9p.name + "_hist"]=W9p[o9p][M0m + J9p.name] - W9p[o9p]["_MA34 " + J9p.name];}J9p.outputMap={};J9p.outputMap[J9p.name + C0m]="";};Q9p.Studies.displayAwesomeOscillator=function(O9p,n9p,K9p){var I9x=D3mm;var n0m,w0m,T9p,q9p,R9p,t9p,C9p,A9p,B9p,x0m,U0m,X9p,G9p;n0m="st";n0m+="x";n0m+="_hist";n0m+="ogram";w0m="D";w0m+="ecreas";w0m+="ing ";w0m+="Bar";T9p=O9p.panels[n9p.panel];q9p=n9p.getContext(O9p);R9p=n9p.getYAxis(O9p);t9p=O9p.pixelFromPrice(+"0",T9p,R9p);I9x.H7G(3);I9x.P6o();var N5G=I9x.c7G(2,0);C9p=O9p.layout.candleWidth - N5G;if(C9p < "2" << 2117120832){C9p=+"1";}A9p=Q9p.Studies.determineColor(n9p.outputs["Increasing Bar"]);B9p=Q9p.Studies.determineColor(n9p.outputs[w0m]);O9p.canvasColor(n0m);if(!n9p.underlay){q9p.globalAlpha=1;}q9p.fillStyle="#CCCCCC";O9p.startClip(n9p.panel);if(!n9p.highlight && O9p.highlightedDraggable){q9p.globalAlpha*=0.3;}for(var a9p=0;a9p < K9p.length;a9p++){x0m="_hi";x0m+="st";U0m="_hi";U0m+="s";U0m+="t";X9p=K9p[a9p];I9x.n7G(6);G9p=K9p[I9x.c7G(a9p,1)];if(!G9p){G9p=O9p.getPreviousBar(O9p.chart,n9p.name + "_hist",a9p);}if(!X9p)continue;if(!G9p);else if(G9p[n9p.name + "_hist"] < X9p[n9p.name + U0m]){q9p.fillStyle=A9p;}else if(G9p[n9p.name + "_hist"] > X9p[n9p.name + x0m]){q9p.fillStyle=B9p;}if(X9p.candleWidth){C9p=Math.floor(Math.max(1,X9p.candleWidth - 2));}q9p.fillRect(Math.floor(O9p.pixelFromBar(a9p,T9p.chart) - C9p / 2),Math.floor(t9p),Math.floor(C9p),Math.floor(O9p.pixelFromPrice(X9p[n9p.name + "_hist"],T9p,R9p) - t9p));}O9p.endClip();};Q9p.Studies.studyLibrary=Q9p.extend(Q9p.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:Q9p.Studies.displayAwesomeOscillator,calculateFN:Q9p.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":q0m}}});}};j94=M9p=>{var p9p,l0m;D3mm.P6o();p9p=typeof _CIQ !== "undefined"?_CIQ:M9p.CIQ;if(!p9p.Studies){l0m="balanceOf";l0m+="Power feature requi";l0m+="res first activating studie";l0m+="s feature.";console.error(l0m);}else {p9p.Studies.calculateBalanceOfPower=function(y9p,F9p){var T3m,J3m,V9p,g3m,k9p;T3m="_";T3m+="Ratio";T3m+=" ";J3m="M";J3m+="oving Average Type";V9p=F9p.chart.scrubbed;if(V9p.length < F9p.days + "1" * 1){F9p.error=! !1;return;}for(var s9p=F9p.startFrom;s9p < V9p.length;s9p++){g3m="_";g3m+="Ra";g3m+="ti";g3m+="o ";k9p=V9p[s9p];k9p["_Ratio " + F9p.name]=k9p.Close - k9p.Open;if(k9p.High - k9p.Low !== 0){k9p[g3m + F9p.name]/=k9p.High - k9p.Low;}}p9p.Studies.MA(F9p.inputs[J3m],F9p.days,T3m + F9p.name,0,"Result",y9p,F9p);};p9p.Studies.studyLibrary=p9p.extend(p9p.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:p9p.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};h94=z9p=>{var r9p,s6V,Q6V,I6V,E3m,y3m,p3m,F3m,O3m,X3m,t3m,B3m,Y3m,I3m,Q3m,s3m;r9p=typeof _CIQ !== "undefined"?_CIQ:z9p.CIQ;if(!r9p.Studies){console.error("bollinger feature requires first activating studies feature.");}else {r9p.Studies.calculateBollinger=function(L4p,u9p){var D3m,a3m,f3m,v3m,G3m,d3m,U9p;D3m="_";D3m+="ST";D3m+="D Dev ";a3m="_MA";a3m+=" ";f3m="S";f3m+="t";f3m+="andard";f3m+=" Deviations";v3m="_";v3m+="M";v3m+="A";G3m="M";G3m+="oving A";G3m+="verage Type";d3m="C";d3m+="l";d3m+="os";d3m+="e";U9p=u9p.inputs.Field;if(!U9p || U9p == "field"){U9p=d3m;}r9p.Studies.MA(u9p.inputs[G3m],u9p.days,U9p,0,v3m,L4p,u9p);u9p.std=new r9p.Studies.StudyDescriptor(u9p.name,"STD Dev",u9p.panel);u9p.std.chart=u9p.chart;u9p.std.startFrom=u9p.startFrom;u9p.std.days=u9p.days;u9p.std.inputs={Field:U9p,"Standard Deviations":1,Type:u9p.inputs["Moving Average Type"]};u9p.std.outputs={"_STD Dev":null};r9p.Studies.calculateStandardDeviation(L4p,u9p.std);r9p.Studies.calculateGenericEnvelope(L4p,u9p,u9p.inputs[f3m],a3m + u9p.name,D3m + u9p.name);if(u9p.type == "Boll %b"){u9p.zoneOutput="%b";}};s6V=-1112322904;Q6V=-1766157865;I6V=2;for(var b6V=1;D3mm.g3V(b6V.toString(),b6V.toString().length,"97767" * 1) !== s6V;b6V++){E3m="m";E3m+="a";y3m="a";y3m+="ut";y3m+="o";p3m="a";p3m+="u";p3m+="t";p3m+="o";F3m="a";F3m+="uto";O3m="au";O3m+="to";X3m="m";X3m+="a";t3m="fi";t3m+="e";t3m+="l";t3m+="d";B3m="Bo";B3m+="llinger Bands";r9p.Studies.studyLibrary=r9p.extend(r9p.Studies.studyLibrary,{"Bollinger Bands":{name:B3m,overlay:! !{},calculateFN:r9p.Studies.calculateBollinger,seriesFN:r9p.Studies.displayChannel,inputs:{Period:20,Field:t3m,"Standard Deviations":2,"Moving Average Type":X3m,"Channel Fill":! !"1"},outputs:{"Bollinger Bands Top":O3m,"Bollinger Bands Median":F3m,"Bollinger Bands Bottom":p3m},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:r9p.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":y3m},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:"0" - 0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:r9p.Studies.calculateBollinger,inputs:{Period:+"20",Field:"field","Standard Deviations":2,"Moving Average Type":E3m},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});I6V+=2;}if(D3mm.g3V(I6V.toString(),I6V.toString().length,96415) !== Q6V){Y3m="%";Y3m+="b";I3m="m";I3m+="a";Q3m="m";Q3m+="a";s3m="Movin";s3m+="g Average";s3m+=" T";s3m+="ype";r9p.Studies.studyLibrary=r9p.extend(r9p.Studies.studyLibrary,{"Bollinger Bands":{name:"field",overlay:!{},calculateFN:r9p.Studies.calculateBollinger,seriesFN:r9p.Studies.displayChannel,inputs:{Period:68,Field:s3m,"Standard Deviations":3,"Moving Average Type":"Standard Deviations","Channel Fill":![]},outputs:{"Bollinger Bands Top":"Bollinger Bands Median","Bollinger Bands Median":"Bollinger %b","Bollinger Bands Bottom":Q3m},attributes:{"Standard Deviations":{min:777,step:+"239"}}},"Boll %b":{name:"Boll %b",calculateFN:r9p.Studies.calculateBollinger,inputs:{Period:19,Field:"Bollinger Bandwidth","Standard Deviations":+"0","Moving Average Type":"ma"},outputs:{"%b":"%b"},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:252,studyOverBoughtColor:"Standard Deviations",studyOverSoldValue:1,studyOverSoldColor:"Standard Deviations"}},attributes:{"Standard Deviations":{min:262,step:609}}},"Boll BW":{name:"Standard Deviations",calculateFN:r9p.Studies.calculateBollinger,inputs:{Period:13,Field:I3m,"Standard Deviations":8,"Moving Average Type":Y3m},outputs:{Bandwidth:"field"},attributes:{"Standard Deviations":{min:200,step:118}}}});}}};v94=P4p=>{var c4p,P3m;c4p=typeof _CIQ !== "undefined"?_CIQ:P4p.CIQ;if(!c4p.Studies){console.error("cci feature requires first activating studies feature.");}else {P3m="Commod";P3m+="it";P3m+="y Channel Inde";P3m+="x";c4p.Studies.calculateCCI=function(g4p,d4p){var e3m,z3m,b3m,D4p,Z3m,h3m,l4p,H4p;e3m="M";e3m+="A";z3m="h";z3m+="lc";z3m+="/";z3m+="3";b3m="s";b3m+="impl";b3m+="e";D3mm.P6o();D4p=d4p.chart.scrubbed;if(D4p.length < d4p.days + 1){d4p.error=!0;return;}c4p.Studies.MA(b3m,d4p.days,z3m,0,e3m,g4p,d4p);for(var i4p=Math.max(d4p.startFrom,d4p.days - 1);i4p < D4p.length;i4p++){Z3m="Re";Z3m+="sul";Z3m+="t ";h3m="Result";h3m+=" ";l4p=D4p[i4p];if(!l4p)continue;H4p=0;for(var m4p=0;m4p < d4p.days;m4p++){H4p+=Math.abs(D4p[i4p - m4p]["hlc/3"] - l4p["MA " + d4p.name]);}H4p/=d4p.days;if(Math.abs(H4p) < 0.00000001){l4p[h3m + d4p.name]=0;}else {l4p[Z3m + d4p.name]=(l4p["hlc/3"] - l4p["MA " + d4p.name]) / (0.015 * H4p);}}};c4p.Studies.studyLibrary=c4p.extend(c4p.Studies.studyLibrary,{CCI:{name:P3m,calculateFN:c4p.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-("100" ^ 0),studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};b94=w4p=>{var x4p,R3m;D3mm.P6o();x4p=typeof _CIQ !== "undefined"?_CIQ:w4p.CIQ;if(!x4p.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {R3m="fiel";R3m+="d";x4p.Studies.calculateCenterOfGravity=function(E4p,j4p){var K9x=D3mm;var h4p,v4p,o3m,S4p,I4p,e4p;h4p=j4p.chart.scrubbed;if(h4p.length < j4p.days){j4p.error=!"";return;}v4p=j4p.inputs.Field;if(!v4p || v4p == "field"){v4p="Close";}for(var b4p=Math.max(j4p.startFrom,j4p.days - 1);b4p < h4p.length;b4p++){o3m="Resu";o3m+="lt";o3m+=" ";S4p=0;I4p=+"0";for(var Y4p="0" - 0;Y4p < j4p.days;Y4p++){K9x.H7G(6);e4p=h4p[K9x.c7G(b4p,Y4p)][v4p];K9x.n7G(123);S4p-=K9x.c7G(1,Y4p,e4p);I4p+=e4p;}if(I4p){K9x.H7G(20);h4p[b4p][o3m + j4p.name]=K9x.C7G(I4p,S4p);}}};x4p.Studies.studyLibrary=x4p.extend(x4p.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:x4p.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:R3m}}});}};Y94=Q4p=>{var Y4V,b4V,z4V,N4p,N3m;Y4V=-814762697;b4V=406865279;z4V=+"2";for(var h4V=1;D3mm.g3V(h4V.toString(),h4V.toString().length,23081) !== Y4V;h4V++){N4p=~_CIQ != ""?_CIQ:Q4p.CIQ;z4V+=2;}if(D3mm.g3V(z4V.toString(),z4V.toString().length,14581) !== b4V){N4p=typeof _CIQ !== "undefined"?_CIQ:Q4p.CIQ;}if(!N4p.Studies){N3m="chaiki";N3m+="n";N3m+=" feature requ";N3m+="ires first activating studies feature.";console.error(N3m);}else {N4p.Studies.calculateChaikinMoneyFlow=function(O4p,W4p){var c9x=D3mm;var Z4p,f4p,o4p,n4p,k3m,j3m,u3m,S3m,L3m,H3m;Z4p=W4p.chart.scrubbed;if(Z4p.length < W4p.days){W4p.error=! !"1";return;}f4p=0;c9x.n7G(41);o4p=c9x.C7G("0",0);c9x.H7G(99);var u5G=c9x.C7G(5,9,53,13);n4p=Z4p[W4p.startFrom - u5G];if(n4p){k3m="_";k3m+="su";k3m+="mV ";j3m="_";j3m+="su";j3m+="m";j3m+="V ";u3m="_";u3m+="sumMF ";if(n4p[u3m + W4p.name]){f4p=n4p["_sumMF " + W4p.name];}if(n4p[j3m + W4p.name]){o4p=n4p[k3m + W4p.name];}}for(var J4p=W4p.startFrom;J4p < Z4p.length;J4p++){S3m="_M";S3m+="FV";S3m+=" ";L3m="_MF";L3m+="V";L3m+=" ";if(Z4p[J4p].High == Z4p[J4p].Low){Z4p[J4p][L3m + W4p.name]=0;}else {c9x.H7G(19);var j5G=c9x.c7G(11,1449489169,4);Z4p[J4p]["_MFV " + W4p.name]=Z4p[J4p].Volume * (("2" >> j5G) * Z4p[J4p].Close - Z4p[J4p].High - Z4p[J4p].Low) / (Z4p[J4p].High - Z4p[J4p].Low);}f4p+=Z4p[J4p][S3m + W4p.name];o4p+=Z4p[J4p].Volume;if(J4p > W4p.days - ("1" & 2147483647)){H3m="Resu";H3m+="lt ";f4p-=Z4p[J4p - W4p.days]["_MFV " + W4p.name];o4p-=Z4p[J4p - W4p.days].Volume;if(o4p){c9x.n7G(20);Z4p[J4p][H3m + W4p.name]=c9x.c7G(o4p,f4p);}}Z4p[J4p]["_sumMF " + W4p.name]=f4p;Z4p[J4p]["_sumV " + W4p.name]=o4p;}};N4p.Studies.calculateChaikinVolatility=function(G4p,q4p){var k9x=D3mm;var i3m,X4p,a4p,K3m,C4p;i3m="_Hig";i3m+="h-Low ";X4p=q4p.chart.scrubbed;if(X4p.length < q4p.days){q4p.error=! !{};return;}for(a4p=q4p.startFrom;a4p < X4p.length;a4p++){K3m="_Hi";K3m+="gh-Low ";if(X4p[a4p].futureTick)break;X4p[a4p][K3m + q4p.name]=X4p[a4p].High - X4p[a4p].Low;}N4p.Studies.MA(q4p.inputs["Moving Average Type"],q4p.days,i3m + q4p.name,"0" | 0,"_MA",G4p,q4p);k9x.Q6o();C4p=q4p.inputs["Rate Of Change"];if(!C4p){C4p=q4p.days;}for(a4p=Math.max(q4p.startFrom,C4p);a4p < X4p.length;a4p++){if(!X4p[a4p - C4p]["_MA " + q4p.name])continue;if(X4p[a4p].futureTick)break;k9x.H7G(7);var k5G=k9x.c7G(74,9,17,18);k9x.H7G(3);var L5G=k9x.C7G(1,0);X4p[a4p]["Result " + q4p.name]=k5G * (X4p[a4p]["_MA " + q4p.name] / X4p[a4p - C4p]["_MA " + q4p.name] - L5G);}};N4p.Studies.studyLibrary=N4p.extend(N4p.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:N4p.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:N4p.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};I94=K4p=>{var T4p,n3m,r3m;D3mm.Q6o();T4p=typeof _CIQ !== "undefined"?_CIQ:K4p.CIQ;if(!T4p.Studies){console.error("chande feature requires first activating studies feature.");}else {n3m="a";n3m+="u";n3m+="to";r3m="v";r3m+="m";r3m+="a";T4p.Studies.prettify.variable=r3m;T4p.Studies.movingAverage.conversions.vma="variable";T4p.Studies.movingAverage.translations.variable="Variable";T4p.Studies.movingAverage.typeMap.vma="Variable";T4p.Studies.movingAverage.typeMap.variable="Variable";T4p.Studies.calculateChandeForecast=function(M4p,R4p){var V3m,A3m,c3m,t4p,A4p,m3m,W3m,p4p;V3m="time ";V3m+="se";V3m+="rie";V3m+="s";A3m="C";A3m+="lose";c3m="f";c3m+="ie";c3m+="l";c3m+="d";t4p=R4p.chart.scrubbed;if(t4p.length < R4p.days + ("1" >> 227558880)){R4p.error=! !{};return;}D3mm.P6o();A4p=R4p.inputs.Field;if(!A4p || A4p == c3m){A4p=A3m;}T4p.Studies.MA(V3m,R4p.days,A4p,0,"MA",M4p,R4p);for(var B4p=Math.max(1,R4p.startFrom);B4p < t4p.length;B4p++){m3m="MA";m3m+=" ";W3m="o";W3m+="bjec";W3m+="t";p4p=t4p[B4p][A4p];if(p4p && typeof p4p == W3m){p4p=p4p[R4p.subField];}D3mm.n7G(124);var S5G=D3mm.C7G(1,93,1,7);t4p[B4p]["Result " + R4p.name]=S5G * (("1" & 2147483647) - t4p[B4p][m3m + R4p.name] / p4p);}};T4p.Studies.calculateChandeMomentum=function(l6p,F4p){var x9x=D3mm;var M3m,z4p,s4p,y4p,u4p,U4p,L6p,r4p,V4p,c6p,P6p;M3m="fi";M3m+="eld";z4p=F4p.name;for(var d6p in F4p.outputs){x9x.n7G(19);z4p=x9x.C7G(z4p,d6p," ");}s4p=F4p.chart.scrubbed;if(s4p.length < F4p.days + 1){F4p.error=! ![];return;}y4p=F4p.inputs.Field;x9x.P6o();if(!y4p || y4p == M3m){y4p="Close";}x9x.n7G(47);u4p=x9x.C7G(2147483647,"0");U4p=+"0";L6p=[];for(var k4p=F4p.startFrom - F4p.days + 1;k4p < s4p.length;k4p++){if(k4p < 1)continue;r4p=s4p[k4p][y4p];x9x.H7G(6);V4p=s4p[x9x.C7G(k4p,1)][y4p];if(r4p && typeof r4p == "object"){r4p=r4p.Close;}if(V4p && typeof V4p == "object"){V4p=V4p.Close;}if(V4p === undefined)continue;x9x.n7G(6);c6p=x9x.C7G(r4p,V4p);L6p.push(c6p);u4p+=c6p;U4p+=Math.abs(c6p);if(L6p.length == F4p.days){x9x.n7G(125);s4p[k4p][z4p]=x9x.c7G(u4p,U4p,"100");P6p=L6p.shift();u4p-=P6p;U4p-=Math.abs(P6p);}}};T4p.Studies.calculateMovingAverageVariable=function(Q6p,D6p){var h9x=D3mm;var C3m,W6p,g6p,e6p,w6p,x6p,j6p,m6p,i6p,H6p,h6p,I6p,E6p,S6p,w3m,v6p,J6p,b6p,N6p,Y6p;C3m="Cl";C3m+="o";C3m+="se";W6p=D6p.inputs.Type;g6p=D6p.chart.scrubbed;h9x.H7G(42);var H5G=h9x.c7G(59,4,19,20);h9x.H7G(126);var K5G=h9x.c7G(13,1,18,233);e6p=H5G / (D6p.days + K5G);w6p=null;x6p=D6p.name;for(var Z6p in D6p.outputs){h9x.n7G(19);x6p=h9x.c7G(x6p,Z6p,(692.46,"385.56" * 1) == (783.72,9880)?"H":(868.21,6829) < (2180,5050)?("u",!{}):5724 >= (817.87,+"5936")?(1.98e+3,"0x2644" | 0):" ");}j6p=D6p.inputs.Field;if(!j6p || j6p == "field"){j6p=C3m;}D6p.cmo=new T4p.Studies.StudyDescriptor(D6p.name,"cmo",D6p.panel);D6p.cmo.chart=D6p.chart;D6p.cmo.days=+"9";D6p.cmo.inputs={Field:j6p};D6p.cmo.startFrom=D6p.startFrom;D6p.cmo.outputs={_CMO:null};T4p.Studies.calculateChandeMomentum(Q6p,D6p.cmo);m6p=parseInt(D6p.inputs.Offset,10);if(isNaN(m6p)){m6p=0;}I6p=D6p.startFrom;E6p=m6p;for(i6p=D6p.startFrom - 1;i6p >= 0;i6p--){H6p=g6p[i6p][x6p];if(!H6p && H6p !== "0" >> 1936178624)continue;if(w6p === null){w6p=H6p;}if(E6p <= 0)break;E6p--;I6p=i6p;}if(w6p === null){w6p=I6p=0;}S6p=[];for(i6p=I6p;i6p < g6p.length;i6p++){w3m="obje";w3m+="c";w3m+="t";v6p=g6p[i6p];H6p=v6p[j6p];if(H6p && typeof H6p == w3m){H6p=H6p[D6p.subField];}J6p=i6p + m6p >= 0 && i6p + m6p < g6p.length;b6p=J6p?g6p[i6p + m6p]:null;if(!H6p && H6p !== +"0"){if(b6p){b6p[x6p]=null;}else if(i6p + m6p >= g6p.length){h6p={};h6p[x6p]=null;S6p.push(h6p);}continue;}if(!v6p["_CMO " + D6p.name] && v6p["_CMO " + D6p.name] !== +"0")continue;h9x.n7G(127);var i5G=h9x.C7G(13,74,8,8,2);N6p=Math.abs(v6p["_CMO " + D6p.name]) / i5G;h9x.H7G(128);Y6p=h9x.c7G(N6p,e6p,1,N6p,e6p,H6p,w6p);w6p=Y6p;if(i6p < D6p.days){Y6p=null;}if(b6p){b6p[x6p]=Y6p;}else if(i6p + m6p >= g6p.length){h6p={};h6p[x6p]=Y6p;S6p.push(h6p);}}D6p.appendFutureTicks(Q6p,S6p);};T4p.Studies.studyLibrary=T4p.extend(T4p.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:T4p.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:T4p.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"50" & 2147483647,studyOverBoughtColor:"auto",studyOverSoldValue:- +"50",studyOverSoldColor:n3m}}}});}};S94=f6p=>{D3mm.P6o();var U3m,o6p,x3m;U3m="und";U3m+="efined";o6p=typeof _CIQ !== U3m?_CIQ:f6p.CIQ;if(!o6p.Studies){console.error("choppiness feature requires first activating studies feature.");}else {x3m="a";x3m+="ut";x3m+="o";o6p.Studies.calculateChoppiness=function(C6p,n6p){var Y9x=D3mm;var q6p,O6p,X6p;Y9x.Q6o();o6p.Studies.calculateStudyATR(C6p,n6p);q6p=n6p.chart.scrubbed;if(q6p.length < n6p.days + +"1"){n6p.error=!"";return;}for(var a6p=Math.max(n6p.startFrom,n6p.days);a6p < q6p.length;a6p++){O6p=q6p[a6p];if(!O6p)continue;if(O6p.futureTick)break;X6p=G6p(n6p.days,a6p);if(O6p["Sum True Range " + n6p.name]){Y9x.H7G(58);var r5G=Y9x.c7G(83,17,1);Y9x.H7G(5);var c5G=Y9x.C7G(2,19,20);O6p["Result " + n6p.name]=r5G * Math.log(O6p["Sum True Range " + n6p.name] / Math.max(0.000001,X6p[c5G] - X6p[0])) / Math.log(n6p.days);}else if(!isNaN(O6p)){O6p["Result " + n6p.name]=0;}}function G6p(A6p,t6p){var K6p,R6p;Y9x.n7G(129);var A5G=Y9x.c7G(13,0,6,20);K6p=Number.MAX_VALUE * A5G;R6p=Number.MAX_VALUE;Y9x.Q6o();for(var T6p=t6p - A6p + 1;T6p <= t6p;T6p++){if(T6p < 0)continue;K6p=Math.max(K6p,q6p[T6p].High);R6p=Math.min(R6p,q6p[T6p].Low);}return [R6p,K6p];}};o6p.Studies.studyLibrary=o6p.extend(o6p.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:o6p.Studies.calculateChoppiness,centerline:+"50",parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:x3m,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};e94=p6p=>{var B6p,q3m,l3m,z5m;B6p=typeof _CIQ !== "undefined"?_CIQ:p6p.CIQ;if(!B6p.Studies){q3m="comparisonStudies featu";q3m+="re requires first activating studies feature.";console.error(q3m);}else if(!B6p.Studies.initPriceRelative){l3m="comparisonStudies feature requires fi";l3m+="rst activating priceRelative feat";l3m+="ure.";console.error(l3m);}else {z5m="C";z5m+="orrel";z5m+="ation Coe";z5m+="fficient";B6p.Studies.calculateCorrelationCoefficient=function(l7p,M6p){var m9x=D3mm;m9x.Q6o();var k6p,s6p,y6p,g5m,J5m,r6p,z6p,U6p,L7p,c7p,P7p,d7p,f5m,v5m,G5m,V6p,d5m,T5m,a5m,i7p,H7p,m7p,g7p;k6p=M6p.chart.scrubbed;s6p=M6p.days;if(k6p.length < s6p + 1){M6p.error=! !"1";return;}M6p.compare=M6p.inputs["Compare To"];if(!M6p.compare){M6p.compare=[];M6p.outputs={};M6p.outputMap={};for(var D7p in l7p.chart.series){y6p=l7p.chart.series[D7p];if(y6p.parameters.color){g5m="Result";g5m+=" ";M6p.compare.push(y6p.display);M6p.outputs[g5m + y6p.display]=y6p.parameters.color;m9x.n7G(109);var V5G=m9x.c7G(14,3846,16,857644);m9x.H7G(6);var W5G=m9x.C7G(71402,67644);m9x.H7G(6);var m5G=m9x.C7G(2520,9);m9x.n7G(35);var M5G=m9x.C7G(1352,11,8,154514,11);m9x.n7G(11);var C5G=m9x.C7G(3239,3500,19,8);M6p.outputMap["Result " + y6p.display + (+"6610" === +"789.45"?V5G:(W5G,m5G) < (M5G,734.37)?!0:+"321.09" !== (C5G,697.19)?" ":(! !0,"V")) + M6p.name]="Result " + y6p.display;}}}else {M6p.compare=[M6p.compare];}if(!M6p.compare.length){J5m="Corre";J5m+="lation Coefficient req";J5m+="uires a";J5m+="t least one comparison symbol";M6p.error=J5m;return;}for(var u6p=0;u6p < M6p.compare.length;u6p++){r6p=0;m9x.n7G(18);z6p=m9x.C7G("0",0);U6p=0;m9x.H7G(6);L7p=m9x.C7G("0",0);c7p=0;P7p=M6p.compare[u6p];d7p=0;for(var F6p=M6p.startFrom - s6p;F6p < k6p.length;F6p++){f5m="_tem";f5m+="ps";f5m+=" ";v5m="_";v5m+="tem";v5m+="ps";v5m+=" ";G5m="objec";G5m+="t";if(!k6p[F6p])continue;V6p=k6p[F6p][P7p];if(V6p && typeof V6p == "object"){V6p=V6p.Close;}if(!V6p && V6p !== 0){d5m="_t";d5m+="emps ";T5m="_te";T5m+="m";T5m+="ps";T5m+=" ";if(F6p > 0 && k6p[F6p - 1] && k6p[F6p - +"1"][T5m + M6p.name] && k6p[F6p - 1]["_temps " + M6p.name].c){V6p=k6p[F6p - ("1" << 158709120)][d5m + M6p.name].c;}else {V6p=0;}}if(V6p && typeof V6p == G5m){V6p=V6p.Close;}k6p[F6p]["_temps " + M6p.name]={};r6p+=k6p[F6p]["_temps " + M6p.name].b=k6p[F6p].Close;z6p+=k6p[F6p][v5m + M6p.name].c=V6p;U6p+=k6p[F6p]["_temps " + M6p.name].b2=Math.pow(k6p[F6p].Close,"2" >> 1961610624);L7p+=k6p[F6p]["_temps " + M6p.name].c2=Math.pow(V6p,2);c7p+=k6p[F6p][f5m + M6p.name].bc=k6p[F6p].Close * V6p;if(d7p >= s6p){a5m="_";a5m+="t";a5m+="emps ";r6p-=k6p[F6p - s6p]["_temps " + M6p.name].b;z6p-=k6p[F6p - s6p]["_temps " + M6p.name].c;U6p-=k6p[F6p - s6p]["_temps " + M6p.name].b2;L7p-=k6p[F6p - s6p]["_temps " + M6p.name].c2;c7p-=k6p[F6p - s6p][a5m + M6p.name].bc;m9x.H7G(130);var w5G=m9x.C7G(2,26,2,8,14);i7p=U6p / s6p - Math.pow(r6p / s6p,w5G);H7p=L7p / s6p - Math.pow(z6p / s6p,+"2");m9x.H7G(121);var n5G=m9x.C7G(6,17,1,13);m7p=c7p / s6p - r6p * z6p / Math.pow(s6p,n5G);g7p=m7p / Math.sqrt(i7p * H7p);k6p[F6p]["Result " + P7p + " " + M6p.name]=g7p;}d7p++;}}};B6p.Studies.calculatePerformance=function(b7p,x7p){var B5m,D5m,w7p,v7p,t5m,h7p;B5m="_";B5m+="M";B5m+="A Ba";B5m+="se";D5m="m";D5m+="a";D3mm.Q6o();w7p=x7p.chart.scrubbed;v7p=x7p.inputs["Comparison Symbol"].toUpperCase();if(!v7p){v7p=x7p.study.inputs["Comparison Symbol"];}if(!x7p.days){x7p.days=x7p.study.inputs.Period;}if(w7p.length < x7p.days + 1){x7p.error=! !{};return;}B6p.Studies.MA(D5m,x7p.days,"Close",0,B5m,b7p,x7p);B6p.Studies.MA("ma",x7p.days,v7p,+"0","_MA Comp",b7p,x7p);for(var j7p=x7p.startFrom;j7p < w7p.length;j7p++){t5m="_MA";t5m+=" Base ";h7p=w7p[j7p][v7p];if(h7p && (h7p.Close || h7p.Close === +"0")){h7p=h7p.Close;}w7p[j7p]["Result " + x7p.name]=w7p[j7p].Close / h7p * (w7p[j7p]["_MA Comp " + x7p.name] / w7p[j7p][t5m + x7p.name]);}};B6p.Studies.calculateBeta=function(Q7p,Y7p){var g9x=D3mm;g9x.P6o();var b5m,Y5m,I5m,Q5m,O5m,X5m,S7p,N7p,e7p,E7p,s5m,E5m,y5m,p5m,F5m;b5m="_";b5m+="V";b5m+="A";b5m+="R";Y5m="m";Y5m+="a";I5m="_C";I5m+="OVAR";Q5m="m";Q5m+="a";O5m="m";O5m+="a";X5m="m";X5m+="a";S7p=Y7p.chart.scrubbed;N7p=Y7p.inputs["Comparison Symbol"].toUpperCase();if(!N7p){N7p=Y7p.study.inputs["Comparison Symbol"];}if(!Y7p.days){Y7p.days=Y7p.study.inputs.Period;}if(S7p.length < Y7p.days + 1){Y7p.error=! !1;return;}for(var I7p=Math.max(Y7p.startFrom,1);I7p < S7p.length;I7p++){g9x.n7G(67);var U5G=g9x.c7G(18,17,1,153,0);g9x.H7G(3);var x5G=g9x.c7G(1,0);S7p[I7p]["_BaseChange " + Y7p.name]=S7p[I7p].Close / S7p[I7p - U5G].Close - x5G;e7p=S7p[I7p][N7p];if(e7p && (e7p.Close || e7p.Close === 0)){e7p=e7p.Close;}g9x.n7G(6);E7p=S7p[g9x.c7G(I7p,1)][N7p];if(E7p && (E7p.Close || E7p.Close === 0)){E7p=E7p.Close;}g9x.n7G(48);S7p[I7p]["_CompChange " + Y7p.name]=g9x.c7G(e7p,1,E7p);}B6p.Studies.MA(X5m,Y7p.days,"_BaseChange " + Y7p.name,+"0","_MA Base",Q7p,Y7p);B6p.Studies.MA(O5m,Y7p.days,"_CompChange " + Y7p.name,0,"_MA Comp",Q7p,Y7p);for(I7p=Math.max(Y7p.startFrom,Y7p.days);I7p < S7p.length;I7p++){s5m="_V";s5m+="A";s5m+="Rn ";E5m="_MA Co";E5m+="mp ";y5m="_M";y5m+="A Base ";p5m="_";p5m+="Ba";p5m+="seChange ";F5m="_CO";F5m+="V";F5m+="ARn ";S7p[I7p][F5m + Y7p.name]=(S7p[I7p][p5m + Y7p.name] - S7p[I7p][y5m + Y7p.name]) * (S7p[I7p]["_CompChange " + Y7p.name] - S7p[I7p][E5m + Y7p.name]);S7p[I7p][s5m + Y7p.name]=Math.pow(S7p[I7p]["_CompChange " + Y7p.name] - S7p[I7p]["_MA Comp " + Y7p.name],+"2");}B6p.Studies.MA(Q5m,Y7p.days,"_COVARn " + Y7p.name,0,I5m,Q7p,Y7p);B6p.Studies.MA(Y5m,Y7p.days,"_VARn " + Y7p.name,0,b5m,Q7p,Y7p);for(I7p=Math.max(Y7p.startFrom,Y7p.days * 2 - 1);I7p < S7p.length;I7p++){S7p[I7p]["Result " + Y7p.name]=S7p[I7p]["_COVAR " + Y7p.name] / S7p[I7p]["_VAR " + Y7p.name];}};B6p.Studies.studyLibrary=B6p.extend(B6p.Studies.studyLibrary,{correl:{name:z5m,range:"-1 to 1",calculateFN:B6p.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:B6p.Studies.initPriceRelative,seriesFN:B6p.Studies.displayVsComparisonSymbol,calculateFN:B6p.Studies.calculatePerformance,inputs:{Period:"120" - 0,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! !1},Beta:{name:"Beta",centerline:"1" >> 242067616,initializeFN:B6p.Studies.initPriceRelative,seriesFN:B6p.Studies.displayVsComparisonSymbol,calculateFN:B6p.Studies.calculateBeta,inputs:{Period:"20" | 16,"Comparison Symbol":"SPY"},deferUpdate:! !1}});}};E94=J7p=>{var Z7p,P5m;D3mm.P6o();Z7p=typeof _CIQ !== "undefined"?_CIQ:J7p.CIQ;if(!Z7p.Studies){console.error("coppock feature requires first activating studies feature.");}else {P5m="fi";P5m+="e";P5m+="l";P5m+="d";Z7p.Studies.calculateCoppock=function(G7p,W7p){var B9x=D3mm;var Z5m,h5m,e5m,o7p,f7p,O7p,q7p,a7p,X7p,C7p;Z5m="Re";Z5m+="su";Z5m+="lt";h5m="Clos";h5m+="e";e5m="f";e5m+="ie";e5m+="l";e5m+="d";o7p=W7p.chart.scrubbed;f7p=W7p.inputs.Field;if(!f7p || f7p == e5m){f7p=h5m;}O7p=parseInt(W7p.inputs["Long RoC"],10);if(!O7p){B9x.n7G(41);O7p=B9x.C7G("14",0);}q7p=parseInt(W7p.inputs["Short RoC"],"10" >> 490364640);if(!q7p){q7p=11;}a7p=W7p.days;if(!a7p){B9x.H7G(47);a7p=B9x.C7G(2147483647,"10");}if(O7p < q7p){return;}if(o7p.length < Math.max(q7p,O7p,a7p) + 1){W7p.error=!0;return;}for(var n7p=Math.max(W7p.startFrom,O7p);n7p < o7p.length;n7p++){B9x.H7G(6);X7p=o7p[B9x.C7G(n7p,q7p)][f7p];B9x.H7G(6);C7p=o7p[B9x.C7G(n7p,O7p)][f7p];if(X7p && C7p){B9x.n7G(2);var q5G=B9x.c7G(2,2,7,36,10);o7p[n7p]["_Sum " + W7p.name]=+"100" * (o7p[n7p][f7p] / X7p + o7p[n7p][f7p] / C7p - q5G);}}Z7p.Studies.MA("weighted",a7p,"_Sum " + W7p.name,0,Z5m,G7p,W7p);};Z7p.Studies.studyLibrary=Z7p.extend(Z7p.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:Z7p.Studies.calculateCoppock,inputs:{Period:10,Field:P5m,"Short RoC":11,"Long RoC":14}}});}};N94=K7p=>{D3mm.Q6o();var T7p,m5m;T7p=typeof _CIQ !== "undefined"?_CIQ:K7p.CIQ;if(!T7p.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {m5m="#";m5m+="699";m5m+="158";T7p.Studies.calculateDarvas=function(l1p,k7p){var U9x=D3mm;var u5m,N5m,R5m,o5m,R7p,F7p,L1p,P1p,V7p,B7p,M7p,r7p,s7p,z7p,y7p,A7p,p7p,u7p,t7p,j5m,k5m,L5m,S5m,H5m;u5m="Sp";u5m+="i";u5m+="k";u5m+="e";N5m="P";N5m+="rofi";N5m+="t";R5m="D";R5m+="arva";R5m+="s";o5m="L";o5m+="evel Offset";R7p=k7p.chart.scrubbed;F7p=0;L1p=parseInt(k7p.inputs["ATH Lookback Period"],10);if(k7p.inputs["Volume Spike"]){T7p.Studies.MA("simple",L1p,"Volume",+"0","ADV",l1p,k7p);}U9x.n7G(10);var l5G=U9x.C7G(500,20,420);P1p=parseFloat(k7p.inputs["Volume % of Avg"]) / l5G;V7p="none";B7p={};M7p=null;r7p=null;s7p=null;z7p=parseFloat(k7p.inputs[o5m]);y7p=!{};if(y7p){console.log("*****************");}p7p={};[R5m,"Ghost",N5m,"Loss","ATH","ADV",u5m].forEach(function(D1p){U9x.Q6o();U9x.H7G(7);var g6G=U9x.c7G(7,12,2214,3);U9x.H7G(72);var J6G=U9x.C7G(2367,158,16);p7p[D1p]=D1p + ((821.31,610.96) !== (g6G,J6G)?" ":("R","r")) + k7p.name;});for(A7p=k7p.startFrom - 1;A7p > 0;A7p--){u7p=R7p[A7p];if(u7p[p7p.Darvas] || u7p[p7p.Ghost]){for(var d1p in p7p){u7p[d1p]=null;}}else {F7p=u7p[p7p.ATH] || 0;r7p=u7p[p7p.Profit];s7p=u7p[p7p.Loss];break;}}for(A7p;A7p < R7p.length;A7p++){t7p=R7p[A7p];if(!t7p)continue;if(parseFloat(k7p.inputs["Price Minimum"]) <= R7p[F7p].Close){if(M7p && (!M7p.End || A7p == M7p.End + 1)){if(R7p[A7p - 1].Close > B7p.High){B7p={State:"1" ^ 0,High:2 * B7p.High - B7p.Low,Low:B7p.High,Start:A7p,End:2 * B7p.End - B7p.Start + 1};}else {M7p=null;;}if(M7p){j5m="Ghos";j5m+="t begin:";t7p[p7p.Ghost]=T7p.clone(B7p);if(y7p){console.log(j5m + t7p.DT);}B7p.State=0;if(R7p[B7p.End]){R7p[B7p.End][p7p.Ghost]=T7p.clone(B7p);if(y7p){console.log("Ghost end:" + R7p[B7p.End].DT);}}M7p={Start:B7p.Start,End:B7p.End};r7p=B7p.High + z7p;if(!s7p || s7p < B7p.Low - z7p){s7p=B7p.Low - z7p;}}}t7p[p7p.Profit]=r7p;t7p[p7p.Loss]=s7p;if(t7p.Close >= r7p){r7p=null;}else if(k7p.inputs["Exit Field"] == "high/low" && t7p.High >= r7p){r7p=null;}if(V7p == "none"){if(A7p == F7p + 3){if(!R7p[F7p + 2][p7p.Darvas] && !R7p[F7p + 1][p7p.Darvas] && !R7p[F7p][p7p.Darvas] && R7p[F7p].High > t7p.High){V7p="high";;}}}if(V7p == "high"){if(t7p.High > R7p[F7p].High){k5m="n";k5m+="o";k5m+="n";k5m+="e";V7p=k5m;}else if(R7p[A7p - 3].Low < R7p[A7p - "2" * 1].Low && R7p[A7p - 3].Low < R7p[A7p - 1].Low && R7p[A7p - 3].Low < t7p.Low){B7p={State:1,High:R7p[F7p].High,Low:R7p[A7p - 3].Low,Start:F7p};R7p[F7p][p7p.Darvas]=T7p.clone(B7p);V7p="darvas";if(y7p){console.log("Darvas begin:" + R7p[F7p].DT);}if(y7p){console.log("Darvas established:" + t7p.DT);}if(M7p){if(M7p.End > A7p && R7p[M7p.Start]){t7p[p7p.Ghost]=T7p.clone(R7p[M7p.Start][p7p.Ghost]);t7p[p7p.Ghost].End=A7p;if(R7p[M7p.End]){delete R7p[M7p.End][p7p.Ghost];if(y7p){console.log("Ghost End removed:" + R7p[M7p.End].DT);}}}t7p[p7p.Ghost].State=+"0";R7p[M7p.Start][p7p.Ghost].End=A7p;if(y7p){console.log("Ghost end:" + t7p.DT);}M7p=null;}r7p=B7p.High + z7p;if(!s7p || s7p < B7p.Low - z7p){s7p=B7p.Low - z7p;}}}if(V7p == "darvas"){if(t7p.Close > B7p.High){M7p={};}else if(k7p.inputs["Exit Field"] == "high/low" && t7p.High > B7p.High){M7p={};}else if(t7p.Close < B7p.Low){V7p="none";}else if(k7p.inputs["Exit Field"] == "high/low" && t7p.Low < B7p.Low){V7p="none";}if(M7p){V7p="none";}else if(V7p == "none"){r7p=null;s7p=null;}if(!k7p.inputs["Ghost Boxes"]){M7p=null;}if(V7p == "none"){for(var c1p=B7p.Start + 1;c1p < A7p;c1p++){R7p[c1p][p7p.Darvas]=T7p.clone(B7p);}B7p.State=0;B7p.End=A7p;t7p[p7p.Darvas]=T7p.clone(B7p);if(y7p){console.log("Darvas end:" + t7p.DT);}t7p[p7p.ATH]=F7p;continue;}}if(s7p){L5m="hig";L5m+="h";L5m+="/";L5m+="low";if(t7p.Close < B7p.Low || k7p.inputs["Exit Field"] == L5m && t7p.Low < B7p.Low){if(V7p == "darvas"){V7p="none";}if(t7p.Close < s7p || k7p.inputs["Exit Field"] == "high/low" && t7p.Low < s7p){r7p=null;s7p=null;}if(M7p){if(M7p.End > A7p && R7p[M7p.Start]){t7p[p7p.Ghost]=T7p.clone(R7p[M7p.Start][p7p.Ghost]);t7p[p7p.Ghost].End=A7p;if(R7p[M7p.End]){delete R7p[M7p.End][p7p.Ghost];if(y7p){console.log("Ghost End removed:" + R7p[M7p.End].DT);}}}t7p[p7p.Ghost].State=+"0";R7p[M7p.Start][p7p.Ghost].End=A7p;if(y7p){console.log("Ghost end:" + t7p.DT);}M7p=null;}}}}if(t7p.High >= R7p[F7p].High){S5m="Al";S5m+="l";S5m+=" Tim";S5m+="e High:";F7p=A7p;if(y7p){console.log(S5m + t7p.DT);}}if(A7p < +"3" || t7p.High >= R7p[A7p - ("1" ^ 0)].High && t7p.High >= R7p[A7p - 2].High && t7p.High >= R7p[A7p - +"3"].High){if(A7p - F7p >= L1p){F7p=A7p;for(var U7p=0;U7p < L1p;U7p++){if(A7p - U7p < +"0")break;if(R7p[A7p - U7p].High > R7p[F7p].High){U9x.n7G(6);F7p=U9x.c7G(A7p,U7p);}}if(y7p){console.log("All Time High:" + t7p.DT);}}}if(k7p.inputs["Volume Spike"] && A7p > L1p && A7p == F7p){if(t7p[p7p.ADV] * P1p < t7p.Volume){H5m="Volume ";H5m+="Sp";H5m+="ike:";t7p[p7p.Spike]=1;if(y7p){console.log(H5m + t7p.DT);}}}t7p[p7p.ATH]=F7p;}};T7p.Studies.displayDarvas=function(H1p,x1p,j1p){var b9x=D3mm;var i5m,K5m,J1p,Y1p,E1p,w1p,i1p,m1p,g1p,q1p,I1p,h1p,c5m,r5m,n1p,a1p,G1p,X1p,v1p,b1p,S1p,W1p,e1p,Z1p,N1p,f1p,Q1p,o1p,T1p,O1p,W5m,A5m,K1p,V5m,C1p;i5m="Stop";i5m+=" Le";i5m+="vel";i5m+="s";K5m="a";K5m+="u";K5m+="to";J1p=T7p.Studies.determineColor(x1p.outputs.Levels);if(!J1p || J1p == K5m || T7p.isTransparent(J1p)){J1p=H1p.defaultColor;}Y1p=T7p.Studies.determineColor(x1p.outputs.Darvas);if(!Y1p || Y1p == "auto" || T7p.isTransparent(Y1p)){Y1p=H1p.defaultColor;}E1p=T7p.Studies.determineColor(x1p.outputs.Ghost);if(!E1p || E1p == "auto" || T7p.isTransparent(E1p)){E1p=H1p.defaultColor;}w1p=H1p.panels[x1p.panel];i1p=x1p.getContext(H1p);b9x.n7G(131);var T6G=b9x.C7G(60,21,7,18,8);h1p=H1p.layout.candleWidth - T6G;if(h1p < "2" - 0){h1p=1;}H1p.startClip(x1p.panel);if(x1p.inputs[i5m]){if(i1p.setLineDash){i1p.setLineDash([2,2]);}i1p.lineWidth=2;i1p.strokeStyle=J1p;i1p.beginPath();for(m1p=+"0";m1p < j1p.length;m1p++){c5m="L";c5m+="o";c5m+="ss";c5m+=" ";r5m="Lo";r5m+="ss";r5m+=" ";g1p=j1p[m1p];b9x.H7G(6);n1p=j1p[b9x.C7G(m1p,1)];if(!g1p)continue;I1p=g1p["Loss " + x1p.name]?Math.floor(H1p.pixelFromPrice(g1p[r5m + x1p.name],w1p)):null;a1p=n1p && n1p["Loss " + x1p.name]?Math.floor(H1p.pixelFromPrice(n1p[c5m + x1p.name],w1p)):null;if(I1p){if(g1p.candleWidth){h1p=Math.floor(Math.max(1,g1p.candleWidth));}G1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) + h1p / 2);X1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) - h1p / 2);if(a1p && a1p >= I1p){i1p.lineTo(X1p,I1p);}else if(m1p === 0){i1p.moveTo(H1p.chart.left,I1p);}else {i1p.moveTo(X1p,I1p);}i1p.lineTo(G1p,I1p);}}i1p.stroke();if(i1p.setLineDash){i1p.setLineDash([]);}i1p.lineWidth=1;}v1p=-10;S1p=0;e1p=-10;N1p=0;Q1p=!{};o1p=![];b9x.n7G(6);b9x.Q6o();var d6G=b9x.c7G(178,6);b9x.H7G(132);var G6G=b9x.c7G(8,6018,84391,1,15);b9x.H7G(19);var v6G=b9x.C7G(6778,452,7);b9x.n7G(6);var f6G=b9x.C7G(2216,16);b9x.n7G(58);var a6G=b9x.C7G(6140,620,10);b9x.H7G(6);var D6G=b9x.c7G(8493,13);b9x.n7G(59);var B6G=b9x.C7G(7,1,14,0,6);b9x.n7G(3);var t6G=b9x.C7G(1,1);T1p=i1p.measureText((d6G,G6G) > v6G?(f6G,!0):(a6G,D6G) == "1520" * B6G?424.84:"\u25B2").width / t6G;O1p=0;for(m1p=0;m1p < j1p.length;m1p++){W5m="Gh";W5m+="ost";W5m+=" Boxe";W5m+="s";A5m="Spike";A5m+=" ";if(!j1p[m1p])continue;if(j1p[m1p].Close || j1p[m1p].Close === 0){O1p=m1p;}if(j1p[m1p][A5m + x1p.name]){i1p.fillStyle=Y1p;i1p.textBaseline="bottom";K1p=H1p.pixelFromPrice(j1p[m1p].High,H1p.chart.panel);i1p.fillText((8780,5590) != 5606?(8146,7404) > (255,"9070" | 8232)?(!{},!""):"\u25BC":("B","h"),H1p.pixelFromBar(m1p) - T1p,K1p - 5);;}if(j1p[m1p].candleWidth){h1p=Math.floor(Math.max(1,j1p[m1p].candleWidth));}if(j1p[m1p]["Darvas " + x1p.name]){g1p=j1p[m1p]["Darvas " + x1p.name];if(g1p.State == 1 && !Q1p){v1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) - h1p / 2);b1p=Math.floor(H1p.pixelFromPrice(g1p.High,w1p));W1p=Math.floor(H1p.pixelFromPrice(g1p.Low,w1p)) - b1p;Q1p=!"";}else if(g1p.State === 0){V5m="Sto";V5m+="p L";V5m+="evel";V5m+="s";b9x.H7G(129);var X6G=b9x.C7G(13,0,7,18);S1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) + h1p / X6G) - v1p;b1p=Math.floor(H1p.pixelFromPrice(g1p.High,w1p));W1p=Math.floor(H1p.pixelFromPrice(g1p.Low,w1p)) - b1p;i1p.strokeStyle=Y1p;i1p.fillStyle=Y1p;if(!x1p.inputs[V5m]){i1p.strokeRect(v1p,b1p,S1p,W1p);i1p.globalAlpha=0.2;}else {b9x.n7G(25);i1p.globalAlpha=b9x.c7G(1,"0.3");}i1p.fillRect(v1p,b1p,S1p,W1p);i1p.globalAlpha=1;Q1p=! !"";}}if(j1p[m1p]["Ghost " + x1p.name] && x1p.inputs[W5m]){g1p=j1p[m1p]["Ghost " + x1p.name];if(g1p.State == 1 && !o1p){e1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) - h1p / 2);Z1p=Math.floor(H1p.pixelFromPrice(g1p.High,w1p));N1p=Math.floor((g1p.End - g1p.Start + 1) * H1p.layout.candleWidth + h1p / 2);f1p=Math.floor(H1p.pixelFromPrice(g1p.Low,w1p)) - Z1p;o1p=!0;}else if(g1p.State === 0){if(g1p.Start == g1p.End){e1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) - h1p / 2);}b9x.H7G(133);var O6G=b9x.C7G(8,11,5,13);N1p=Math.floor(H1p.pixelFromBar(m1p,w1p.chart) + h1p / O6G) - e1p;Z1p=Math.floor(H1p.pixelFromPrice(g1p.High,w1p));f1p=Math.floor(H1p.pixelFromPrice(g1p.Low,w1p)) - Z1p;i1p.strokeStyle=E1p;i1p.fillStyle=E1p;if(!x1p.inputs["Stop Levels"]){i1p.strokeRect(e1p,Z1p,N1p,f1p);i1p.globalAlpha=+"0.2";}else {i1p.globalAlpha=0.3;}i1p.fillRect(e1p,Z1p,N1p,f1p);b9x.H7G(18);i1p.globalAlpha=b9x.C7G("1",0);o1p=!"1";}}}if(Q1p){b9x.H7G(97);var F6G=b9x.C7G(6,192789485,12,19);S1p=Math.floor(H1p.pixelFromBar(O1p,w1p.chart) + h1p / ("2" >> F6G)) - v1p;i1p.strokeStyle=Y1p;i1p.fillStyle=Y1p;if(!x1p.inputs["Stop Levels"]){i1p.beginPath();b9x.H7G(22);i1p.moveTo(b9x.c7G(v1p,2,S1p),b1p);i1p.lineTo(v1p,b1p);b9x.n7G(3);i1p.lineTo(v1p,b9x.c7G(W1p,b1p));b9x.n7G(22);i1p.lineTo(b9x.C7G(v1p,2,S1p),b9x.C7G(W1p,b1p,b9x.H7G(3)));i1p.stroke();i1p.globalAlpha=0.2;}else {i1p.globalAlpha=0.3;}b9x.H7G(25);i1p.fillRect(v1p,b1p,b9x.C7G(S1p,2),W1p);i1p.globalAlpha=1;}if(o1p){i1p.strokeStyle=E1p;i1p.fillStyle=E1p;if(!x1p.inputs["Stop Levels"]){i1p.strokeRect(e1p,Z1p,N1p,f1p);i1p.globalAlpha=+"0.2";}else {i1p.globalAlpha=0.3;}i1p.fillRect(e1p,Z1p,N1p,f1p);i1p.globalAlpha=1;}if(Q1p || o1p){if(x1p.inputs["Stop Levels"]){if(i1p.setLineDash){b9x.n7G(29);i1p.setLineDash([2,b9x.C7G("2",2133998336)]);}i1p.lineWidth=2;i1p.strokeStyle=J1p;C1p=Math.floor(H1p.pixelFromBar(O1p - ("1" - 0),w1p.chart) + h1p / 2);if(q1p){i1p.beginPath();i1p.moveTo(C1p,q1p);i1p.lineTo(Q1p?v1p + 2 * S1p:e1p + N1p,q1p);i1p.stroke();}if(I1p){i1p.beginPath();i1p.moveTo(C1p,I1p);i1p.lineTo(Q1p?v1p + 2 * S1p:e1p + N1p,I1p);i1p.stroke();}if(i1p.setLineDash){i1p.setLineDash([]);}i1p.lineWidth=+"1";}Q1p=!{};o1p=!{};}H1p.endClip();};T7p.Studies.studyLibrary=T7p.extend(T7p.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:T7p.Studies.calculateDarvas,seriesFN:T7p.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !{},"Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!"1","Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:m5m,Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:! ![]},flippedEnabled:{hidden:! ![]}}}});}};Q94=t1p=>{var R1p,D1V,B1V,t1V,M5m,U5m;R1p=typeof _CIQ !== "undefined"?_CIQ:t1p.CIQ;if(!R1p.Studies){D1V=-609061339;B1V=244571313;t1V=2;for(var O1V=1;D3mm.l0V(O1V.toString(),O1V.toString().length,91202) !== D1V;O1V++){M5m="detrended feature requires first activating studi";M5m+="es feature.";console.error(M5m);t1V+=2;}if(D3mm.l0V(t1V.toString(),t1V.toString().length,"81559" ^ 0) !== B1V){console.error("");}}else {U5m="f";U5m+="ie";U5m+="ld";R1p.Studies.calculateDetrendedPrice=function(s1p,A1p){var n5m,w5m,C5m,M1p,F1p,k1p,B1p,V1p;n5m="Moving Average T";n5m+="ype";D3mm.Q6o();w5m="Cl";w5m+="ose";C5m="fi";C5m+="eld";M1p=A1p.chart.scrubbed;if(M1p.length < A1p.days + +"1"){A1p.error=! ![];return;}F1p=A1p.inputs.Field;if(!F1p || F1p == C5m){F1p=w5m;}k1p=Math.floor(A1p.days / 2 + 1);R1p.Studies.MA(A1p.inputs[n5m],A1p.days,F1p,-k1p,"MA",s1p,A1p);for(var p1p=Math.max(A1p.days - k1p - 1,A1p.startFrom - k1p);p1p < M1p.length - k1p;p1p++){if(p1p < 0)continue;B1p=M1p[p1p][F1p];if(B1p && typeof B1p == "object"){B1p=B1p[A1p.subField];}V1p=M1p[p1p]["MA " + A1p.name];if((B1p || B1p === 0) && (V1p || V1p === +"0")){D3mm.n7G(6);M1p[p1p]["Result " + A1p.name]=D3mm.c7G(B1p,V1p);}}};R1p.Studies.studyLibrary=R1p.extend(R1p.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:R1p.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:U5m,"Moving Average Type":"ma"}}});}};Z94=r1p=>{var y1p;y1p=typeof _CIQ !== "undefined"?_CIQ:r1p.CIQ;if(!y1p.Studies){console.error("disparity feature requires first activating studies feature.");}else {y1p.Studies.calculateDisparity=function(P2p,z1p){var W9x=D3mm;var x5m,u1p,L2p,c2p;x5m="C";W9x.Q6o();x5m+="lose";u1p=z1p.chart.scrubbed;if(u1p.length < z1p.days + ("1" ^ 0)){z1p.error=! ![];return;}L2p=z1p.inputs.Field;if(!L2p || L2p == "field"){L2p=x5m;}y1p.Studies.MA(z1p.inputs["Moving Average Type"],z1p.days,L2p,0,"_MA",P2p,z1p);for(var U1p=Math.max(z1p.startFrom,z1p.days - 1);U1p < u1p.length;U1p++){if(!u1p[U1p])continue;c2p=u1p[U1p]["_MA " + z1p.name];if(c2p){W9x.H7G(69);var p6G=W9x.C7G(2,2,7,93);W9x.n7G(10);var y6G=W9x.C7G(0,14,13);u1p[U1p]["Result " + z1p.name]=p6G * (u1p[U1p][L2p] / c2p - y6G);}}};y1p.Studies.studyLibrary=y1p.extend(y1p.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:y1p.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};J94=l2p=>{var d2p;D3mm.P6o();d2p=typeof _CIQ !== "undefined"?_CIQ:l2p.CIQ;if(!d2p.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {d2p.Studies.calculateEaseOfMovement=function(h2p,H2p){var D9x=D3mm;var q5m,D2p,g2p,x2p,w2p,j2p,m2p;q5m="Moving Average T";q5m+="ype";D2p=H2p.chart.scrubbed;if(D2p.length < H2p.days){H2p.error=! !1;return;}for(var i2p=Math.max(1,H2p.startFrom);i2p < D2p.length;i2p++){D9x.n7G(10);var E6G=D9x.C7G(0,13,11);g2p=(D2p[i2p].High + D2p[i2p].Low) / E6G;D9x.n7G(134);var s6G=D9x.C7G(2,17,20,1,0);D9x.H7G(135);var Q6G=D9x.C7G(17,8,13,30);x2p=(D2p[i2p - s6G].High + D2p[i2p - +"1"].Low) / Q6G;D9x.n7G(6);w2p=D9x.C7G(g2p,x2p);j2p=D2p[i2p].Volume / +"100000000" / (D2p[i2p].High - D2p[i2p].Low);D9x.H7G(20);m2p=D9x.C7G(j2p,w2p);if(!isFinite(m2p)){D2p[i2p]["_EOM1 " + H2p.name]=NaN;}else {D2p[i2p]["_EOM1 " + H2p.name]=m2p;}}d2p.Studies.MA(H2p.inputs[q5m],H2p.days,"_EOM1 " + H2p.name,0,"Result",h2p,H2p);};d2p.Studies.studyLibrary=d2p.extend(d2p.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:d2p.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};W94=b2p=>{var D0x=D3mm;var v2p,W6V,m6V,M6V,g4V,J4V,T4V,J6m;v2p=typeof _CIQ !== "undefined"?_CIQ:b2p.CIQ;D0x.Q6o();if(!v2p.Studies){W6V=-638778882;m6V=-236715836;M6V=2;for(var w6V=1;D0x.g3V(w6V.toString(),w6V.toString().length,+"6223") !== W6V;w6V++){console.error("ehlerFisher feature requires first activating studies feature.");D0x.n7G(29);M6V+=D0x.c7G("2",2145252896);}if(D0x.l0V(M6V.toString(),M6V.toString().length,14611) !== m6V){console.error("");}}else {v2p.Studies.calculateEhlerFisher=function(J2p,Y2p){var l5m,S2p,I2p,E2p,g6m,N2p,Q2p;D0x.Q6o();l5m="_";l5m+="n";function Z2p(q2p,O2p){D0x.P6o();var o2p,f2p,n2p;o2p=Number.MAX_VALUE;f2p=Number.MAX_VALUE * - +"1";for(var W2p=O2p - q2p + 1;W2p <= O2p;W2p++){D0x.n7G(136);var I6G=D0x.c7G(6,3,11);n2p=(S2p[W2p].High + S2p[W2p].Low) / I6G;o2p=Math.min(o2p,n2p);f2p=Math.max(f2p,n2p);}return [o2p,f2p];}l5m+=" ";S2p=Y2p.chart.scrubbed;if(S2p.length < Y2p.days + ("1" & 2147483647)){Y2p.error=! !{};return;}I2p=0;if(Y2p.startFrom > 1){D0x.H7G(137);var Y6G=D0x.c7G(9,14,6,1,0);I2p=S2p[Y2p.startFrom - Y6G][l5m + Y2p.name];}for(var e2p=Y2p.startFrom;e2p < S2p.length;e2p++){E2p=S2p[e2p];if(E2p.futureTick)break;if(e2p < Y2p.days - 1){g6m="E";g6m+="F";g6m+=" ";E2p[g6m + Y2p.name]=E2p["EF Trigger " + Y2p.name]=I2p;continue;}N2p=Z2p(Y2p.days,e2p);D0x.n7G(138);var b6G=D0x.C7G(15,3,8,18,16);D0x.H7G(72);var z6G=D0x.c7G(65,11,6);I2p=0.33 * b6G * (((S2p[e2p].High + S2p[e2p].Low) / ("2" & 2147483647) - N2p[0]) / Math.max(0.000001,N2p[z6G] - N2p[0]) - 0.5) + 0.67 * I2p;if(I2p > 0){I2p=Math.min(I2p,0.9999);}else if(I2p < 0){I2p=Math.max(I2p,-0.9999);}Q2p=e2p?S2p[e2p - 1]["EF " + Y2p.name]:0;D0x.H7G(139);var e6G=D0x.c7G(2,22,7,6,18);E2p["EF " + Y2p.name]=0.5 * Math.log((e6G + I2p) / (+"1" - I2p)) + 0.5 * Q2p;E2p["EF Trigger " + Y2p.name]=Q2p;E2p["_n " + Y2p.name]=I2p;}};g4V=1369166281;J4V=175363703;T4V=2;for(var G4V=+"1";D0x.g3V(G4V.toString(),G4V.toString().length,74885) !== g4V;G4V++){v2p.Studies.studyLibrary=v2p.extend(v2p.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:v2p.Studies.calculateEhlerFisher,inputs:{Period:"10" * 1},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});T4V+=2;}if(D0x.g3V(T4V.toString(),T4V.toString().length,19465) !== J4V){J6m="EF T";J6m+="ri";J6m+="gger";v2p.Studies.studyLibrary=v2p.extend(v2p.Studies.studyLibrary,{"Ehler Fisher":{name:"auto",calculateFN:v2p.Studies.calculateEhlerFisher,inputs:{Period:75},outputs:{EF:"auto","EF Trigger":J6m}}});}}};o94=X2p=>{var a2p,T6m,F6m,O6m;D3mm.P6o();a2p=typeof _CIQ !== "undefined"?_CIQ:X2p.CIQ;if(!a2p.Studies){T6m="elder feature requires ";T6m+="first act";T6m+="ivating studies feature.";console.error(T6m);}else {F6m="#5";F6m+="F7C";F6m+="B8";O6m="#8";O6m+="BC1";O6m+="76";a2p.Studies.calculateElderImpulse=function(t2p,C2p){var d6m,T2p,A2p,B2p,R2p,K2p;d6m="Cl";d6m+="ose";T2p=C2p.chart.scrubbed;A2p=C2p.outputs.Bullish;B2p=C2p.outputs.Bearish;R2p=C2p.outputs.Neutral;a2p.Studies.MA("exponential",13,d6m,0,"_MA",t2p,C2p);C2p.macd=new a2p.Studies.StudyDescriptor("_" + C2p.name,"macd",C2p.panel);C2p.macd.chart=C2p.chart;C2p.macd.days=C2p.days;C2p.macd.startFrom=C2p.startFrom;C2p.macd.inputs={"Fast MA Period":12,"Slow MA Period":+"26","Signal Period":9};C2p.macd.outputs={_MACD:null,_Signal:null};a2p.Studies.calculateMACD(t2p,C2p.macd);for(var G2p=C2p.startFrom;G2p < T2p.length;G2p++){if(G2p === 0){K2p=R2p;}else if(T2p[G2p]["_MA " + C2p.name] > T2p[G2p - 1]["_MA " + C2p.name] && T2p[G2p][((859,3690) >= 5340?![]:"_") + C2p.name + "_hist"] > T2p[G2p - 1][((7910,6960) != 8937?"_":679.16 === (1852,372.97)?220.01:(197.89,0xe8f)) + C2p.name + "_hist"]){K2p=A2p;}else if(T2p[G2p]["_MA " + C2p.name] < T2p[G2p - 1]["_MA " + C2p.name] && T2p[G2p][(+"7380" >= (60,7867)?"p":"_") + C2p.name + "_hist"] < T2p[G2p - ("1" ^ 0)][((7283,66.23) === 7880?!0:"_") + C2p.name + "_hist"]){K2p=B2p;}else {K2p=R2p;}T2p[G2p]["Result " + C2p.name]=K2p;;}};a2p.Studies.calculateElderRay=function(k2p,p2p){var v6m,M2p,G6m;v6m="_";v6m+="h";v6m+="ist";v6m+="1";M2p=p2p.chart.scrubbed;if(M2p.length < p2p.days){p2p.error=! !"1";return;}a2p.Studies.MA("exponential",p2p.days,"Close","0" | 0,"_EMA",k2p,p2p);for(var F2p=Math.max(p2p.startFrom,p2p.days - 1);F2p < M2p.length;F2p++){G6m="_h";G6m+="i";G6m+="st1";M2p[F2p][p2p.name + G6m]=M2p[F2p].High - M2p[F2p]["_EMA " + p2p.name];M2p[F2p][p2p.name + "_hist2"]=M2p[F2p].Low - M2p[F2p]["_EMA " + p2p.name];}p2p.outputMap={};p2p.outputMap[p2p.name + v6m]="";p2p.outputMap[p2p.name + "_hist2"]="";};a2p.Studies.calculateElderForce=function(r2p,V2p){var f6m,s2p;f6m="_EF1";f6m+=" ";s2p=V2p.chart.scrubbed;if(s2p.length < V2p.days){V2p.error=! !{};return;}for(var y2p=Math.max(1,V2p.startFrom);y2p < s2p.length;y2p++){D3mm.H7G(6);var h6G=D3mm.c7G(1,0);s2p[y2p]["_EF1 " + V2p.name]=s2p[y2p].Volume * (s2p[y2p].Close - s2p[y2p - h6G].Close);}a2p.Studies.MA("exponential",V2p.days,f6m + V2p.name,0,"Result",r2p,V2p);};a2p.Studies.initElderImpulse=function(u2p,L5p,c5p,P5p,U2p,d5p){var a6m,z2p,G5V,v5V,f5V;a6m="col";a6m+="or";a6m+="ed_bar";z2p=a2p.Studies.initializeFN(u2p,L5p,c5p,P5p,U2p,d5p);G5V=- +"1593873164";v5V=1167856734;f5V=2;for(var D5V=1;D3mm.g3V(D5V.toString(),D5V.toString().length,59494) !== G5V;D5V++){if(U2p.calculateOnly){return z2p;}f5V+=2;}if(D3mm.g3V(f5V.toString(),f5V.toString().length,13864) !== v5V){if(U2p.calculateOnly){return z2p;}}u2p.chart.customChart={chartType:a6m,colorFunction:function(i5p,D5p,H5p){var l5p;D3mm.P6o();l5p=D5p["Result " + z2p.name];if(l5p && typeof l5p == "object"){l5p=l5p.color;}return l5p;}};u2p.setMainSeriesRenderer();return z2p;};a2p.Studies.displayElderForce=function(g5p,m5p,v5p){var D6m,w5p,j5p,h5p,x5p;D6m="R";D6m+="esult ";a2p.Studies.displaySeriesAsLine(g5p,m5p,v5p);w5p=a2p.Studies.determineColor(m5p.outputs.Result);j5p=g5p.panels[m5p.panel];h5p=m5p.getYAxis(g5p);x5p={skipTransform:j5p.name != m5p.chart.name,panelName:m5p.panel,band:D6m + m5p.name,threshold:0,color:w5p,yAxis:h5p};if(!m5p.highlight && g5p.highlightedDraggable){x5p.opacity=0.3;}x5p.direction=1;a2p.preparePeakValleyFill(g5p,x5p);x5p.direction=-1;a2p.preparePeakValleyFill(g5p,x5p);};a2p.Studies.displayElderRay=function(Y5p,b5p,W5p){var N5p,e5p,Z5p,J5p,E5p,o5p,X6m,t6m,B6m,I5p;N5p=Y5p.panels[b5p.panel];e5p=b5p.getContext(Y5p);Z5p=b5p.getYAxis(Y5p);J5p=Y5p.pixelFromPrice(0,N5p,Z5p);D3mm.n7G(140);var Z6G=D3mm.C7G(10,19,9,111);E5p=Y5p.layout.candleWidth - Z6G;if(E5p < +"2"){E5p=1;}Y5p.canvasColor("stx_histogram");o5p=e5p.fillStyle;if(!b5p.underlay){e5p.globalAlpha=+"1";}Y5p.startClip(b5p.panel);if(!b5p.highlight && Y5p.highlightedDraggable){e5p.globalAlpha*=0.3;}for(var S5p=0;S5p < W5p.length;S5p++){X6m="Eld";X6m+="e";X6m+="r Be";X6m+="ar Power";t6m="Elder Be";t6m+="ar P";t6m+="owe";t6m+="r";B6m="Elder Bull P";B6m+="ower";I5p=W5p[S5p];if(!I5p)continue;if(I5p.candleWidth){E5p=Math.floor(Math.max(1,I5p.candleWidth - ("2" >> 41763808)));}if(I5p[b5p.name + "_hist1"] > 0){Q5p(S5p,0,B6m,"_hist1");}if(I5p[b5p.name + "_hist2"] < 0){Q5p(S5p,0,t6m,"_hist2");}if(I5p[b5p.name + "_hist1"] < "0" * 1){Q5p(S5p,0.1,"Elder Bull Power","_hist1");}if(I5p[b5p.name + "_hist2"] > 0){Q5p(S5p,+"0.1",X6m,"_hist2");}}Y5p.endClip();D3mm.Q6o();function Q5p(n5p,f5p,O5p,q5p){D3mm.Q6o();e5p.fillStyle=a2p.Studies.determineColor(b5p.outputs[O5p]);e5p.fillRect(Math.floor(Y5p.pixelFromBar(n5p,N5p.chart) - E5p / 2 + E5p * f5p),Math.floor(J5p),Math.floor(E5p * (1 - ("2" >> 882157664) * f5p)),Math.floor(Y5p.pixelFromPrice(I5p[b5p.name + q5p],N5p,Z5p) - J5p));}e5p.fillStyle=o5p;};a2p.Studies.studyLibrary=a2p.extend(a2p.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:a2p.Studies.calculateElderForce,seriesFN:a2p.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:a2p.Studies.displayElderRay,calculateFN:a2p.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:a2p.Studies.calculateElderImpulse,initializeFN:a2p.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:! ![],inputs:{},outputs:{Bullish:O6m,Bearish:"#DD3E39",Neutral:F6m},removeFN:function(a5p,X5p){a5p.chart.customChart=null;a5p.setMainSeriesRenderer();}}});}};f94=G5p=>{var C5p;D3mm.Q6o();C5p=typeof _CIQ !== "undefined"?_CIQ:G5p.CIQ;if(!C5p.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {C5p.Studies.calculateFractalChaos=function(k5p,t5p){var S9x=D3mm;var K5p,B5p,p5p,A5p,M5p,F5p,R5p,p6m,y6m;K5p=t5p.chart.scrubbed;S9x.Q6o();B5p=0;p5p=0;S9x.H7G(29);A5p=S9x.C7G("0",1410706816);if(t5p.startFrom && t5p.type == "Fractal Chaos Bands"){S9x.H7G(7);var P6G=S9x.C7G(15,19,0,5);B5p=K5p[t5p.startFrom - P6G]["Fractal High " + t5p.name];p5p=K5p[t5p.startFrom - 1]["Fractal Low " + t5p.name];}for(var T5p=Math.max(4,t5p.startFrom);T5p < K5p.length;T5p++){if(K5p[T5p].futureTick)break;M5p=!isNaN(K5p[T5p].High);F5p=!isNaN(K5p[T5p].Low);if(M5p || F5p){K5p[T5p]["Result " + t5p.name]=0;}A5p=0;for(R5p=0;R5p <= T5p;R5p++){if(!K5p[T5p - R5p])break;if(K5p[T5p - R5p].High > K5p[T5p - +"2"].High)break;if(R5p < 2 && K5p[T5p - R5p].High == K5p[T5p - 2].High)break;if(K5p[T5p - R5p].High < K5p[T5p - 2].High){A5p++;}if(A5p == "4" - 0){B5p=K5p[T5p - 2].High;break;}}if(t5p.type == "Fractal Chaos Bands"){if(M5p){K5p[T5p]["Fractal High " + t5p.name]=B5p > 0?B5p:null;}}else if(A5p == 4){p6m="R";p6m+="es";p6m+="ul";p6m+="t ";K5p[T5p][p6m + t5p.name]=1;}A5p=0;for(R5p=0;R5p <= T5p;R5p++){if(!K5p[T5p - R5p])break;if(K5p[T5p - R5p].Low < K5p[T5p - +"2"].Low)break;if(R5p < +"2" && K5p[T5p - R5p].Low == K5p[T5p - 2].Low)break;if(K5p[T5p - R5p].Low > K5p[T5p - ("2" | 2)].Low){A5p++;}if(A5p == 4){p5p=K5p[T5p - 2].Low;break;}}if(t5p.type == "Fractal Chaos Bands"){y6m="Fractal Low";y6m+=" ";if(F5p){K5p[T5p][y6m + t5p.name]=p5p > 0?p5p:null;}}else if(A5p == "4" >> 1251352320){K5p[T5p]["Result " + t5p.name]=- +"1";}}};C5p.Studies.studyLibrary=C5p.extend(C5p.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:C5p.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! ![],calculateFN:C5p.Studies.calculateFractalChaos,seriesFN:C5p.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};n94=s5p=>{D3mm.Q6o();var V5p,E6m,P6m,Z6m,h6m;V5p=typeof _CIQ !== "undefined"?_CIQ:s5p.CIQ;if(!V5p.Studies){E6m="highLowStud";E6m+="ies feature requires first act";E6m+="ivating ";E6m+="studies feature.";console.error(E6m);}else {P6m="a";P6m+="ut";P6m+="o";Z6m="a";Z6m+="u";Z6m+="to";h6m="a";h6m+="u";h6m+="t";h6m+="o";V5p.Studies.calculateMaxHighMinLow=function(l3g,y5p){var u9x=D3mm;var s6m,r5p,d3g,P3g,L3g,U5p,u5p,b6m,I6m,Q6m,c3g,Y6m,z6m,e6m;s6m="High ";s6m+="Per";s6m+="i";s6m+="od";r5p=y5p.chart.scrubbed;d3g=y5p.days;P3g=y5p.days;if(y5p.inputs[s6m]){d3g=y5p.inputs["High Period"];}if(y5p.inputs["Low Period"]){P3g=y5p.inputs["Low Period"];}u9x.P6o();if(r5p.length < Math.max(d3g,P3g) + +"1"){y5p.error=! ![];return;}L3g=Number.MAX_VALUE;u9x.n7G(141);var o6G=u9x.C7G(4,7,559,6,14);U5p=Number.MAX_VALUE * o6G;if(y5p.startFrom > 1){for(u5p=1;u5p < d3g;u5p++){if(y5p.startFrom - u5p >= 0){U5p=Math.max(U5p,r5p[y5p.startFrom - u5p].High);}}for(u5p="1" >> 319060416;u5p < P3g;u5p++){if(y5p.startFrom - u5p >= "0" - 0){L3g=Math.min(L3g,r5p[y5p.startFrom - u5p].Low);}}}for(var z5p=Math.max(+"0",y5p.startFrom - 1);z5p < r5p.length;z5p++){b6m="Wil";b6m+="liams %R";I6m="G";I6m+="A";I6m+="P";I6m+="O";Q6m="L";Q6m+="L";Q6m+="V";U5p=Math.max(U5p,r5p[z5p].High);L3g=Math.min(L3g,r5p[z5p].Low);if(z5p >= d3g){if(r5p[z5p - d3g].High == U5p){U5p=r5p[z5p].High;for(u5p=1;u5p < d3g;u5p++){U5p=Math.max(U5p,r5p[z5p - u5p].High);}}}if(z5p >= P3g){if(r5p[z5p - P3g].Low == L3g){L3g=r5p[z5p].Low;for(u5p=1;u5p < P3g;u5p++){L3g=Math.min(L3g,r5p[z5p - u5p].Low);}}}c3g=0;if(y5p.type == "HHV"){c3g=U5p;}else if(y5p.type == Q6m){c3g=L3g;}else if(y5p.type == "Donchian Width"){u9x.H7G(6);c3g=u9x.C7G(U5p,L3g);}else if(y5p.type == I6m || y5p.type == "Gopala"){c3g=Math.log(U5p - L3g) / Math.log(P3g);}else if(y5p.type == "VT HZ Filter"){Y6m="_";Y6m+="MH";Y6m+="M";Y6m+="L ";u9x.n7G(6);c3g=u9x.c7G(U5p,L3g);r5p[z5p][Y6m + y5p.name]=c3g;continue;}else if(y5p.type == b6m){u9x.H7G(142);var R6G=u9x.C7G(95,16,104,20,95);c3g=R6G * (U5p - r5p[z5p].Close) / (U5p - L3g);r5p[z5p]["Result " + y5p.name]=c3g;continue;}if(z5p == r5p.length - 1)break;if(!r5p[z5p + 1].futureTick){z6m="Donchian C";z6m+="hannel";if(y5p.type == z6m){u9x.H7G(3);r5p[u9x.c7G(1,z5p)]["Donchian High " + y5p.name]=U5p;u9x.H7G(3);r5p[u9x.c7G(1,z5p)]["Donchian Low " + y5p.name]=L3g;u9x.n7G(3);r5p[u9x.C7G(1,z5p)]["Donchian Median " + y5p.name]=u9x.c7G(L3g,U5p,2,u9x.n7G(9));}else {e6m="R";e6m+="esul";e6m+="t";e6m+=" ";u9x.H7G(3);r5p[u9x.c7G(1,z5p)][e6m + y5p.name]=c3g;}}}};V5p.Studies.calculateVerticalHorizontalFilter=function(w3g,D3g){var i3g,m3g,g3g,x3g;i3g=D3g.chart.scrubbed;if(i3g.length < D3g.days + +"1"){D3g.error=! ![];return;}D3g.mhml=new V5p.Studies.StudyDescriptor(D3g.name,D3g.type,D3g.panel);D3g.mhml.chart=D3g.chart;D3g.mhml.days=D3g.days;D3g.mhml.startFrom=D3g.startFrom;D3g.mhml.inputs={};D3g.mhml.outputs={_MHML:null};D3mm.P6o();V5p.Studies.calculateMaxHighMinLow(w3g,D3g.mhml);m3g=0;g3g=[];for(var H3g=Math.max(1,D3g.startFrom - D3g.days);H3g < i3g.length;H3g++){x3g=Math.abs(i3g[H3g].Close - i3g[H3g - 1].Close);g3g.push(x3g);m3g+=x3g;if(g3g.length == D3g.days){i3g[H3g]["Result " + D3g.name]=i3g[H3g]["_MHML " + D3g.name] / m3g;m3g-=g3g.shift();}}};V5p.Studies.studyLibrary=V5p.extend(V5p.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !{},calculateFN:V5p.Studies.calculateMaxHighMinLow,seriesFN:V5p.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! ![]},outputs:{"Donchian High":h6m,"Donchian Median":Z6m,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:V5p.Studies.calculateMaxHighMinLow,inputs:{"High Period":"20" & 2147483647,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:V5p.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:V5p.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:V5p.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:V5p.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:P6m}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:V5p.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(b3g,v3g){D3mm.P6o();var h3g;h3g=v3g.chart.scrubbed;for(var j3g=v3g.startFrom;j3g < h3g.length;j3g++){h3g[j3g]["Result " + v3g.name]=h3g[j3g].High - h3g[j3g].Low;}},inputs:{}}});}};O94=I3g=>{var Y3g,k6m,j6m;D3mm.Q6o();Y3g=typeof _CIQ !== "undefined"?_CIQ:I3g.CIQ;if(!Y3g.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {k6m="#FF0";k6m+="000";j6m="#FF00";j6m+="0";j6m+="0";Y3g.Studies.calculateIchimoku=function(n3g,e3g){var y9x=D3mm;var o6m,E3g,N3g,S3g,Q3g,W3g,o3g,f3g,R6m,N6m,Z3g;o6m="Con";o6m+="version Line";o6m+=" P";function J3g(C3g,X3g){var q3g,a3g;q3g=Number.MAX_VALUE;y9x.Q6o();y9x.n7G(136);var N6G=y9x.C7G(3,4,6);a3g=Number.MAX_VALUE * N6G;for(var O3g=X3g - C3g + 1;O3g <= X3g;O3g++){if(O3g < 0)continue;q3g=Math.min(q3g,E3g[O3g].Low);a3g=Math.max(a3g,E3g[O3g].High);}return [q3g,a3g];}o6m+="eriod";E3g=e3g.chart.scrubbed;N3g={Base:Number(e3g.inputs["Base Line Period"]),Conv:Number(e3g.inputs[o6m]),LeadB:Number(e3g.inputs["Leading Span B Period"]),Lag:Number(e3g.inputs["Lagging Span Period"])};for(S3g=e3g.startFrom;S3g < E3g.length;S3g++){if(!E3g[S3g])continue;Q3g=J3g(N3g.Conv,S3g);y9x.H7G(126);var u6G=y9x.c7G(5,2,6,14);y9x.n7G(36);var j6G=y9x.C7G(12,270,22,8);E3g[S3g]["Conversion Line " + e3g.name]=(Q3g[u6G] + Q3g[0]) / j6G;Q3g=J3g(N3g.Base,S3g);y9x.H7G(13);var k6G=y9x.C7G(8,20,7,6);y9x.H7G(6);var L6G=y9x.C7G(13,11);E3g[S3g]["Base Line " + e3g.name]=(Q3g[k6G] + Q3g[0]) / L6G;if(S3g < N3g.Lag)continue;E3g[S3g - N3g.Lag]["Lagging Span " + e3g.name]=E3g[S3g].Close;}W3g=[];for(S3g=Math.max(0,e3g.startFrom - N3g.Base);S3g < E3g.length;S3g++){Q3g=J3g(N3g.LeadB,S3g);y9x.n7G(143);var S6G=y9x.c7G(12,79,5,11,0);o3g=(E3g[S3g]["Conversion Line " + e3g.name] + E3g[S3g]["Base Line " + e3g.name]) / S6G;y9x.H7G(6);var H6G=y9x.C7G(9,8);y9x.n7G(8);var K6G=y9x.C7G(83,17,15,10);f3g=(Q3g[H6G] + Q3g[0]) / K6G;if(E3g[S3g + N3g.Base]){R6m="Lead";R6m+="ing S";R6m+="pan B ";E3g[S3g + N3g.Base]["Leading Span A " + e3g.name]=o3g;E3g[S3g + N3g.Base][R6m + e3g.name]=f3g;}else {N6m="Leadin";N6m+="g ";N6m+="S";N6m+="pan B ";Z3g={};Z3g["Leading Span A " + e3g.name]=o3g;Z3g[N6m + e3g.name]=f3g;W3g.push(Z3g);}}e3g.appendFutureTicks(n3g,W3g);};Y3g.Studies.displayIchimoku=function(T3g,G3g,F3g){var u6m,K3g,R3g,B3g,p3g,M3g,t3g,A3g,E3V,s3V,Q3V;u6m="Leading";u6m+=" Sp";u6m+="an B ";K3g="Leading Span A " + G3g.name;R3g=u6m + G3g.name;B3g=Y3g.Studies.determineColor(G3g.outputs[G3g.outputMap[K3g]]);p3g=Y3g.Studies.determineColor(G3g.outputs[G3g.outputMap[R3g]]);D3mm.P6o();M3g=T3g.panels[G3g.panel];t3g=G3g.getYAxis(T3g);A3g={topBand:K3g,bottomBand:R3g,topColor:B3g,bottomColor:p3g,skipTransform:M3g.name != G3g.chart.name,topAxis:t3g,bottomAxis:t3g,opacity:0.3};if(!G3g.highlight && T3g.highlightedDraggable){A3g.opacity*=0.3;}E3V=1963975664;s3V=475421574;Q3V=2;for(var Y3V=1;D3mm.l0V(Y3V.toString(),Y3V.toString().length,77891) !== E3V;Y3V++){Y3g.fillIntersecting(T3g,G3g.panel,A3g);Y3g.Studies.displaySeriesAsLine(T3g,G3g,F3g);Q3V+=2;}if(D3mm.l0V(Q3V.toString(),Q3V.toString().length,"47227" >> 743199872) !== s3V){Y3g.fillIntersecting(T3g,G3g.panel,A3g);Y3g.Studies.displaySeriesAsLine(T3g,G3g,F3g);}};Y3g.Studies.studyLibrary=Y3g.extend(Y3g.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! ![],calculateFN:Y3g.Studies.calculateIchimoku,seriesFN:Y3g.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":j6m,"Leading Span A":"#00FF00","Leading Span B":k6m,"Lagging Span":"#808000"}}});}};q94=V3g=>{var L6m,k3g;L6m="u";L6m+="nd";L6m+="efin";L6m+="ed";k3g=typeof _CIQ !== L6m?_CIQ:V3g.CIQ;if(!k3g.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {k3g.Studies.calculateIntradayMomentum=function(N1g,s3g){var z9x=D3mm;var y3g,U3g,z3g,u3g,S6m,c1g,m1g;y3g=s3g.chart.scrubbed;U3g=s3g.days;if(y3g.length < U3g + 1){s3g.error=! !"1";return;}z3g=0;z9x.P6o();u3g=0;if(s3g.startFrom > 1){S6m="_";S6m+="tot";S6m+="U";S6m+="p ";z9x.n7G(15);var i6G=z9x.C7G(2,3);z3g=y3g[s3g.startFrom - i6G][S6m + s3g.name];z9x.H7G(99);var r6G=z9x.C7G(18,20,27,13);u3g=y3g[s3g.startFrom - r6G]["_totDn " + s3g.name];}for(var r3g=s3g.startFrom;r3g < y3g.length;r3g++){c1g=y3g[r3g].Close - y3g[r3g].Open;if(c1g > 0){z3g+=c1g;}else {u3g-=c1g;}if(r3g >= U3g){m1g=y3g[r3g - U3g].Close - y3g[r3g - U3g].Open;if(m1g > 0){z3g-=m1g;}else {u3g+=m1g;}}z9x.H7G(144);y3g[r3g]["Result " + s3g.name]=z9x.C7G(100,z3g,z3g,u3g);y3g[r3g]["_totUp " + s3g.name]=z3g;y3g[r3g]["_totDn " + s3g.name]=u3g;}};k3g.Studies.studyLibrary=k3g.extend(k3g.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:k3g.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};a94=q1g=>{var o1g,H6m,i6m;o1g=typeof _CIQ !== "undefined"?_CIQ:q1g.CIQ;if(!o1g.Studies){H6m="keltner";H6m+=" fea";H6m+="t";H6m+="ure requires first activating studies feature.";console.error(H6m);}else {i6m="a";i6m+="u";i6m+="t";i6m+="o";o1g.Studies.calculateKeltner=function(G1g,X1g){var K6m;K6m="M";K6m+="A";K6m+=" ";o1g.Studies.MA(X1g.inputs["Moving Average Type"],X1g.days,"Close",0,"MA",G1g,X1g);o1g.Studies.calculateStudyATR(G1g,X1g);o1g.Studies.calculateGenericEnvelope(G1g,X1g,X1g.inputs.Shift,K6m + X1g.name,"ATR " + X1g.name);};o1g.Studies.studyLibrary=o1g.extend(o1g.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:o1g.Studies.displayChannel,calculateFN:o1g.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!""},outputs:{"Keltner Top":i6m,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};X94=K1g=>{var u0x=D3mm;var r6m,T1g,w3V,n3V,U3V,c6m,U6m,n6m;r6m="undef";r6m+="i";r6m+="n";r6m+="ed";T1g=typeof _CIQ !== r6m?_CIQ:K1g.CIQ;if(!T1g.Studies){u0x.H7G(29);w3V=u0x.c7G("1734475478",687347552);n3V=-1171064990;U3V=2;for(var q3V=1;u0x.g3V(q3V.toString(),q3V.toString().length,73278) !== w3V;q3V++){c6m="klinger feature r";c6m+="equires first activating studies feature.";console.error(c6m);U3V+=2;}if(u0x.g3V(U3V.toString(),U3V.toString().length,28764) !== n3V){console.error("");}}else {U6m="#";U6m+="F";U6m+="F000";U6m+="0";n6m="Klinger Vol";n6m+="ume Oscillator";T1g.Studies.calculateKlinger=function(s1g,A1g){var w6m,C6m,m6m,W6m,V6m,A6m,B1g,y1g,M1g,r1g,F1g,L06,k1g,z1g,U1g,t1g,M6m,V1g;w6m="_EM";w6m+="A";w6m+="-L";C6m="exponen";C6m+="tial";m6m="_";m6m+="S";m6m+="V";m6m+=" ";W6m="KlingerS";W6m+="ignal";W6m+=" ";V6m="_h";V6m+="ist";A6m="L";A6m+="ong C";A6m+="ycle";B1g=A1g.chart.scrubbed;y1g=Number(A1g.inputs["Short Cycle"]);M1g=Number(A1g.inputs[A6m]);if(B1g.length < Math.max(y1g,M1g) + 1){A1g.error=! !{};return;}r1g=A1g.name + V6m;F1g="Klinger " + A1g.name;L06=W6m + A1g.name;k1g=m6m + A1g.name;z1g="_EMA-S " + A1g.name;U1g="_EMA-L " + A1g.name;for(t1g=Math.max(1,A1g.startFrom);t1g < B1g.length;t1g++){M6m="hl";M6m+="c";M6m+="/3";V1g=B1g[t1g].Volume;if(B1g[t1g][M6m] < B1g[t1g - 1]["hlc/3"]){V1g*=-1;}if(V1g){B1g[t1g][k1g]=V1g;}}T1g.Studies.MA("exponential",y1g,k1g,0,"_EMA-S",s1g,A1g);T1g.Studies.MA(C6m,M1g,k1g,0,w6m,s1g,A1g);for(t1g=Math.max(M1g,A1g.startFrom);t1g < B1g.length;t1g++){if(B1g[t1g].futureTick || B1g[t1g][z1g] === null || B1g[t1g][U1g] === null)break;B1g[t1g][F1g]=B1g[t1g][z1g] - B1g[t1g][U1g];}T1g.Studies.MA("exponential",Number(A1g.inputs["Signal Periods"]),F1g,0,"KlingerSignal",s1g,A1g);for(t1g=A1g.startFrom;t1g < B1g.length;t1g++){B1g[t1g][r1g]=B1g[t1g][F1g] - B1g[t1g][L06];}A1g.outputMap[r1g]="";};T1g.Studies.studyLibrary=T1g.extend(T1g.Studies.studyLibrary,{Klinger:{name:n6m,seriesFN:T1g.Studies.displayHistogramWithSeries,calculateFN:T1g.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":+"34","Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":U6m}}});}};C94=P06=>{var x6m,c06,q6m,D4m,a4m;D3mm.Q6o();x6m="un";x6m+="d";x6m+="efined";c06=typeof _CIQ !== x6m?_CIQ:P06.CIQ;if(!c06.Studies){q6m="line";q6m+="arRe";q6m+="gression featur";q6m+="e requires first activating studies feature.";console.error(q6m);}else {D4m="Linear ";D4m+="R";D4m+="eg";D4m+=" R2";a4m="f";a4m+="ie";a4m+="ld";c06.Studies.prettify["time series"]="tsma";c06.Studies.movingAverage.conversions.tsma="time series";c06.Studies.movingAverage.translations["time series"]="Time Series";c06.Studies.movingAverage.typeMap.tsma="TimeSeries";c06.Studies.movingAverage.typeMap["time series"]="TimeSeries";c06.Studies.calculateMovingAverageTimeSeries=function(h06,d06){var e9x=D3mm;var l6m,i06,D06,H06,m06,g06,x06,w06,g4m,j06;l6m="m";l6m+="a";d06.ma=new c06.Studies.StudyDescriptor(d06.name,l6m,d06.panel);d06.ma.chart=d06.chart;d06.ma.days=d06.days;d06.ma.startFrom=d06.startFrom;d06.ma.inputs=d06.inputs;c06.Studies.calculateLinearRegressionIndicator(h06,d06.ma);i06=d06.name;for(var v06 in d06.outputs){e9x.H7G(19);i06=e9x.c7G(i06,v06," ");}D06=parseInt(d06.inputs.Offset,10);if(isNaN(D06)){D06=0;}H06=d06.chart.scrubbed;m06=D06;for(var l06=d06.startFrom - 1;l06 >= +"0";l06--){g06=H06[l06][i06];if(!g06 && g06 !== 0)continue;if(m06 > "0" - 0){m06--;continue;}break;}x06=[];for(l06++;l06 < H06.length;l06++){w06=H06[l06];if(l06 + D06 >= 0){g4m="Fore";g4m+="c";g4m+="ast";g4m+=" ";if(l06 + D06 < H06.length){e9x.n7G(3);H06[e9x.c7G(D06,l06)][i06]=w06[g4m + d06.name];}else {j06={};j06[i06]=w06["Forecast " + d06.name];x06.push(j06);}}}d06.appendFutureTicks(h06,x06);};c06.Studies.calculateLinearRegressionIndicator=function(a06,b06){var a9x=D3mm;var J4m,I06,N06,J06,f06,n06,e06,W06,Q06,T4m,o06,f4m,v4m,G4m,S06,d4m,E06,Z06,O06,q06;J4m="fie";J4m+="l";J4m+="d";I06=b06.chart.scrubbed;if(I06.length < b06.days + +"1"){b06.error=! ![];return;}N06=b06.inputs.Field;if(!N06 || N06 == J4m){N06="Close";}a9x.H7G(48);var c6G=a9x.c7G(1,0,1);a9x.H7G(15);var A6G=a9x.C7G(17,19);J06=b06.days * (b06.days + c6G) / A6G;f06=Math.pow(J06,2);a9x.H7G(6);var V6G=a9x.C7G(22,20);a9x.n7G(145);var W6G=a9x.c7G(7,20,17,20,13);n06=J06 * (V6G * b06.days + +"1") / W6G;e06=0;a9x.n7G(18);W06=a9x.C7G("0",0);Q06=0;if(b06.startFrom){T4m="_s";T4m+="um";T4m+="s ";a9x.n7G(3);var m6G=a9x.C7G(1,0);o06=I06[b06.startFrom - m6G][T4m + b06.name];if(o06){W06=o06[0];e06=o06[1];Q06=o06[2];}}for(var Y06=b06.startFrom;Y06 < I06.length;Y06++){f4m="_su";f4m+="m";f4m+="s";f4m+=" ";v4m="F";v4m+="oreca";v4m+="st";v4m+=" ";G4m="I";G4m+="nterc";G4m+="ept ";S06=I06[Y06][N06];if(S06 && typeof S06 == "object"){S06=S06[b06.subField];}if(!S06 && S06 !== ("0" & 2147483647))continue;W06+=b06.days * S06 - e06;e06+=S06;Q06+=Math.pow(S06,+"2");if(Y06 < b06.days - 1)continue;else if(Y06 > b06.days - 1){d4m="o";d4m+="bj";d4m+="e";d4m+="ct";E06=I06[Y06 - b06.days][N06];if(E06 && typeof E06 == d4m){E06=E06[b06.subField];}if(!E06 && E06 !== 0)continue;e06-=E06;Q06-=Math.pow(E06,2);}Z06=(b06.days * W06 - J06 * e06) / (b06.days * n06 - f06);I06[Y06]["Slope " + b06.name]=Z06;O06=(e06 - Z06 * J06) / b06.days;I06[Y06][G4m + b06.name]=O06;I06[Y06][v4m + b06.name]=O06 + Z06 * b06.days;a9x.n7G(97);var M6G=a9x.c7G(16,0,28,10);q06=(b06.days * n06 - f06) / (b06.days * Q06 - Math.pow(e06,M6G));a9x.n7G(146);I06[Y06]["RSquared " + b06.name]=a9x.c7G(Z06,Z06,q06);I06[Y06][f4m + b06.name]=[W06,e06,Q06];}};c06.Studies.studyLibrary=c06.extend(c06.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! ![],calculateFN:c06.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" & 2147483647,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! ![],calculateFN:c06.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:a4m},outputs:{Intercept:"auto"}},"Lin R2":{name:D4m,calculateFN:c06.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:c06.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" >> 1569106272,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!"",calculateFN:c06.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};G94=C06=>{var X06,p4m,F4m;D3mm.P6o();X06=typeof _CIQ !== "undefined"?_CIQ:C06.CIQ;if(!X06.Studies){console.error("macd feature requires first activating studies feature.");}else {p4m="#00D";p4m+="D00";F4m="#";F4m+="FF000";F4m+="0";X06.Studies.calculateMACD=function(F06,G06){var R9x=D3mm;var O4m,t4m,B4m,t06,A06,T06,B06,p06,R06,K06,k06,X4m,M06,V06,s06;O4m="e";O4m+="xp";O4m+="onen";O4m+="tial";t4m="exponenti";t4m+="al";B4m="C";B4m+="los";B4m+="e";t06=G06.chart.scrubbed;A06=G06.inputs;T06=G06.name;if(!G06.macd1Days){G06.macd1Days=parseFloat(A06["Fast MA Period"]);}if(!G06.macd2Days){G06.macd2Days=parseFloat(A06["Slow MA Period"]);}if(!G06.signalDays){G06.signalDays=parseFloat(A06["Signal Period"]);}if(!G06.days){G06.days=Math.max(G06.macd1Days,G06.macd2Days,G06.signalDays);}if(t06.length < G06.days + 1){G06.error=! !{};return;}B06=G06.inputs.Field;if(!B06 || B06 == "field"){B06=B4m;}p06=A06["Moving Average Type"];if(!p06){p06=t4m;}X06.Studies.MA(p06,G06.macd1Days,B06,0,"_MACD1",F06,G06);X06.Studies.MA(p06,G06.macd2Days,B06,0,"_MACD2",F06,G06);k06=Math.max(G06.startFrom,G06.days - 1);for(R06=k06;R06 < t06.length;R06++){X4m="_M";X4m+="A";X4m+="CD2 ";K06=t06[R06];if((K06["_MACD1 " + T06] || K06["_MACD1 " + T06] === +"0") && (K06["_MACD2 " + T06] || K06[X4m + T06] === 0)){R9x.H7G(3);K06[R9x.c7G(T06,"MACD ")]=K06["_MACD1 " + T06] - K06["_MACD2 " + T06];}}M06=A06["Signal MA Type"];if(!M06){M06=O4m;}X06.Studies.MA(M06,G06.signalDays,"MACD " + T06,"0" << 1762991328,"Signal",F06,G06);R9x.n7G(3);V06=R9x.C7G("_hist",T06);for(R06=k06;R06 < t06.length;R06++){K06=t06[R06];R9x.n7G(3);s06=K06[R9x.C7G(T06,"Signal ")];if(!s06 && s06 !== 0)continue;K06[V06]=K06["MACD " + T06] - K06["Signal " + T06];}G06.outputMap[V06]="";};X06.Studies.studyLibrary=X06.extend(X06.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:X06.Studies.calculateMACD,seriesFN:X06.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" ^ 0},outputs:{MACD:"auto",Signal:F4m,"Increasing Bar":p4m,"Decreasing Bar":"#FF0000"}}});}};T94=r06=>{var y06,O6V,F6V,p6V;y06=typeof _CIQ !== "undefined"?_CIQ:r06.CIQ;if(!y06.Studies){O6V=+"1503847624";F6V=1479086061;p6V=2;for(var E6V=1;D3mm.g3V(E6V.toString(),E6V.toString().length,42661) !== O6V;E6V++){console.error("massIndex feature requires first activating studies feature.");p6V+=2;}if(D3mm.l0V(p6V.toString(),p6V.toString().length,97865) !== F6V){console.error("");}}else {y06.Studies.calculateMassIndex=function(P86,z06){var J9x=D3mm;var E4m,y4m,u06,c86,s4m;E4m="_";E4m+="t";E4m+="ota";E4m+="l ";y4m="_E";y4m+="MA2";J9x.P6o();u06=z06.chart.scrubbed;if(u06.length < Math.max(9,z06.days + +"1")){z06.error=! !{};return;}for(var L86=z06.startFrom;L86 < u06.length;L86++){u06[L86]["_High-Low " + z06.name]=u06[L86].High - u06[L86].Low;}y06.Studies.MA("exponential",9,"_High-Low " + z06.name,0,"_EMA",P86,z06);y06.Studies.MA("exponential",+"9","_EMA " + z06.name,0,y4m,P86,z06);c86=0;if(u06[z06.startFrom - 1] && u06[z06.startFrom - 1][E4m + z06.name]){J9x.n7G(50);var C6G=J9x.C7G(0,10,20,6,259);c86=u06[z06.startFrom - C6G]["_total " + z06.name];}for(var U06=Math.max(17,z06.startFrom);U06 < u06.length;U06++){s4m="_";s4m+="EM";s4m+="A2";s4m+=" ";c86+=u06[U06]["_EMA " + z06.name] / u06[U06][s4m + z06.name];if(U06 >= 17 + z06.days - 1){u06[U06]["Result " + z06.name]=c86;J9x.H7G(3);var w6G=J9x.c7G(1,0);c86-=u06[U06 - z06.days + +"1"]["_EMA " + z06.name] / u06[U06 - z06.days + w6G]["_EMA2 " + z06.name];}u06[U06]["_total " + z06.name]=c86;}};y06.Studies.displayMassIndex=function(l86,d86,g86){var I4m,Q4m,D86,x86,i86,H86,m86;I4m="R";I4m+="es";I4m+="ult ";Q4m="Bu";Q4m+="lge T";Q4m+="hreshold";y06.Studies.displaySeriesAsLine(l86,d86,g86);D86=d86.inputs[Q4m];x86=l86.panels[d86.panel];i86=d86.getYAxis(l86);H86=y06.Studies.determineColor(d86.outputs.Result);m86={skipTransform:l86.panels[d86.panel].name != d86.chart.name,panelName:d86.panel,band:I4m + d86.name,threshold:D86,direction:1,color:H86,yAxis:i86,opacity:0.3};if(!d86.highlight && l86.highlightedDraggable){m86.opacity*=0.3;}y06.preparePeakValleyFill(l86,m86);y06.Studies.drawHorizontal(l86,d86,null,D86,i86,H86);};y06.Studies.studyLibrary=y06.extend(y06.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:y06.Studies.displayMassIndex,calculateFN:y06.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":"27" * 1},attributes:{"Bulge Threshold":{min:"20" * 1,max:35,step:0.1}}}});}};K94=j86=>{D3mm.Q6o();var w86,Y4m;w86=typeof _CIQ !== "undefined"?_CIQ:j86.CIQ;if(!w86.Studies){Y4m="moneyFlow feature requires first activating";Y4m+=" stud";Y4m+="ies featur";Y4m+="e.";console.error(Y4m);}else {w86.Studies.calculateMoneyFlowIndex=function(o86,b86){var L9x=D3mm;var z4m,b4m,v86,I86,Y86,e86,Z86,E86,J86,e4m,N86,W86,S86,Q86;z4m="R";z4m+="e";z4m+="sult";z4m+=" ";b4m="_";b4m+="ra";b4m+="w";b4m+="MF ";v86=b86.chart.scrubbed;if(v86.length < b86.days + 1){b86.error=!"";return;}I86=0;Y86=+"0";L9x.H7G(10);L9x.P6o();var n6G=L9x.C7G(0,4,3);e86=v86[b86.startFrom - n6G];Z86=b4m + b86.name;E86="_cumMF " + b86.name;J86=z4m + b86.name;if(e86 && e86[E86]){I86=e86[E86][0];Y86=e86[E86][1];}for(var h86=b86.startFrom;h86 < v86.length;h86++){e4m="hlc";e4m+="/";e4m+="3";N86=v86[h86][e4m];if(h86 > 0 && !v86[h86].futureTick){L9x.n7G(6);W86=v86[L9x.c7G(h86,1)]["hlc/3"];S86=N86 * v86[h86].Volume;if(N86 > W86){I86+=S86;}else if(N86 < W86){S86*=-1;Y86-=S86;}else {S86=0;}if(h86 > b86.days){Q86=v86[h86 - b86.days][Z86];if(Q86 > 0){I86-=Q86;}else {Y86+=Q86;}if(Y86 === 0){L9x.H7G(47);v86[h86][J86]=L9x.C7G(2147483647,"100");}else if(v86[h86].Volume){L9x.H7G(147);v86[h86][J86]=L9x.c7G(0,"1",100,Y86,I86,100);}}v86[h86][Z86]=S86;v86[h86][E86]=[I86,Y86];}}};w86.Studies.studyLibrary=w86.extend(w86.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:w86.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:"80" ^ 0,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};R94=n86=>{var h4m,f86,Z4m,T1m,J1m,l4m,q4m,x4m,U4m,P4m;h4m="u";h4m+="nd";h4m+="efi";h4m+="ned";f86=typeof _CIQ !== h4m?_CIQ:n86.CIQ;if(!f86.Studies){Z4m="movingAverages featu";Z4m+="re requires firs";Z4m+="t acti";Z4m+="vating studies feature.";console.error(Z4m);}else {T1m="au";T1m+="to";J1m="f";J1m+="ield";l4m="Po";l4m+="ints";q4m="a";q4m+="u";q4m+="t";q4m+="o";x4m="m";x4m+="a";U4m="poin";U4m+="ts";P4m="de";P4m+="m";P4m+="a";f86.Studies.prettify=f86.extend({"2-exponential":P4m,"3-exponential":"tema",hull:"hma"},f86.Studies.prettify);f86.extend(f86.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});f86.Studies.calculateMovingAverageHull=function(R86,O86){var i9x=D3mm;var R4m,o4m,a86,X86,q86,C86,N4m,G86,T86,t86,K86;R4m="w";R4m+="m";R4m+="a";o4m="fiel";o4m+="d";a86=O86.chart.scrubbed;X86=O86.inputs.Field;if(!X86 || X86 == o4m){X86="Close";}f86.Studies.MA("wma",O86.days,X86,0,"_WMA1",R86,O86);f86.Studies.MA(R4m,Math.ceil(O86.days / 2),X86,0,"_WMA2",R86,O86);for(q86=O86.startFrom - 1;q86 >= 0;q86--){C86=a86[q86][X86];if(C86 && typeof C86 == "object"){C86=C86[O86.subField];}if(C86 || C86 === +"0")break;}for(q86++;q86 < a86.length;q86++){N4m="_WM";N4m+="A2 ";G86=a86[q86];i9x.H7G(61);var U6G=i9x.C7G(33,3,38);G86["_MMA " + O86.name]=U6G * G86[N4m + O86.name] - G86["_WMA1 " + O86.name];}T86=parseInt(O86.inputs.Offset,10);if(isNaN(T86)){T86=0;}t86=Math.floor(Math.sqrt(O86.days));f86.Studies.MA("wma",t86,"_MMA " + O86.name,T86,"_HMA",R86,O86);K86=O86.name;for(var A86 in O86.outputs){i9x.n7G(19);K86=i9x.C7G(K86,A86,899.09 != 2410?(418.11,848) !== 2572?" ":(106.40,"843.80" * 1):(+"0x14c9",291.79));}for(q86=Math.max(O86.days + t86 - 1,O86.startFrom);q86 < a86.length;q86++){a86[q86][K86]=a86[q86]["_HMA " + O86.name];}};f86.Studies.calculateMovingAverageDoubleExponential=function(y86,B86){var X9x=D3mm;var k4m,j4m,u4m,k86,V86,M86,p86,F86,r86,s86,z86,u86,U86,L36;k4m="_";k4m+="EM";k4m+="A1";j4m="e";j4m+="ma";u4m="f";u4m+="ie";u4m+="ld";k86=B86.chart.scrubbed;V86=B86.inputs.Field;if(!V86 || V86 == u4m){V86="Close";}f86.Studies.MA(j4m,B86.days,V86,0,k4m,y86,B86);f86.Studies.MA("ema",B86.days,"_EMA1 " + B86.name,0,"_EMA2",y86,B86);M86=parseInt(B86.inputs.Offset,10);if(isNaN(M86)){M86=0;}r86=M86;for(p86=B86.startFrom - +"1";p86 >= 0;p86--){F86=k86[p86][V86];if(F86 && typeof F86 == "object"){F86=F86[B86.subField];}if(!F86 && F86 !== +"0")continue;if(r86 > 0){r86--;continue;}break;}s86=B86.name;for(var c36 in B86.outputs){X9x.n7G(19);s86=X9x.C7G(s86,c36,(1040,817.5) <= 8130?("5107" & 2147483647) != (+"1490",463)?" ":("f","e"):0x2675);}z86=[];for(p86++;p86 < k86.length;p86++){if(p86 < 2 * (B86.days - 1))continue;u86=k86[p86];X9x.n7G(6);var x6G=X9x.C7G(19,17);U86=x6G * u86["_EMA1 " + B86.name] - u86["_EMA2 " + B86.name];if(p86 + M86 >= 0){if(p86 + M86 < k86.length){X9x.n7G(3);k86[X9x.c7G(M86,p86)][s86]=U86;}else {L36={};L36[s86]=U86;z86.push(L36);}}}B86.appendFutureTicks(y86,z86);};f86.Studies.calculateMovingAverageTripleExponential=function(g36,P36){var d9x=D3mm;var S4m,L4m,i36,H36,l36,d36,D36,w36,m36,j36,K4m,H4m,x36,h36,v36;S4m="e";S4m+="ma";L4m="C";L4m+="los";L4m+="e";i36=P36.chart.scrubbed;H36=P36.inputs.Field;if(!H36 || H36 == "field"){H36=L4m;}f86.Studies.MA(S4m,P36.days,H36,0,"_EMA1",g36,P36);f86.Studies.MA("ema",P36.days,"_EMA1 " + P36.name,0,"_EMA2",g36,P36);f86.Studies.MA("ema",P36.days,"_EMA2 " + P36.name,0,"_EMA3",g36,P36);l36=parseInt(P36.inputs.Offset,10);if(isNaN(l36)){l36=0;}w36=l36;for(d36=P36.startFrom - 1;d36 >= 0;d36--){D36=i36[d36][H36];if(D36 && typeof D36 == "object"){D36=D36[P36.subField];}if(!D36 && D36 !== 0)continue;if(w36 > 0){w36--;continue;}break;}m36=P36.name;for(var b36 in P36.outputs){d9x.H7G(19);m36=d9x.c7G(m36,b36,154.86 <= (1331,9670)?2980 == 9170?(792.62,"D"):" ":(1.30e+3,! !{}));}j36=[];for(d36++;d36 < i36.length;d36++){K4m="_EMA";K4m+="3 ";H4m="_";H4m+="EMA2 ";if(d36 < 3 * (P36.days - 1))continue;x36=i36[d36];d9x.H7G(6);var q6G=d9x.c7G(45,42);d9x.H7G(148);var l6G=d9x.C7G(3,12,3,1,9);h36=q6G * x36["_EMA1 " + P36.name] - l6G * x36[H4m + P36.name] + x36[K4m + P36.name];if(d36 + l36 >= 0){if(d36 + l36 < i36.length){d9x.n7G(3);i36[d9x.c7G(l36,d36)][m36]=h36;}else {v36={};v36[m36]=h36;j36.push(v36);}}}P36.appendFutureTicks(g36,j36);};f86.Studies.calculateMAEnvelope=function(E36,Y36){var V4m,c4m,r4m,i4m,I36,S36,e36,A4m,W4m,m4m;V4m="pe";V4m+="rce";V4m+="nt";c4m="Shif";c4m+="t T";c4m+="ype";r4m="M";r4m+="A";i4m="f";i4m+="i";D3mm.Q6o();i4m+="eld";I36=Y36.inputs.Field;if(!I36 || I36 == i4m){I36="Close";}f86.Studies.MA(Y36.inputs["Moving Average Type"],Y36.days,I36,0,r4m,E36,Y36);S36=Y36.inputs[c4m];e36=Y36.inputs.Shift;if(!S36){A4m="Shift";A4m+=" P";A4m+="e";A4m+="rcentage";S36="percent";e36=Y36.inputs[A4m];}if(S36 == V4m){W4m="M";W4m+="A";W4m+=" ";D3mm.H7G(20);f86.Studies.calculateGenericEnvelope(E36,Y36,D3mm.C7G(100,e36),W4m + Y36.name);}else if(S36 == "points"){m4m="M";m4m+="A";m4m+=" ";f86.Studies.calculateGenericEnvelope(E36,Y36,null,m4m + Y36.name,null,Number(e36));}};f86.Studies.calculateMADev=function(a36,N36){var N9x=D3mm;var C4m,M4m,o36,Z36,f36,n36,q36,w4m,J36,Q36,W36,n4m;C4m="_";C4m+="M";C4m+="A";M4m="f";M4m+="i";M4m+="e";M4m+="ld";o36=N36.chart.scrubbed;if(o36.length < N36.days + +"1"){N36.error=! !1;return;}Z36=N36.inputs.Field;if(!Z36 || Z36 == M4m){Z36="Close";}f36=N36.inputs["Points Or Percent"];if(!f36){f36="Points";}n36=N36.inputs["Moving Average Type"];if(!n36){n36="exponential";}f86.Studies.MA(n36,N36.days,Z36,0,C4m,a36,N36);q36=N36.name + "_hist";for(var O36=Math.max(N36.startFrom,N36.days - 1);O36 < o36.length;O36++){w4m="o";w4m+="b";w4m+="jec";w4m+="t";J36=o36[O36];Q36=J36[Z36];if(Q36 && typeof Q36 == w4m){Q36=Q36[N36.subField];}W36=J36["_MA " + N36.name];if(W36 || W36 === "0" << 1872130688){n4m="Po";n4m+="ints";if(f36 == n4m){N9x.n7G(6);J36[q36]=N9x.C7G(Q36,W36);}else {N9x.n7G(149);J36[q36]=N9x.c7G(1,Q36,W36,100);}}}N36.outputMap={};N36.outputMap[N36.name + "_hist"]="";};f86.Studies.studyLibrary=f86.extend(f86.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !1,seriesFN:f86.Studies.displayChannel,calculateFN:f86.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent",U4m],Shift:5,"Moving Average Type":x4m,"Channel Fill":! !1},outputs:{"MA Env Top":q4m,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:f86.Studies.calculateMADev,seriesFN:f86.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":[l4m,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! ![],seriesFN:f86.Studies.displayChannel,calculateFN:function(C36,X36){var g1m;g1m="M";D3mm.Q6o();g1m+="ov";g1m+="ing Average";g1m+=" Type";X36.inputs[g1m]="triangular";f86.Studies.calculateMAEnvelope(C36,X36);},inputs:{Period:10,Field:J1m,"Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":T1m,"High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};t94=T36=>{var G36;G36=typeof _CIQ !== "undefined"?_CIQ:T36.CIQ;if(!G36.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {G36.Studies.calculatePSAR=function(u36,B36){var w2x=D3mm;var K36,p36,t36,M36,A36,V36,s36,d1m,F36,k36,y36,r36;K36=B36.chart.scrubbed;p36=0;t36=null;w2x.Q6o();M36=![];A36=0;V36=parseFloat(B36.inputs["Minimum AF"]);s36=parseFloat(B36.inputs["Maximum AF"]);if(B36.startFrom > 0){d1m="Result";d1m+=" ";w2x.H7G(3);var g4G=w2x.C7G(1,0);A36=K36[B36.startFrom - g4G][d1m + B36.name];F36=K36[B36.startFrom - +"1"]["_state " + B36.name];if(F36 && F36.length == 3){w2x.n7G(25);p36=F36[w2x.c7G(1,"0")];t36=F36[1];M36=F36[2];}}for(var R36=B36.startFrom - 1;R36 < K36.length - 1;R36++){if(R36 < 0)continue;if(K36[R36].futureTick)break;k36=A36;if(M36){if(!t36 || t36 < K36[R36].High){t36=K36[R36].High;w2x.H7G(3);p36=Math.min(w2x.c7G(V36,p36),s36);}w2x.H7G(150);A36=w2x.c7G(t36,k36,k36,p36);y36=Math.min(K36[Math.max(1,R36) - 1].Low,K36[R36].Low);if(A36 > K36[R36 + 1].Low){A36=t36;z36();}else if(A36 > y36){A36=y36;}}else {if(!t36 || t36 > K36[R36].Low){t36=K36[R36].Low;w2x.n7G(3);p36=Math.min(w2x.C7G(V36,p36),s36);}w2x.H7G(150);A36=w2x.C7G(t36,k36,k36,p36);r36=Math.max(K36[Math.max("1" | 1,R36) - 1].High,K36[R36].High);if(A36 < K36[R36 + 1].High){A36=t36;z36();}else if(A36 < r36){A36=r36;}}w2x.H7G(3);K36[w2x.C7G(1,R36)]["_state " + B36.name]=[p36,t36,M36];if(!isNaN(K36[R36].High) || !isNaN(K36[R36].Low)){w2x.H7G(3);K36[w2x.c7G(1,R36)]["Result " + B36.name]=A36;}}function z36(){p36=0;t36=null;w2x.P6o();M36=!M36;}};G36.Studies.studyLibrary=G36.extend(G36.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:G36.Studies.calculatePSAR,seriesFN:G36.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":+"0.2"}}});}};A94=L96=>{var U36,G1m,e1m,z1m;D3mm.Q6o();U36=typeof _CIQ !== "undefined"?_CIQ:L96.CIQ;if(!U36.Studies){G1m="pivotPoints feature requires first activating st";G1m+="udies feature.";console.error(G1m);}else {e1m="#";e1m+="69";e1m+="9158";z1m="a";z1m+="u";z1m+="t";z1m+="o";U36.Studies.calculatePivotPoints=function(H96,l96){var E2x=D3mm;var X1m,B1m,D1m,a1m,f1m,v1m,P96,D96,i96,x96,t1m,w96,m96,j96,c96,p1m,F1m,O1m,h96,v96,y1m,E1m;X1m="ma";X1m+="rket.beg";X1m+="inningDayOfWee";X1m+="k";B1m="1";B1m+="5m";B1m+="i";B1m+="n";D1m="se";D1m+="c";D1m+="on";D1m+="d";a1m="y";a1m+="ear";f1m="d";f1m+="ay";v1m="d";v1m+="a";v1m+="y";P96=l96.chart.scrubbed;D96=v1m;i96=H96.layout.interval;x96=H96.layout.timeUnit;if(i96 == f1m){D96="month";}else if(U36.ChartEngine.isDailyInterval(i96)){D96=a1m;}else if(i96 == D1m || i96 == "millisecond" || x96 == "second" || x96 == "millisecond"){D96=B1m;}else {t1m="m";t1m+="inu";t1m+="te";w96=H96.layout.periodicity;if(i96 != t1m){w96*=i96;}if(w96 >= 30){D96="week";}}m96=null;E2x.H7G(6);var J4G=E2x.c7G(25,18);j96=J4G - U36.getFromNS(H96.chart,X1m,0);c96={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};function g96(){E2x.n7G(17);E2x.Q6o();var T4G=E2x.C7G(13,1,3,7,16);E2x.n7G(6);var d4G=E2x.c7G(12,9);c96.pivotPoint=(c96.high + c96.low + P96[d96 - T4G].Close) / d4G;c96.prevHigh=c96.high;c96.prevLow=c96.low;c96.hlSpread=c96.high - c96.low;c96.high=c96.low=0;}if(l96.startFrom > 1 && P96[l96.startFrom - 1]["_pointers " + l96.name]){c96=U36.clone(P96[l96.startFrom - 1]["_pointers " + l96.name]);}for(var d96=Math.max(1,l96.startFrom);d96 < P96.length;d96++){p1m="P";p1m+="i";p1m+="vo";p1m+="t ";F1m="1";F1m+="5";F1m+="mi";F1m+="n";O1m="y";O1m+="e";O1m+="ar";if(!P96[d96 - 1])continue;c96.high=Math.max(c96.high,P96[d96 - 1].High);c96.low=Math.min(c96.low > 0?c96.low:P96[d96 - "1" * 1].Low,P96[d96 - 1].Low);if(l96.inputs.Continuous){g96();}else if(D96 == O1m && P96[d96].DT.getYear() != P96[d96 - 1].DT.getYear()){g96();}else if(D96 == "month" && P96[d96].DT.getMonth() != P96[d96 - 1].DT.getMonth()){g96();}else if(D96 == "week" && (P96[d96].DT.getDay() + j96) % 7 < (P96[d96 - 1].DT.getDay() + j96) % 7){g96();}else if(D96 == "day"){if(m96 === null){m96=U36.Studies.getMarketOffset({stx:H96,localQuoteDate:P96[d96].DT,shiftToDateBoundary:! ![]});}h96=new Date(new Date(+P96[d96].DT).setMilliseconds(P96[d96].DT.getMilliseconds() + m96));v96=new Date(new Date(+P96[d96 - 1].DT).setMilliseconds(P96[d96 - +"1"].DT.getMilliseconds() + m96));if(v96.getDate() !== h96.getDate() && v96.getDay() !== 0 && H96.chart.market.isMarketDate(h96)){m96=null;g96();}}else if(D96 == F1m && (P96[d96].DT.getHours() != P96[d96 - 1].DT.getHours() || Math.floor(P96[d96].DT.getMinutes() / ("15" & 2147483647)) != Math.floor(P96[d96 - 1].DT.getMinutes() / 15))){g96();}P96[d96][p1m + l96.name]=c96.pivotPoint;if(l96.inputs.Type.toLowerCase() == "fibonacci"){y1m="Res";y1m+="istance 2 ";P96[d96]["Resistance 1 " + l96.name]=c96.pivotPoint + +"0.382" * c96.hlSpread;P96[d96][y1m + l96.name]=c96.pivotPoint + +"0.618" * c96.hlSpread;P96[d96]["Resistance 3 " + l96.name]=c96.pivotPoint + c96.hlSpread;P96[d96]["Support 1 " + l96.name]=c96.pivotPoint - 0.382 * c96.hlSpread;P96[d96]["Support 2 " + l96.name]=c96.pivotPoint - 0.618 * c96.hlSpread;P96[d96]["Support 3 " + l96.name]=c96.pivotPoint - c96.hlSpread;}else {E1m="Resistanc";E1m+="e 1 ";E2x.n7G(24);var G4G=E2x.C7G(3,26,8);P96[d96][E1m + l96.name]=G4G * c96.pivotPoint - c96.prevLow;P96[d96]["Resistance 2 " + l96.name]=c96.pivotPoint + c96.hlSpread;E2x.H7G(132);var v4G=E2x.c7G(13,17,88,1,3);P96[d96]["Resistance 3 " + l96.name]=c96.prevHigh + v4G * (c96.pivotPoint - c96.prevLow);E2x.n7G(6);var f4G=E2x.c7G(15,13);P96[d96]["Support 1 " + l96.name]=f4G * c96.pivotPoint - c96.prevHigh;P96[d96]["Support 2 " + l96.name]=c96.pivotPoint - c96.hlSpread;E2x.H7G(10);var a4G=E2x.c7G(8,6,12);P96[d96]["Support 3 " + l96.name]=c96.prevLow - a4G * (c96.prevHigh - c96.pivotPoint);}P96[d96]["_pointers " + l96.name]=U36.clone(c96);}};U36.Studies.displayPivotPoints=function(Y96,b96,e96){var b1m,Y1m,I1m,Q1m,s1m,S96,I96;D3mm.P6o();b96.noSlopes=!b96.inputs.Continuous;U36.Studies.displaySeriesAsLine(Y96,b96,e96);if(b96.inputs.Shading){b1m="Su";b1m+="ppo";b1m+="rt 3";Y1m="Su";Y1m+="pport 3 ";I1m="Resi";I1m+="st";I1m+="ance ";I1m+="1";Q1m="Re";Q1m+="sis";Q1m+="t";Q1m+="ance 1 ";s1m="Re";s1m+="sistance 2 ";S96=Y96.panels[b96.panel];I96={noSlopes:b96.noSlopes,opacity:b96.parameters.opacity?b96.parameters.opacity:0.2,skipTransform:S96.name != b96.chart.name,yAxis:b96.getYAxis(Y96)};if(!b96.highlight && Y96.highlightedDraggable){I96.opacity*=0.3;}U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:"Resistance 3 " + b96.name,bottomBand:s1m + b96.name,color:U36.Studies.determineColor(b96.outputs["Resistance 3"])},I96));U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:"Resistance 2 " + b96.name,bottomBand:"Resistance 1 " + b96.name,color:U36.Studies.determineColor(b96.outputs["Resistance 2"])},I96));U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:Q1m + b96.name,bottomBand:"Pivot " + b96.name,color:U36.Studies.determineColor(b96.outputs[I1m])},I96));U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:"Support 1 " + b96.name,bottomBand:"Pivot " + b96.name,color:U36.Studies.determineColor(b96.outputs["Support 1"])},I96));U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:"Support 2 " + b96.name,bottomBand:"Support 1 " + b96.name,color:U36.Studies.determineColor(b96.outputs["Support 2"])},I96));U36.prepareChannelFill(Y96,U36.extend({panelName:b96.panel,topBand:Y1m + b96.name,bottomBand:"Support 2 " + b96.name,color:U36.Studies.determineColor(b96.outputs[b1m])},I96));}};U36.Studies.studyLibrary=U36.extend(U36.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !"1",seriesFN:U36.Studies.displayPivotPoints,calculateFN:U36.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:! !"",Shading:![]},outputs:{Pivot:z1m,"Resistance 1":"#b82c0b","Support 1":e1m,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};B94=N96=>{D3mm.Q6o();var E96,h1m,u1m,N1m;E96=typeof _CIQ !== "undefined"?_CIQ:N96.CIQ;if(!E96.Studies){h1m="prettyGoodOscillator feature requires first activating studies f";h1m+="ea";h1m+="ture.";console.error(h1m);}else {u1m="a";u1m+="uto";N1m="P";N1m+="retty Good Oscilla";N1m+="tor";E96.Studies.calculatePrettyGoodOscillator=function(W96,Q96){var s2x=D3mm;var o1m,P1m,Z1m,Z96,P3V,o3V,R3V,R1m;o1m="_";o1m+="S";o1m+="M";o1m+="A";P1m="_";P1m+="E";P1m+="M";P1m+="A";Z1m="e";Z1m+="xpone";Z1m+="n";Z1m+="tial";Z96=Q96.chart.scrubbed;if(Z96.length < Q96.days + 1){Q96.error=!0;P3V=- +"1249792744";s2x.n7G(6);o3V=s2x.c7G("1447898863",0);R3V=2;for(var u3V=+"1";s2x.l0V(u3V.toString(),u3V.toString().length,"30151" * 1) !== P3V;u3V++){return;}if(s2x.g3V(R3V.toString(),R3V.toString().length,90523) !== o3V){return;}}E96.Studies.MA(Z1m,Q96.days,"trueRange","0" | 0,P1m,W96,Q96);E96.Studies.MA("simple",Q96.days,"Close","0" | 0,o1m,W96,Q96);for(var J96=Math.max(+"1",Q96.startFrom);J96 < Z96.length;J96++){R1m="_";R1m+="S";R1m+="MA ";if(!Z96[J96]["_SMA " + Q96.name] || !Z96[J96]["_EMA " + Q96.name])continue;Z96[J96]["Result " + Q96.name]=(Z96[J96].Close - Z96[J96][R1m + Q96.name]) / Z96[J96]["_EMA " + Q96.name];}};E96.Studies.studyLibrary=E96.extend(E96.Studies.studyLibrary,{"Pretty Good":{name:N1m,calculateFN:E96.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:u1m}}}});}};p94=f96=>{var j1m,o96,c1m,r1m,i1m,K1m;j1m="unde";j1m+="fined";o96=typeof _CIQ !== j1m?_CIQ:f96.CIQ;if(!o96.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {c1m="0";c1m+=".";c1m+="05";r1m="a";r1m+="u";r1m+="t";r1m+="o";i1m="a";i1m+="u";i1m+="t";i1m+="o";K1m="Price Momentum ";K1m+="Os";K1m+="cil";K1m+="lator";o96.Studies.calculatePMO=function(C96,n96){var p2x=D3mm;var H1m,S1m,L1m,k1m,a96,O96,X96,q96,G96;H1m="P";H1m+="MO";S1m="_EM";S1m+="Ax10 ";L1m="_EMAx1";L1m+="0";k1m="C";k1m+="l";k1m+="os";k1m+="e";a96={Smooth:Number(n96.inputs["Smoothing Period"]) - 1,Double:Number(n96.inputs["Double Smoothing Period"]) - 1,Signal:Number(n96.inputs["Signal Period"])};O96=n96.chart.scrubbed;if(O96.length < a96.Smooth + a96.Double){n96.error=! !{};return;}X96=n96.inputs.Field;if(!X96 || X96 == "field"){X96=k1m;}for(q96=n96.startFrom;q96 < O96.length;q96++){if(!O96[q96])continue;if(!O96[q96 - 1])continue;p2x.n7G(6);G96=O96[p2x.c7G(q96,1)][X96];if(G96){p2x.H7G(10);var D4G=p2x.c7G(16000,15,15015);p2x.n7G(151);var B4G=p2x.c7G(2,8,2,20,16);O96[q96]["_ROCx10 " + n96.name]=D4G * (O96[q96][X96] / G96 - B4G);}}o96.Studies.MA("exponential",a96.Smooth,"_ROCx10 " + n96.name,0,L1m,C96,n96);o96.Studies.MA("exponential",a96.Double,S1m + n96.name,0,"PMO",C96,n96);o96.Studies.MA("exponential",a96.Signal,"PMO " + n96.name,0,"PMOSignal",C96,n96);n96.zoneOutput=H1m;};o96.Studies.studyLibrary=o96.extend(o96.Studies.studyLibrary,{PMO:{name:K1m,calculateFN:o96.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:2.5,studyOverBoughtColor:i1m,studyOverSoldValue:-2.5,studyOverSoldColor:r1m}},attributes:{studyOverBoughtValue:{min:0,step:c1m},studyOverSoldValue:{max:+"0",step:"0.05"}}}});}};M94=K96=>{var T96,T8m,J8m,g8m,l1m,q1m;T96=typeof _CIQ !== "undefined"?_CIQ:K96.CIQ;if(!T96.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {T8m="0";T8m+=".";T8m+="1";J8m="au";J8m+="to";g8m="R";g8m+="AV";g8m+="I";l1m="Po";l1m+="i";l1m+="n";l1m+="ts";q1m="Volume O";q1m+="scillator";T96.Studies.calculatePriceOscillator=function(r96,R96){var Q2x=D3mm;var V1m,A1m,F96,y96,k96,A96,B96,W1m,V96,t96,p96,M96,m1m;V1m="Cl";V1m+="o";V1m+="s";V1m+="e";A1m="Mo";A1m+="ving Average";A1m+=" Ty";A1m+="pe";F96=R96.chart.scrubbed;y96=Number(R96.inputs["Short Cycle"]);k96=Number(R96.inputs["Long Cycle"]);if(F96.length < Math.max(y96,k96) + 1){R96.error=! !"1";return;}A96=R96.inputs.Field;B96=R96.inputs[A1m];if(!B96){B96="simple";}if(!A96 || A96 == "field"){A96=V1m;}if(R96.parameters.isVolume){W1m="ex";W1m+="po";W1m+="ne";W1m+="ntial";A96="Volume";B96=W1m;}V96=R96.inputs["Points Or Percent"];if(!V96){V96="Percent";}T96.Studies.MA(B96,y96,A96,0,"_Short MA",r96,R96);T96.Studies.MA(B96,k96,A96,0,"_Long MA",r96,R96);for(var s96=Math.max(k96,R96.startFrom);s96 < F96.length;s96++){t96=F96[s96];if(!t96)continue;p96=t96["_Short MA " + R96.name];M96=t96["_Long MA " + R96.name];if((p96 || p96 === 0) && (M96 || M96 === 0)){if(V96 == "Points"){Q2x.H7G(6);t96["Result " + R96.name]=Q2x.C7G(p96,M96);}else {Q2x.H7G(152);t96["Result " + R96.name]=Q2x.c7G(1,100,"1",M96,p96);}if(R96.outputs["Increasing Bar"]){m1m="_h";m1m+="i";m1m+="s";m1m+="t";t96[R96.name + "_hist"]=t96["Result " + R96.name];R96.outputMap={};R96.outputMap[R96.name + m1m]="";}}}};T96.Studies.displayRAVI=function(u96,z96,D46){var P2x=D3mm;var C1m,M1m,l46,L46,i46,H46,P46,x46,w46,x1m,U1m,n1m,w1m,U96,d46,m46,g46;C1m="Decreasi";C1m+="ng Bar";M1m="I";M1m+="ncreasi";M1m+="ng Ba";M1m+="r";l46=u96.panels[z96.panel];L46=z96.getContext(u96);i46=z96.getYAxis(u96);H46=u96.pixelFromPrice(0,l46,i46);P2x.H7G(13);var t4G=P2x.C7G(13,29,6,12);P46=u96.layout.candleWidth - t4G;if(P46 < 2){P2x.H7G(25);P46=P2x.c7G(1,"1");}x46=T96.Studies.determineColor(z96.outputs[M1m]);w46=T96.Studies.determineColor(z96.outputs[C1m]);u96.startClip(z96.panel);u96.canvasColor("stx_histogram");if(!z96.underlay){L46.globalAlpha=1;}if(!z96.highlight && u96.highlightedDraggable){L46.globalAlpha*=0.3;}for(var c46=0;c46 < D46.length;c46++){x1m="#CCCC";x1m+="CC";U1m="_";U1m+="h";U1m+="i";U1m+="st";n1m="_h";n1m+="i";n1m+="s";n1m+="t";w1m="_hi";w1m+="s";w1m+="t";U96=D46[c46];P2x.H7G(6);d46=D46[P2x.c7G(c46,1)];if(!d46){d46=u96.getPreviousBar(u96.chart,z96.name + w1m,c46);}if(!U96)continue;m46=0;P2x.n7G(6);g46=P2x.C7G("0",0);if(z96.parameters && z96.parameters.studyOverZonesEnabled){m46=parseFloat(z96.parameters.studyOverBoughtValue);g46=parseFloat(z96.parameters.studyOverSoldValue);}if(!d46){L46.fillStyle="#CCCCCC";}else if(U96[z96.name + "_hist"] > m46 && d46[z96.name + "_hist"] < U96[z96.name + n1m]){L46.fillStyle=x46;}else if(U96[z96.name + U1m] < g46 && d46[z96.name + "_hist"] > U96[z96.name + "_hist"]){L46.fillStyle=w46;}else {L46.fillStyle=x1m;}if(U96.candleWidth){P46=Math.floor(Math.max(1,U96.candleWidth - 2));}L46.fillRect(Math.floor(u96.pixelFromBar(c46,l46.chart) - P46 / 2),Math.floor(H46),Math.floor(P46),Math.floor(u96.pixelFromPrice(U96[z96.name + "_hist"],l46,i46) - H46));}u96.endClip();};T96.Studies.studyLibrary=T96.extend(T96.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:T96.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":"26" ^ 0,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:q1m,calculateFN:T96.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[l1m,"Percent"]},parameters:{init:{isVolume:!""}}},RAVI:{name:g8m,seriesFN:T96.Studies.displayRAVI,calculateFN:T96.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:J8m,studyOverSoldValue:-("3" & 2147483647),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:T8m}}}});}};F94=h46=>{var j46,a8m,f8m,v8m;j46=typeof _CIQ !== "undefined"?_CIQ:h46.CIQ;if(!j46.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {a8m="a";a8m+="u";a8m+="t";a8m+="o";f8m="a";f8m+="u";f8m+="to";v8m="Prime N";v8m+="umber Bands";j46.Studies.calculatePrimeNumber=function(f46,I46){var t2x=D3mm;var S46,Q46,Y46,b46,v46,d8m,G8m,e46,W46,o46;S46=[];Q46=I46.chart.scrubbed;for(var N46=I46.startFrom;N46 < Q46.length;N46++){Y46=Q46[N46];if(!Y46)continue;b46=Y46.High;if(!isNaN(b46)){for(var Z46=+"0";b46 > 0 && b46 <= 10;Z46++){b46*=10;}if(E46(b46)){b46+=2;}b46=Math.ceil(b46);if(b46 % 2 === +"0"){b46++;}while(!E46(b46)){b46+=2;}b46/=Math.pow(10,Z46);}v46=Y46.Low;if(!isNaN(v46)){for(var J46=0;v46 > 0 && v46 <= 10;J46++){t2x.n7G(18);v46*=t2x.c7G("10",2);}if(E46(v46)){v46-=2;}v46=Math.floor(v46);if(v46 % 2 === 0){v46--;}if(v46 > 0){while(!E46(v46)){t2x.H7G(25);v46-=t2x.C7G(1,"2");}v46/=Math.pow(10,J46);}}if(I46.type == "Prime Number Bands"){d8m="Pr";d8m+="ime Bands Top";d8m+=" ";if(!isNaN(b46)){Y46[d8m + I46.name]=b46;}if(!isNaN(v46)){Y46["Prime Bands Bottom " + I46.name]=Math.max(0,v46);}}else {G8m="Res";G8m+="ul";G8m+="t";G8m+=" ";e46=0;t2x.H7G(3);var X4G=t2x.C7G(546968240,78138320);W46=I46.inputs["Tolerance Percentage"] * (b46 - v46) / ("100" >> X4G);t2x.H7G(153);var O4G=t2x.C7G(25,20,5,13,15);o46=b46 + v46 - O4G * Y46.Close;if(o46 < W46){e46=+"1";}else if(o46 > W46){e46=-1;}if(e46){Y46[G8m + I46.name]=e46;}}}function E46(n46){var q46;if(n46 <= 0){return ! !0;}else if(n46 != Math.floor(n46)){return !{};}else if(S46[n46] === ! !{} || S46[n46] === ! !""){return S46[n46];}q46=parseInt(Math.sqrt(n46),10);for(var O46=2;O46 <= q46;O46++){if(n46 % O46 === 0){S46[n46]=!"1";return ![];}}S46[n46]=! !"1";return ! ![];}};j46.Studies.studyLibrary=j46.extend(j46.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:j46.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:v8m,overlay:! ![],calculateFN:j46.Studies.calculatePrimeNumber,seriesFN:j46.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":f8m,"Prime Bands Channel":a8m}}});}};k94=X46=>{var a46,D8m,I8m,Q8m,s8m;a46=typeof _CIQ !== "undefined"?_CIQ:X46.CIQ;D3mm.P6o();if(!a46.Studies){D8m="pring feature requires first ";D8m+="activating studies feature.";console.error(D8m);}else {I8m="wee";I8m+="kly";Q8m="#";Q8m+="FF";Q8m+="0000";s8m="#00D";s8m+="D";s8m+="0";s8m+="0";a46.Studies.calculateKST=function(p46,C46){var n2x=D3mm;var y8m,O8m,X8m,t8m,B8m,K46,t46,R46,A46,M46,T46,G46,F8m,p8m,B46;y8m="si";y8m+="m";y8m+="p";y8m+="le";O8m="He";O8m+="aviest ";O8m+="SMA Perio";n2x.Q6o();O8m+="d";X8m="L";X8m+="ightest ";X8m+="SMA Per";X8m+="iod";t8m="Heavy Rate of C";t8m+="han";t8m+="ge Peri";t8m+="od";B8m="Light Rate ";B8m+="of Chan";B8m+="ge Period";K46=C46.chart.scrubbed;t46=C46.inputs.Field;if(!t46 || t46 == "field"){t46="Close";}R46={};A46={};n2x.H7G(0);R46[n2x.C7G("1",1179888000)]=Number(C46.inputs["Lightest Rate of Change Period"]);R46[2]=Number(C46.inputs[B8m]);R46[3]=Number(C46.inputs[t8m]);R46[4]=Number(C46.inputs["Heaviest Rate of Change Period"]);n2x.n7G(29);A46[n2x.C7G("1",1791247424)]=Number(C46.inputs[X8m]);A46[2]=Number(C46.inputs["Light SMA Period"]);n2x.H7G(41);A46[n2x.C7G("3",0)]=Number(C46.inputs["Heavy SMA Period"]);A46[4]=Number(C46.inputs[O8m]);M46=Number(C46.inputs["Signal Period"]);for(T46=C46.startFrom;T46 < K46.length;T46++){if(!K46[T46])continue;for(G46=1;G46 <= 4;G46++){if(T46 >= R46[G46] && K46[T46 - R46[G46]] && K46[T46 - R46[G46]][t46]){n2x.n7G(61);var F4G=n2x.C7G(61571,19,65696);n2x.n7G(3);var p4G=n2x.C7G(10,6530);n2x.H7G(154);var y4G=n2x.C7G(775,11384,1,16,14);n2x.H7G(3);var E4G=n2x.C7G(7,1053);n2x.n7G(72);var s4G=n2x.c7G(327180,23940,14);n2x.H7G(3);var Q4G=n2x.C7G(6,8972);n2x.H7G(69);var I4G=n2x.c7G(3114,8,3096,3114);n2x.H7G(27);var Y4G=n2x.C7G(2541,2,338,13);n2x.n7G(155);var b4G=n2x.c7G(10,1159,10421,10,13);n2x.n7G(156);var z4G=n2x.C7G(233,46061,6,18,12);n2x.H7G(58);var e4G=n2x.c7G(15,85,1);K46[T46]["_ROC" + G46 + (F4G == (p4G,y4G)?(+"671.40",E4G):(s4G,911.71) < ("7761" ^ 0)?(Q4G,I4G) >= ("5050" | Y4G,b4G)?" ":(!{},z4G):! !{}) + C46.name]=e4G * (K46[T46][t46] / K46[T46 - R46[G46]][t46] - ("1" - 0));}}}for(G46=1;G46 <= 4;G46++){F8m="_";F8m+="SMA";a46.Studies.MA("simple",A46[G46],"_ROC" + G46 + " " + C46.name,0,F8m + G46,p46,C46);}for(T46=C46.startFrom;T46 < K46.length;T46++){K46[T46]["KST " + C46.name]=null;for(G46=1;G46 <= "4" * 1;G46++){p8m="KS";p8m+="T ";B46=K46[T46]["_SMA" + G46 + " " + C46.name];if(B46 || B46 === 0){n2x.n7G(25);K46[T46][p8m + C46.name]+=n2x.c7G(B46,G46);}}}a46.Studies.MA(y8m,M46,"KST " + C46.name,0,"KSTSignal",p46,C46);};a46.Studies.calculateSpecialK=function(L66,y46){var r2x=D3mm;var V46,r46,s46,z46,u46,k46,F46,E8m,U46;V46=y46.chart.scrubbed;r46=y46.inputs.Field;if(!r46 || r46 == "field"){r46="Close";}s46=y46.inputs.Interval;r2x.Q6o();if(!s46){s46="daily";}z46={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,"13" | 9,15,20,"39" | 36,52,78,+"104"]};u46={daily:[10,10,10,15,50,65,75,"100" & 2147483647,130,130,130,195],weekly:["4" | 0,5,+"6",8,10,13,15,20,26,26,+"26","39" << 88169184]};for(k46=y46.startFrom;k46 < V46.length;k46++){if(!V46[k46])continue;for(F46=0;F46 < z46[s46].length;F46++){if(k46 >= z46[s46][F46] && V46[k46 - z46[s46][F46]] && V46[k46 - z46[s46][F46]][r46]){r2x.H7G(58);var h4G=r2x.c7G(3,4027,1);r2x.n7G(3);var Z4G=r2x.C7G(4320,480);r2x.H7G(58);var P4G=r2x.c7G(97,102,34);r2x.n7G(79);var o4G=r2x.c7G(10,12,13,4,8);V46[k46]["_ROC" + F46 + (h4G >= (614.37,Z4G)?(!{},934.10):" ") + y46.name]=P4G * (V46[k46][r46] / V46[k46 - z46[s46][F46]][r46] - o4G);}}}for(F46=0;F46 < u46[s46].length;F46++){E8m="_";E8m+="RO";E8m+="C";a46.Studies.MA(s46 == "daily"?"simple":"exponential",u46[s46][F46],E8m + F46 + " " + y46.name,0,"_MA" + F46,L66,y46);}for(k46=y46.startFrom;k46 < V46.length;k46++){V46[k46]["Result " + y46.name]=null;for(F46=0;F46 < u46[s46].length;F46++){U46=V46[k46]["_MA" + F46 + " " + y46.name];if(U46 || U46 === 0){r2x.n7G(157);V46[k46]["Result " + y46.name]+=r2x.c7G(1,U46,F46,4);}}}};a46.Studies.studyLibrary=a46.extend(a46.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:a46.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":+"10","Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:s8m,KSTSignal:Q8m}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:a46.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",I8m]}}});}};V94=P66=>{var Y8m,c66,d66,V8m,A8m,c8m,r8m,i8m,K8m,H8m,S8m,L8m,k8m;Y8m="u";Y8m+="ndefined";c66=typeof _CIQ !== "undefined"?_CIQ:P66.CIQ;d66=typeof _timezoneJS !== Y8m?_timezoneJS:P66.timezoneJS;if(!c66.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!c66.Studies.studyLibrary.PVAT){V8m="#";V8m+="8";V8m+="cc176";A8m="#";A8m+="f";A8m+="e";A8m+="641c";c8m="hh:mm:";c8m+="ss";r8m="#";r8m+="8c";r8m+="c17";r8m+="6";i8m="#";i8m+="fe";i8m+="641";i8m+="c";K8m="-1";K8m+="5";K8m+="0%";H8m="-";H8m+="7";H8m+="5";H8m+="%";S8m="+";S8m+="50%";L8m="+10";L8m+="0";L8m+="%";k8m="+";k8m+="15";k8m+="0%";c66.Studies.initProjectedVolume=function(i66,g66,D66,x66,w66,j66){var l66,b8m,m66;var {market:H66}=i66.chart;l66="00:00";if(H66){l66=H66.getNormalOpen();}if(l66.match(/^[\d]{2}:[\d]{2}$/)){l66+=":00";}if(!D66["Anchor Time"] || !D66["Anchor Time"].length){b8m="A";b8m+="nchor";b8m+=" Ti";b8m+="me";D66[b8m]=l66;}m66=c66.Studies.initializeFN(i66,g66,D66,x66,w66,j66);if(!i66.currentlyImporting){m66.defaultAnchorTime=l66;}return m66;};c66.Studies.validateProjectedVolumeLookback=function(Y66,I66){var {interval:h66, periodicity:v66}=Y66.layout;var {"Lookback Days":b66}=I66.inputs;D3mm.H7G(158);D3mm.Q6o();return D3mm.c7G(h66,10,v66,b66);};c66.Studies.calculateProjectedVolume=function(E66,S66){var j2x=D3mm;var Z8m,h8m,e8m,z8m,w76,n66,O66,h76,v76,z66,u66,N66,U66,T76,Q66,L76,c76,b76,P76,q66,d76,K76,f66,R76,A66,Z66,F66,W66,G66,I76,S76,e76,E76,D76,i76,s66,B76,N76,T66,K66,r66,p76,H76,R8m,o8m,P8m,J66,Q76,Z76,m76,J76,B66;function n76(c16){var T6V,d6V,G6V;T6V=1235714505;d6V=-1546876227;j2x.P6o();G6V=2;for(var f6V="1" << 1624549664;j2x.g3V(f6V.toString(),f6V.toString().length,+"10211") !== T6V;f6V++){return E66.dateFromTick(c16,1,! !0,"");}if(j2x.g3V(G6V.toString(),G6V.toString().length,23439) !== d6V){return E66.dateFromTick(c16,null,!0,"scrubbed");}}Z8m="P";Z8m+="V ";h8m="0";h8m+="0:0";h8m+="0";e8m="o";e8m+="h";e8m+="l";e8m+="c";function R66(r76){return {hours:r76.getHours(),minutes:r76.getMinutes()};}z8m="ti";z8m+="ck";var {interval:O76, timeUnit:g76, aggregationType:x76}=E66.layout;var {symbol:q76, scroll:a76, scrubbed:e66, market:o66}=E66.chart;w76=S66.type === "PAV";n66=S66.study?S66.study.name:S66.type;if(c66.ChartEngine.isDailyInterval(O76)){S66.error=`${n66} is Intraday Only`;}else if(g76 === z8m){S66.error=`Tick mode not supported for ${n66}`;}else if(g76 !== "minute"){S66.error=`Sub-minute periodicities not supported for ${n66}`;}else if(!x76 || ![e8m,"heikinashi"].includes(x76)){S66.error=`Aggregation type not supported for ${n66}`;}else if(!c66.Studies.validateProjectedVolumeLookback(E66,S66)){S66.error=`Selected lookback/periodicity combo not supported for ${n66}`;}if(S66.error){return;}if(S66.inputs["Anchor Selector"]){c66.Studies.initAnchorHandle(E66,S66);}else {c66.Studies.removeAnchorHandle(E66,S66);}O66=o66?o66.getNormalOpen():h8m;if(O66.match(/^[\d]{2}:[\d]{2}$/)){O66+=":00";}if(!E66.currentlyImporting){if(!S66.defaultAnchorTime){S66.defaultAnchorTime=O66;}else if(O66 !== S66.defaultAnchorTime){S66.defaultAnchorTime=O66;S66.inputs["Anchor Time"]=O66;c66.Studies.repositionAnchor(E66,S66);return;}}var {"Lookback Days":M66, "Anchor Time":X76}=S66.inputs;function o76(z76,u76,U76){j2x.Q6o();while(u76){z76=new Date(new Date(z76).setDate(z76.getDate() + (U76?"1" & 2147483647:-1)));if(o66.isMarketDate(z76)){u76--;}}return z76;}var [C76,G76,j76 = 0]=X76.split(("1837" & 2147483647,2446) == (239,986.83)?0x9a8:(6610,6106) !== (7,949.86)?":":("962" >> 543957536,8420) == 112.89?(0x1b2f,!""):2.02e+3);h76=c66.getFn("Market.Symbology.isForexSymbol")(q76);v76=S66.getDependents(E66);z66=0;u66=[];v76.forEach(({inputs:F76, outputMap:k76})=>{j2x.Q6o();if(F76.Period){z66=Math.max(parseInt(F76.Period),z66);u66.push(...Object.keys(k76));}});S66.dependentsOutputMap=u66;function f76(L16){var A4V,V4V,W4V,N8m;A4V=- +"2130424265";j2x.n7G(18);V4V=-j2x.C7G("1585812896",511971456);W4V=2;for(var M4V=1;j2x.g3V(M4V.toString(),M4V.toString().length,94172) !== A4V;M4V++){return E66.tickFromDate(L16,1,1,! !"","");}if(j2x.g3V(W4V.toString(),W4V.toString().length,53695) !== V4V){N8m="s";N8m+="cr";N8m+="ubbed";return E66.tickFromDate(L16,null,null,!"",N8m);}}U66=p66(e66.length - 1,! ![]);T76=Math.ceil(e66.length - 1 - a76);j2x.H7G(6);Q66=p66(j2x.c7G(T76,z66));if(h76 && e66[Q66] && c66.dateToStr(e66[Q66].DT,"HH:mm") !== O66){j2x.n7G(6);Q66=p66(j2x.C7G(Q66,1));;}if(!h76 && S66.startFrom > Q66 && e66[Q66] && e66[Q66]["V " + S66.name] !== undefined && u66.every(V76=>{j2x.P6o();return ![undefined,null].includes(e66[Q66][V76]);}) && U66 !== ! !""){N66=U66;;}else {N66=Q66;}L76=o76(n76(Q66),M66);L76.setHours(+"0",0,0);function p66(H16,m16){var D16,i16,l16;D16=n76(H16);i16=o66.getOpen(D16) || M76(D16);l16=f76(i16);if(!m16){return l16;}if(l16 < 0){l16=f76(o76(i16,1,!""));}if(l16 >= e66.length){return !"1";}return l16;}j2x.P6o();c76=p66(0,!0);b76=(c76 || c76 === 0) && f76(o76(e66[c76].DT,M66,! ![]));if(e66[0].DT > L76){if(E66.quoteDriver){E66.quoteDriver.extendHistoricalData({from:L76});if(b76 > 0){N66=b76;}else {return;}}else {return S66.error=`Not enough data to calculate ${n66}`;}}if(N66 < 0 || N66 > e66.length - 1){return;}P76=e66.length - S66.startFrom === ("1" | 0) && S66.cachedFutureTicks && S66.cachedLastProjection && +S66.cachedLastProjection.DT === +e66[e66.length - 1].DT && e66[N66][Z8m + S66.name];if(P76){j2x.H7G(11);var R4G=j2x.C7G(4,17,20,8);e66[e66.length - R4G]["PV " + S66.name]=S66.cachedLastProjection.projectedValue;S66.appendFutureTicks(E66,S66.cachedFutureTicks);N66=S66.startFrom;}else {S66.cachedFutureTicks=null;S66.cachedLastProjection=null;q66=[U66];d76=[];for(var Y76=+"0";Y76 < M66;Y76++){K76=p66(q66["0" >> 37972128] - +"1");q66.unshift(K76);;}while(q66[M66] >= N66){f66=q66.pop();if(!e66[f66]){return W76(f66);}R76=R66(e66[f66].DT);var {hours:a66, minutes:t66}=R76;A66=o66.getClose(e66[f66].DT);Z66=void 0;if(!A66){Z66={hours:24,minutes:"0" * 1};}else {F66=o66.getNextClose(e66[f66].DT);Z66=R66(A66);while(!(Z66.hours === "0" * 1 && Z66.minutes === 0) && A66.getDate() === F66.getDate()){A66=F66;F66=o66.getNextClose(F66);}Z66=R66(A66);if(Z66.hours === 0){Z66.hours=24;}}W66=q66.slice();for(var k66=0;k66 < W66.length;k66++){G66=W66[k66];if(!e66[G66]){return W76(G66);}var {hours:V66, minutes:l76}=R66(e66[G66].DT);if(V66 < a66 || V66 === a66 && l76 < t66){do {G66++;({hours:V66, minutes:l76}=R66(e66[G66].DT));}while(!(V66 === a66 && l76 === t66));}W66[k66]=G66;}while(a66 < Z66.hours || a66 === Z66.hours && t66 < Z66.minutes){I76=! !"";S76=void 0;e76=void +"0";E76=+"0";D76=+"0";for(var X66=0;X66 < W66.length;X66++){i76=W66[X66];if(i76 === null)continue;s66=e66[i76];if(!s66){return W76(i76);}var {hours:t76, minutes:A76}=R66(s66.DT);B76=s66.DT.getDate();if(t76 === a66 && A76 === t66){E76+=s66.Volume;D76++;W66[X66]++;if(e66[W66[X66]].DT.getDate() !== B76){W66[X66]=null;}else if(!I76){({hours:S76, minutes:e76}=R66(e66[W66[X66]].DT));I76=!0;;}}}a66=S76;t66=e76;if(D76 === 0)break;j2x.n7G(20);N76=j2x.c7G(D76,E76);if(e66[f66]){e66[f66]["PV " + S66.name]=N76;}else {d76.push({["PV " + S66.name]:N76});}f66++;}q66.unshift(p66(q66[0] - ("1" - 0)));;}S66.cachedLastProjection={DT:e66[e66.length - 1].DT,projectedValue:e66[e66.length - 1]["PV " + S66.name]};S66.cachedFutureTicks=d76;S66.appendFutureTicks(E66,d76);}T66=null;function M76(P16){j2x.Q6o();var d16;P16.setHours(0);P16.setMinutes(+"0");d16=c66.Studies.getMarketOffset({stx:E66,localQuoteDate:P16});return new Date(P16.getTime() + d16);}K66=0;r66=0;if(P76 && w76){while(N66 > 0){j2x.n7G(6);H76=e66[j2x.C7G(N66,1)]["V " + S66.name];if(H76 || H76 === 0){K66=H76;break;}N66--;}}function W76(y76){j2x.Q6o();console.error(`Expected data for ${n76(y76).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}for(var C66=N66;C66 < e66.length;C66++){R8m="V";R8m+=" ";o8m="America/";o8m+="New_York";P8m="PV";P8m+=" ";J66=e66[C66];Q76=J66.Volume;Z76=J66[P8m + S66.name];if(!J66.futureTick){p76=C66;}if(T66 === null){T66=c66.Studies.getMarketOffset({stx:E66,localQuoteDate:e66[C66].DT,shiftToDateBoundary:! !"1"});}m76=new Date(new Date(J66.DT).getTime() + T66);J76=e66[C66 - ("1" ^ 0)] && new Date(new Date(e66[C66 - 1].DT).getTime() + T66);B66=new d66.Date(J66.DT,o66.market_def.market_tz || o8m);B66.setHours(C76,G76,j76);j2x.H7G(3);B66=new Date(j2x.C7G(T66,B66));B66.setDate(m76.getDate());if(J76 && m76.getDate() !== J76.getDate()){T66=null;K66=0;r66=0;}if(m76 < B66){J66["V " + S66.name]=0;J66["PV " + S66.name]=0;continue;}if(w76){K66+=Q76;r66+=Z76;}else {K66=Q76;r66=Z76;}J66[R8m + S66.name]=K66;if(!P76){J66["PV " + S66.name]=r66;}if([NaN,null,undefined].includes(K66) && !J66.futureTick){S66.error=`${n66} requires volume`;return;}}S66.cachedLastProjection.projectedValue=e66[p76]["PV " + S66.name];S66.outputMap={};S66.outputMap["V " + S66.name]="";S66.outputMap["PV " + S66.name]="Average Line";v76.forEach(s76=>{s76.startFrom=N66;s76.study.calculateFN(E66,s76);});};c66.Studies.displayProjectedVolume=function(x16,g16,w16){var O2x=D3mm;var v16,j16,b16,Y16,I16,e16,E16;if(g16.error){return c66.Studies.removeAnchorHandle(x16,g16);}var {"Alert Threshold":h16 = ""}=g16.inputs;O2x.H7G(99);var N4G=O2x.c7G(5,13,65,8);O2x.H7G(10);var u4G=O2x.C7G(17,9,16);O2x.H7G(61);var j4G=O2x.c7G(385,15,500);v16=parseInt(h16.slice(0,-("1" * N4G)),u4G) / j4G;j16=g16.outputs["Alert Bar"];if(typeof j16 === "object"){j16=j16.color;}g16.volumeField="V " + g16.name;g16.alignStepToSide=! !1;g16.extendToEndOfLastBar=! !"1";g16.lineWidth=2;b16=x16.canvasStyle("stx_volume_underlay_up").opacity;Y16=x16.canvasStyle("stx_volume_underlay_down").opacity;g16.colorFunction=function(Q16){var u8m,O16,N16,q16,Z16,J16,W16;u8m="V";u8m+=" ";O2x.P6o();var {Open:o16, Close:f16, iqPrevClose:n16}=Q16;O16=x16.colorByCandleDirection?o16:n16;O2x.n7G(159);N16=O2x.C7G(O16,f16);q16=Q16["PV " + g16.name];Z16=Q16[u8m + g16.name];O2x.n7G(160);J16=O2x.C7G(1,q16,v16);W16=v16 < +"0"?Z16 < J16:Z16 > J16;return {fill_color:W16 && j16 || (N16?this.fill_color_down:this.fill_color_up),border_color:N16?this.border_color_down:this.border_color_up,opacity:W16?1:N16?Y16:b16,border_opacity:N16?Y16:b16};};O2x.P6o();I16=g16.study?g16.study.name:g16.type;var {loadingMore:S16}=x16.chart;e16=w16.some(a16=>{var j8m;j8m="P";j8m+="V";O2x.Q6o();j8m+=" ";return a16 && a16[g16.volumeField] && a16[j8m + g16.name];});E16=w16[0] && !w16[0].futureTick && (w16[0]["PV " + g16.name] === undefined || (g16.dependentsOutputMap || []).some(X16=>{return [undefined,null].includes(w16[0][X16]);}));if(!e16 && S16){return g16.error=`Fetching data for ${I16}`;}c66.Studies.createVolumeChart(x16,g16,w16);c66.Studies.displaySeriesAsLine(x16,g16,w16);if(g16.anchorHandle){c66.Studies.displayAnchorHandleAndLine(x16,g16,w16);}if(E16){c66.Studies.calculateProjectedVolume(x16,g16);}};c66.Studies.studyLibrary=c66.extend(c66.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:c66.Studies.calculateProjectedVolume,seriesFN:c66.Studies.displayProjectedVolume,initializeFN:c66.Studies.initProjectedVolume,removeFN:c66.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[k8m,"+125%",L8m,"+75%",S8m,"+25%","None","-25%","-50%",H8m,"-100%","-125%",K8m],"Anchor Selector":! !{}},outputs:{"Average Line":i8m,"Alert Bar":"#cfbd0e","Up Volume":r8m,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:c8m,step:"1" * 1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:"0" >> 1666854432,zoom:0},calculateFN:c66.Studies.calculateProjectedVolume,seriesFN:c66.Studies.displayProjectedVolume,initializeFN:c66.Studies.initProjectedVolume,removeFN:c66.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":A8m,"Up Volume":V8m,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};s94=G16=>{var C16,W8m,c5V,A5V,V5V,M8m;C16=typeof _CIQ !== "undefined"?_CIQ:G16.CIQ;if(!C16.Studies){W8m="psychologicalLine feature requir";W8m+="es first activating studies feat";W8m+="ure.";console.error(W8m);}else {C16.Studies.calculatePsychologicalLine=function(M16,T16){var R16,t16,B16,A16,m8m,p16;R16=T16.chart.scrubbed;if(R16.length < T16.days + 1){T16.error=! !1;return;}D3mm.Q6o();t16=[];B16=+"100" / T16.days;A16=0;for(var K16=Math.max(T16.startFrom - T16.days,1);K16 < R16.length;K16++){m8m="R";m8m+="e";m8m+="s";m8m+="ult ";if(R16[K16].futureTick)break;p16=Number(R16[K16].Close > R16[K16 - 1].Close);if(p16){A16+=B16;}t16.push(p16);if(t16.length > T16.days){A16-=t16.shift() * B16;}if(K16 < T16.startFrom)continue;if(!isNaN(R16[K16].Close)){R16[K16][m8m + T16.name]=A16;}}};c5V=1480548243;A5V=229437651;V5V=2;for(var m5V=1;D3mm.l0V(m5V.toString(),m5V.toString().length,+"19470") !== c5V;m5V++){M8m="Psychological";M8m+=" Line";C16.Studies.studyLibrary=C16.extend(C16.Studies.studyLibrary,{PSY:{name:M8m,range:"0 to 100",calculateFN:C16.Studies.calculatePsychologicalLine,inputs:{Period:56}}});V5V+=2;}if(D3mm.l0V(V5V.toString(),V5V.toString().length,62524) !== A5V){C16.Studies.studyLibrary=C16.extend(C16.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:C16.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}}};y94=k16=>{var F16,C8m,n8m;F16=typeof _CIQ !== "undefined"?_CIQ:k16.CIQ;if(!F16.Studies){C8m="qstick featur";C8m+="e requires fi";C8m+="rst activating studies feature.";console.error(C8m);}else {n8m="Q";n8m+="Sti";n8m+="ck";F16.Studies.calculateQStick=function(r16,V16){var w8m,s16;w8m="Movin";w8m+="g Average Type";s16=V16.chart.scrubbed;D3mm.P6o();if(s16.length < V16.days + 1){V16.error=! ![];return;}for(var y16=V16.startFrom;y16 < s16.length;y16++){s16[y16]["_Close-Open " + V16.name]=s16[y16].Close - s16[y16].Open;}F16.Studies.MA(V16.inputs[w8m],V16.days,"_Close-Open " + V16.name,0,"Result",r16,V16);};F16.Studies.studyLibrary=F16.extend(F16.Studies.studyLibrary,{QStick:{name:n8m,calculateFN:F16.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};r94=u16=>{D3mm.Q6o();var z16,d2m;z16=typeof _CIQ !== "undefined"?_CIQ:u16.CIQ;if(!z16.Studies){console.error("rainbow feature requires first activating studies feature.");}else {d2m="#0";d2m+="0";d2m+="F";d2m+="F7F";z16.Studies.calculateRainbow=function(w26,U16){var K2x=D3mm;var L26,d26,g26,U8m,x26,i26,H26,m26,l26,D26,x8m;function j26(I26,Y26){var v26,b26;v26=Number.MAX_VALUE * -("1" & 2147483647);b26=Number.MAX_VALUE;for(var h26=Y26 - I26 + 1;h26 <= Y26;h26++){if(h26 < 0)continue;v26=Math.max(v26,L26[h26].Close);b26=Math.min(b26,L26[h26].Close);}return [b26,v26];}L26=U16.chart.scrubbed;if(L26.length < U16.days + 1){U16.error=! !{};return;}d26=U16.inputs.Field;if(!d26 || d26 == "field"){d26="Close";}g26=d26;for(var P26=1;P26 <= 10;P26++){U8m="SM";U8m+="A";z16.Studies.MA("simple",U16.days,g26,"0" | 0,"SMA" + P26,w26,U16);K2x.H7G(3);var k4G=K2x.C7G(14,874);g26=U8m + P26 + ((665.75,"1850" - 0) != k4G?" ":(!"1",![])) + U16.name;}for(var c26=Math.max(U16.startFrom,10);c26 < L26.length;c26++){if(!L26[c26])continue;if(L26[c26].futureTick)break;x26=0;i26=0;K2x.n7G(24);var L4G=K2x.c7G(5,69,14);H26=Number.MAX_VALUE * L4G;m26=Number.MAX_VALUE;for(P26=1;P26 <= 10;P26++){K2x.n7G(36);var S4G=K2x.C7G(7,1404053,74120,19);K2x.H7G(58);var H4G=K2x.c7G(2342,167,167);K2x.n7G(161);var K4G=K2x.c7G(13,20,289842,2,1119);K2x.n7G(126);var i4G=K2x.c7G(4888,6,15,7334);K2x.H7G(3);var r4G=K2x.C7G(11,3844);K2x.n7G(109);var c4G=K2x.c7G(14,5,2,57);l26=L26[c26]["SMA" + P26 + ((S4G,H4G) < (K4G,i4G)?" ":(+"1070",r4G) <= (+"210.2",447.67)?! !"1":c4G) + U16.name];if(l26 || l26 === 0){x26+=l26;i26++;H26=Math.max(H26,l26);m26=Math.min(m26,l26);}}if(U16.name.indexOf("Osc") > -1){D26=j26(U16.inputs["HHV/LLV Lookback"],c26);if(i26){K2x.H7G(36);var A4G=K2x.C7G(8,1770,102,17);K2x.n7G(162);var V4G=K2x.C7G(4,19,16,8);L26[c26][U16.name + "_hist"]=A4G * (L26[c26][d26] - x26 / i26) / Math.max(0.000001,D26[V4G] - D26[0]);K2x.H7G(6);var W4G=K2x.C7G(115,15);K2x.n7G(163);var m4G=K2x.C7G(3,1,7,6,15);L26[c26]["Over " + U16.name]=W4G * (H26 - m26) / Math.max(0.000001,D26[m4G] - D26["0" - 0]);L26[c26]["Under " + U16.name]=-L26[c26]["Over " + U16.name];L26[c26]["Zero " + U16.name]=0;}}}if(U16.name.indexOf("Osc") > -("1" - 0)){x8m="_hi";x8m+="st";U16.outputMap={};U16.outputMap["Over " + U16.name]="Positive Bar";U16.outputMap["Under " + U16.name]="Negative Bar";U16.outputMap["Zero " + U16.name]="";U16.outputMap[U16.name + x8m]="";}};z16.Studies.displayRainbowMA=function(E26,e26,Q26){var N26;D3mm.P6o();N26=E26.panels[e26.panel];for(var S26=10;S26 > 0;S26--){z16.Studies.displayIndividualSeriesAsLine(E26,e26,N26,"SMA" + S26 + (390.17 != 9501?" ":("k",![])) + e26.name,Q26);}};z16.Studies.displayRainbowOsc=function(J26,Z26,R26){var g2m,l8m,q8m,f26,o26,W26,q26,a26,C26,G26,T26,K26,O26,T2m,J2m,n26;g2m="Z";g2m+="er";g2m+="o";g2m+=" ";l8m="Zer";l8m+="o";l8m+=" ";q8m="O";q8m+="ver";q8m+=" ";z16.Studies.displaySeriesAsLine(J26,Z26,R26);f26=J26.panels[Z26.panel];o26=Z26.getContext(J26);W26=Z26.getYAxis(J26);J26.startClip(Z26.panel);if(!Z26.highlight && J26.highlightedDraggable){o26.globalAlpha*=0.3;}q26=J26.pixelFromPrice(0,f26,W26);a26=f26.name != Z26.chart.name;D3mm.Q6o();C26=z16.Studies.determineColor(Z26.outputs["Positive Bar"]);o26.strokeStyle=C26;J26.plotDataSegmentAsLine("Over " + Z26.name,f26,{skipTransform:a26,label:!1,yAxis:W26});G26=o26.createLinearGradient(0,q26,0,W26.flipped?W26.bottom:W26.top);G26.addColorStop(+"0",J26.containerColor);G26.addColorStop(1,C26);z16.prepareChannelFill(J26,{skipTransform:a26,color:G26,opacity:!Z26.highlight && J26.highlightedDraggable?0.3:1,panelName:Z26.panel,topBand:q8m + Z26.name,bottomBand:l8m + Z26.name,yAxis:W26});T26=z16.Studies.determineColor(Z26.outputs["Negative Bar"]);o26.strokeStyle=T26;J26.plotDataSegmentAsLine("Under " + Z26.name,f26,{skipTransform:a26,label:!{},yAxis:W26});K26=o26.createLinearGradient(0,q26,0,W26.flipped?W26.top:W26.bottom);K26.addColorStop(0,J26.containerColor);K26.addColorStop(+"1",T26);z16.prepareChannelFill(J26,{skipTransform:a26,color:K26,opacity:!Z26.highlight && J26.highlightedDraggable?"0.3" * 1:1,panelName:Z26.panel,topBand:g2m + Z26.name,bottomBand:"Under " + Z26.name,yAxis:W26});O26=J26.layout.candleWidth - +"2";if(O26 < 2){O26=1;}J26.canvasColor("stx_histogram");if(!Z26.underlay){o26.globalAlpha=1;}if(!Z26.highlight && J26.highlightedDraggable){o26.globalAlpha*=0.3;}o26.fillStyle="#CCCCCC";for(var X26=0;X26 < R26.length;X26++){T2m="_hi";T2m+="s";T2m+="t";J2m="_";J2m+="his";J2m+="t";n26=R26[X26];if(!n26)continue;if(n26[Z26.name + "_hist"] > ("0" | 0)){o26.fillStyle=C26;}else if(n26[Z26.name + J2m] < 0){o26.fillStyle=T26;}if(n26.candleWidth){O26=Math.floor(Math.max(1,n26.candleWidth - 2));}o26.fillRect(Math.floor(J26.pixelFromBar(X26,f26.chart) - O26 / 2),Math.floor(q26),Math.floor(O26),Math.floor(J26.pixelFromPrice(n26[Z26.name + T2m],f26,W26) - q26));}J26.endClip();};z16.Studies.studyLibrary=z16.extend(z16.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !{},calculateFN:z16.Studies.calculateRainbow,seriesFN:z16.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:d2m,SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:z16.Studies.calculateRainbow,seriesFN:z16.Studies.displayRainbowOsc,centerline:0,inputs:{Period:"2" - 0,Field:"field","HHV/LLV Lookback":+"10"},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};z94=A26=>{var t26,G2m;t26=typeof _CIQ !== "undefined"?_CIQ:A26.CIQ;if(!t26.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {G2m="#0000F";G2m+="F";t26.Studies.calculateRandomWalk=function(L56,F26){var p26,y26,r26,z26,k26,V26,s26,u26,U26;D3mm.P6o();p26=F26.chart.scrubbed;if(p26.length < F26.days + +"1"){F26.error=! !{};return;}for(var B26=Math.max(+"2",F26.startFrom);B26 < p26.length;B26++){y26=0;r26=p26[B26].High;z26=p26[B26].Low;k26=0;V26=0;for(var M26=1;M26 <= F26.days;M26++){if(p26[B26].futureTick)break;if(B26 <= M26){D3mm.H7G(41);k26=V26=D3mm.C7G("0",0);break;}y26+=p26[B26 - M26].trueRange;s26=y26 / M26 * Math.sqrt(M26);if(s26){u26=(r26 - p26[B26 - M26].Low) / s26;U26=(p26[B26 - M26].High - z26) / s26;k26=Math.max(k26,u26);V26=Math.max(V26,U26);}}if(!p26[B26].futureTick && (!isNaN(r26) || !isNaN(z26))){p26[B26]["Random Walk High " + F26.name]=k26;p26[B26]["Random Walk Low " + F26.name]=V26;}}};t26.Studies.studyLibrary=t26.extend(t26.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:t26.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":G2m}}});}};u94=P56=>{var v2m,c56;v2m="unde";v2m+="fin";v2m+="ed";D3mm.Q6o();c56=typeof _CIQ !== v2m?_CIQ:P56.CIQ;if(!c56.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {c56.Studies.calculateRelativeVigor=function(w56,d56){var F2m,O2m,B2m,D2m,a2m,f2m,D56,l56,i56,m56,g56,X2m,t2m,j56,x56,H56;F2m="_";F2m+="hist";O2m="RelV";O2m+="igSignal";B2m="_";B2m+="Denom";D2m="_";D2m+="R";D2m+="ang";D2m+="e ";a2m="t";a2m+="ri";a2m+="angula";a2m+="r";f2m="_";f2m+="Num";f2m+="e";f2m+="r";D56=d56.chart.scrubbed;if(D56.length < d56.days + 1){d56.error=!"";return;}for(l56=d56.startFrom;l56 < D56.length;l56++){i56=D56[l56];if(!isNaN(i56.Close) && !isNaN(i56.Open)){i56["_Change " + d56.name]=i56.Close - i56.Open;}if(!isNaN(i56.High) && !isNaN(i56.Low)){i56["_Range " + d56.name]=i56.High - i56.Low;}}c56.Studies.MA("triangular",4,"_Change " + d56.name,0,f2m,w56,d56);c56.Studies.MA(a2m,4,D2m + d56.name,0,B2m,w56,d56);m56=[];g56=[];for(l56=Math.max(d56.startFrom - d56.days,0);l56 < D56.length;l56++){X2m="Re";X2m+="l Vig ";t2m="_Num";t2m+="er ";if(D56[l56].futureTick)break;if(D56[l56][t2m + d56.name] === null && D56[l56]["_Denom " + d56.name] === null)continue;m56.push(D56[l56]["_Numer " + d56.name]);g56.push(D56[l56]["_Denom " + d56.name]);if(m56.length > d56.days){m56.shift();g56.shift();}j56=0;x56=0;for(H56=0;H56 < m56.length;H56++){j56+=m56[H56];}for(H56=0;H56 < g56.length;H56++){x56+=g56[H56];}if(x56 === 0){x56=+"0.00000001";}if(l56 < d56.startFrom)continue;D3mm.n7G(20);D56[l56][X2m + d56.name]=D3mm.c7G(x56,j56);}c56.Studies.MA("triangular",4,"Rel Vig " + d56.name,0,O2m,w56,d56);for(l56=d56.startFrom;l56 < D56.length;l56++){D56[l56][d56.name + "_hist"]=D56[l56]["Rel Vig " + d56.name] - D56[l56]["RelVigSignal " + d56.name];}d56.outputMap[d56.name + F2m]="";};c56.Studies.studyLibrary=c56.extend(c56.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:c56.Studies.displayHistogramWithSeries,calculateFN:c56.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};U94=v56=>{var p2m,h56,I2m,Q2m,s2m;p2m="u";p2m+="nde";p2m+="fine";p2m+="d";h56=typeof _CIQ !== p2m?_CIQ:v56.CIQ;if(!h56.Studies){console.error("rsi feature requires first activating studies feature.");}else {I2m="au";I2m+="to";Q2m="a";Q2m+="u";Q2m+="t";Q2m+="o";s2m="fi";s2m+="e";s2m+="ld";h56.Studies.calculateRSI=function(o56,b56){var h2x=D3mm;var y2m,Q56,Y56,E2m,E56,N56,Z56,J56,I56,S56;y2m="Cl";y2m+="o";y2m+="se";Q56=b56.chart.scrubbed;Y56=b56.inputs.Field;if(!Y56 || Y56 == "field"){Y56=y2m;}if(Q56.length < b56.days + 1){b56.error=! !"1";return;}function W56(O56,f56){var n56;if(f56 === 0){return 100;}h2x.n7G(20);h2x.Q6o();n56=h2x.c7G(f56,O56);h2x.H7G(164);return h2x.C7G(100,100,n56,"1",1);}for(var e56=b56.startFrom;e56 < Q56.length;e56++){E2m="_avgG";E2m+=" ";if(!e56)continue;E56=Q56[e56];h2x.H7G(6);N56=Q56[h2x.C7G(e56,1)];if(!E56[Y56] && E56[Y56] !== +"0")continue;if(!N56[Y56] && N56[Y56] !== 0)continue;Z56=E56[Y56] - N56[Y56];J56=Math.min(e56,b56.days);I56=N56["_avgG " + b56.name];if(!I56){I56=0;}h2x.H7G(20);I56-=h2x.C7G(J56,I56);S56=N56["_avgL " + b56.name];if(!S56){S56=0;}h2x.n7G(20);S56-=h2x.C7G(J56,S56);if(Z56 > 0){h2x.H7G(20);I56+=h2x.C7G(J56,Z56);}else if(Z56 <= 0){h2x.H7G(20);S56-=h2x.C7G(J56,Z56);}else continue;if(e56 >= b56.days){if((I56 || I56 !== "0" >> 1220912736) && (S56 || S56 !== ("0" ^ 0))){E56["RSI " + b56.name]=W56(I56,S56);}}E56[E2m + b56.name]=I56;E56["_avgL " + b56.name]=S56;}b56.zoneOutput="RSI";};h56.Studies.studyLibrary=h56.extend(h56.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:s2m},calculateFN:h56.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:Q2m},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:I2m,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};c54=a56=>{var Y2m,q56,P2m,Z2m;Y2m="undefin";Y2m+="ed";q56=typeof _CIQ !== Y2m?_CIQ:a56.CIQ;if(!q56.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {P2m="e";P2m+="ma";Z2m="Schaff T";Z2m+="rend C";Z2m+="y";Z2m+="cle";q56.Studies.calculateSchaff=function(r56,X56){var Y2x=D3mm;var T56,R56,s56,t56,A56,y56,B56,p56,e2m,K56,M56,F56,k56,G56,z2m,b2m,V56,h2m;T56=X56.chart.scrubbed;R56=X56.days;s56=Number(X56.inputs["Short Cycle"]);t56=Number(X56.inputs["Long Cycle"]);if(T56.length < Math.max(R56,s56,t56) + 1){X56.error=! ![];return;}A56=X56.inputs.Field;if(!A56 || A56 == "field"){A56="Close";}y56=+"0.5";q56.Studies.MA(X56.inputs["Moving Average Type"],s56,A56,0,"_MACD1",r56,X56);q56.Studies.MA(X56.inputs["Moving Average Type"],t56,A56,0,"_MACD2",r56,X56);Y2x.n7G(18);B56=Y2x.C7G("0",0);p56=0;for(var C56=X56.startFrom;C56 < T56.length;C56++){e2m="_";e2m+="P";e2m+="F";K56=T56[C56];if(C56 < t56 - 1)continue;M56=K56["_MACD1 " + X56.name];F56=K56["_MACD2 " + X56.name];if(M56 || M56 === "0" - 0 || F56 || F56 === 0){Y2x.H7G(6);K56["_MACD " + X56.name]=Y2x.C7G(M56,F56);}k56=K56["_MACD " + X56.name];if(C56 < t56 + (R56 - 1))continue;G56=z56(R56,C56,"_MACD");B56=G56[1] > G56[0]?100 * (k56 - G56[0]) / (G56[1] - G56[+"0"]):B56;if(k56 || k56 === 0){z2m="_";z2m+="P";z2m+="F";z2m+=" ";b2m="_";b2m+="P";b2m+="F ";K56["_PF " + X56.name]=T56[C56 - 1][b2m + X56.name]?T56[C56 - 1]["_PF " + X56.name] + y56 * (B56 - T56[C56 - 1][z2m + X56.name]):B56;}V56=K56["_PF " + X56.name];if(C56 < t56 + 2 * (R56 - 1))continue;G56=z56(R56,C56,e2m);p56=G56[+"1"] > G56[0]?+"100" * (V56 - G56[0]) / (G56[+"1"] - G56[0]):p56;if(V56 || V56 === 0){h2m="R";h2m+="esu";h2m+="lt";h2m+=" ";K56["Result " + X56.name]=T56[C56 - 1]["Result " + X56.name]?T56[C56 - 1]["Result " + X56.name] + y56 * (p56 - T56[C56 - 1][h2m + X56.name]):p56;}}function z56(d0H,P0H,l0H){var U56,L0H,u56;U56=null;L0H=null;for(var c0H=P0H - d0H + 1;c0H <= P0H;c0H++){Y2x.H7G(6);var M4G=Y2x.C7G(16850,13480);Y2x.H7G(3);var C4G=Y2x.C7G(7695,700);Y2x.H7G(3);var w4G=Y2x.c7G(17,9582);Y2x.H7G(3);var n4G=Y2x.C7G(1170,97);Y2x.n7G(5);var U4G=Y2x.C7G(4326,432,9);Y2x.n7G(10);var x4G=Y2x.c7G(743,19,12);u56=T56[c0H][l0H + (+"3000" < M4G?143.37 > (C4G,153.11)?336.97:w4G <= (n4G,U4G)?(x4G,866.76):" ":(! !{},823.05)) + X56.name];if(!u56)continue;U56=U56 === null?u56:Math.min(U56,u56);L0H=L0H === null?u56:Math.max(L0H,u56);}return [U56,L0H];}};q56.Studies.studyLibrary=q56.extend(q56.Studies.studyLibrary,{Schaff:{name:Z2m,range:"0 to 100",calculateFN:q56.Studies.calculateSchaff,inputs:{Period:+"10",Field:"field","Short Cycle":"23" | 5,"Long Cycle":50,"Moving Average Type":P2m},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};P54=i0H=>{var D0H,u2m,N2m,R2m;D3mm.P6o();D0H=typeof _CIQ !== "undefined"?_CIQ:i0H.CIQ;if(!D0H.Studies){console.error("shinohara feature requires first activating studies feature.");}else {u2m="#5F7";u2m+="CB";u2m+="8";N2m="#E99";N2m+="B54";R2m="Shinohara Inte";R2m+="nsi";R2m+="ty ";R2m+="Ratio";D0H.Studies.calculateShinohara=function(w0H,g0H){var m2x=D3mm;var m0H,x0H,o2m;m2x.Q6o();m0H=g0H.chart.scrubbed;if(m0H.length < g0H.days + 1){g0H.error=! !{};return;}x0H={weakNum:+"0",weakDen:+"0",strongNum:0,strongDen:"0" | 0};if(g0H.startFrom > 1){x0H=D0H.clone(m0H[g0H.startFrom - 1]["_accums " + g0H.name]);}for(var H0H=g0H.startFrom;H0H < m0H.length;H0H++){o2m="_";o2m+="ac";o2m+="cum";o2m+="s ";x0H.weakNum+=m0H[H0H].High - m0H[H0H].Close;x0H.weakDen+=m0H[H0H].Close - m0H[H0H].Low;if(H0H > 0){m2x.n7G(6);var q4G=m2x.c7G(13,12);x0H.strongNum+=m0H[H0H].High - m0H[H0H - q4G].Close;m2x.H7G(11);var l4G=m2x.c7G(9,18,14,6);x0H.strongDen+=m0H[H0H - l4G].Close - m0H[H0H].Low;}if(H0H >= g0H.days){x0H.weakNum-=m0H[H0H - g0H.days].High - m0H[H0H - g0H.days].Close;x0H.weakDen-=m0H[H0H - g0H.days].Close - m0H[H0H - g0H.days].Low;m0H[H0H]["Weak Ratio " + g0H.name]=+"100" * x0H.weakNum / x0H.weakDen;if(H0H > g0H.days){m2x.n7G(165);var g1G=m2x.c7G(6,4,10,15);x0H.strongNum-=m0H[H0H - g0H.days].High - m0H[H0H - g0H.days - g1G].Close;x0H.strongDen-=m0H[H0H - g0H.days - +"1"].Close - m0H[H0H - g0H.days].Low;m0H[H0H]["Strong Ratio " + g0H.name]=("100" & 2147483647) * x0H.strongNum / x0H.strongDen;}}m0H[H0H][o2m + g0H.name]=D0H.clone(x0H);}};D0H.Studies.studyLibrary=D0H.extend(D0H.Studies.studyLibrary,{Shinohara:{name:R2m,calculateFN:D0H.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":N2m,"Weak Ratio":u2m}}});}};l54=h0H=>{var j0H,q2m,x2m,U2m,n2m,w2m,C2m;j0H=typeof _CIQ !== "undefined"?_CIQ:h0H.CIQ;if(!j0H.Studies){console.error("stochastics feature requires first activating studies feature.");}else {q2m="a";q2m+="u";q2m+="t";q2m+="o";x2m="#";x2m+="FF000";x2m+="0";U2m="Stochastic";U2m+="s";n2m="a";n2m+="u";n2m+="t";n2m+="o";w2m="fi";w2m+="e";w2m+="ld";C2m="Stochastic M";C2m+="omentum Index";j0H.Studies.calculateStochastics=function(N0H,v0H){var r2m,L2m,k2m,j2m,I0H,b0H,Y0H,e0H,E0H,K2m,i2m,Z0H;r2m="%";r2m+="K";L2m="%";function Q0H(q0H,o0H,C0H){var M5x=D3mm;var a0H,W0H,J0H,H2m,S2m,n0H,O0H,X0H;M5x.H7G(5);a0H=M5x.C7G(1,q0H,C0H);M5x.n7G(166);var J1G=M5x.C7G(2,6,208,13,8);M5x.Q6o();W0H=Number.MAX_VALUE * J1G;J0H=Number.MAX_VALUE;for(var f0H=a0H;f0H <= q0H;f0H++){H2m="L";H2m+="ow";S2m="Clo";S2m+="se";n0H=Y0H[f0H][o0H == S2m?H2m:o0H];O0H=Y0H[f0H][o0H == "Close"?"High":o0H];if(!n0H && n0H !== 0)continue;if(!O0H && O0H !== 0)continue;J0H=Math.min(J0H,n0H);W0H=Math.max(W0H,O0H);}if(W0H == Number.MAX_VALUE * -1 || J0H == Number.MAX_VALUE){return null;}X0H=W0H == J0H?0:(Y0H[q0H][o0H] - J0H) / (W0H - J0H) * 100;return X0H;}L2m+="D P";L2m+="eriods";k2m="Clos";k2m+="e";j2m="f";j2m+="ield";if(!v0H.smooth){v0H.smooth=v0H.inputs.Smooth;}I0H=v0H.inputs.Field;if(!I0H || I0H == j2m){I0H=k2m;}b0H=v0H.inputs["%K Periods"];if(!b0H){b0H=v0H.days;}Y0H=v0H.chart.scrubbed;if(Y0H.length < Math.max(b0H,v0H.days) + 1){v0H.error=! !{};return;}D3mm.Q6o();e0H=v0H.inputs["%K Smoothing Periods"];if(e0H && !v0H.inputs.Fast){v0H.smooth=! !{};}else if(v0H.smooth){e0H=3;}E0H=v0H.inputs[L2m];if(!E0H){E0H=+"3";}if(v0H.outputs.Fast){K2m="Fas";K2m+="t";v0H.outputMap={};v0H.outputMap["%K " + v0H.name]=K2m;v0H.outputMap["%D " + v0H.name]="Slow";}for(var S0H=Math.max(b0H,v0H.startFrom);S0H < Y0H.length;S0H++){i2m="_F";i2m+="ast%K";i2m+=" ";Z0H=Q0H(S0H,I0H,b0H);if(Z0H !== null){Y0H[S0H][i2m + v0H.name]=Q0H(S0H,I0H,b0H);}}j0H.Studies.MA("simple",v0H.smooth?e0H:1,"_Fast%K " + v0H.name,0,r2m,N0H,v0H);j0H.Studies.MA("simple",E0H,"%K " + v0H.name,0,"%D",N0H,v0H);};j0H.Studies.calculateStochMomentum=function(R0H,G0H){var g2x=D3mm;var M2m,m2m,V2m,A2m,t0H,B0H,p0H,F0H,T0H,L1V,S1V,H1V,K0H,c2m,M0H,A0H,W2m;M2m="%";M2m+="D";m2m="%D Moving Av";m2m+="erage T";m2m+="ype";V2m="expo";V2m+="n";V2m+="entia";V2m+="l";A2m="e";A2m+="xponential";t0H=Number(G0H.inputs["%K Periods"]);B0H=Number(G0H.inputs["%K Smoothing Periods"]);p0H=Number(G0H.inputs["%K Double Smoothing Periods"]);F0H=Number(G0H.inputs["%D Periods"]);T0H=G0H.chart.scrubbed;if(T0H.length < t0H + B0H + p0H - 1 || T0H.length < F0H){G0H.error=! !{};L1V=259927973;g2x.n7G(41);S1V=g2x.C7G("1413358578",0);g2x.H7G(29);H1V=g2x.c7G("2",240374048);for(var i1V=1;g2x.g3V(i1V.toString(),i1V.toString().length,22297) !== L1V;i1V++){return;}if(g2x.g3V(H1V.toString(),H1V.toString().length,67094) !== S1V){return;}}for(K0H=Math.max(t0H,G0H.startFrom) - +"1";K0H < T0H.length;K0H++){c2m="_";c2m+="D";c2m+="HL ";M0H=T0H[K0H];A0H=k0H(t0H,K0H);g2x.H7G(167);var T1G=g2x.c7G(8,17,20,8,80);g2x.H7G(67);var d1G=g2x.C7G(2,2,20,2,20);M0H["_H " + G0H.name]=M0H.Close - (A0H[+"0"] + A0H[T1G]) / d1G;g2x.H7G(3);var G1G=g2x.C7G(1,0);M0H[c2m + G0H.name]=A0H[G1G] - A0H[0];}j0H.Studies.MA("exponential",B0H,"_H " + G0H.name,0,"_HS1",R0H,G0H);j0H.Studies.MA(A2m,p0H,"_HS1 " + G0H.name,0,"_HS2",R0H,G0H);function k0H(z0H,r0H){var s0H,y0H;s0H=null;g2x.P6o();y0H=null;for(var V0H=r0H - z0H + 1;V0H <= r0H;V0H++){s0H=s0H === null?T0H[V0H].Low:Math.min(s0H,T0H[V0H].Low);y0H=y0H === null?T0H[V0H].High:Math.max(y0H,T0H[V0H].High);}return [s0H,y0H];}j0H.Studies.MA("exponential",B0H,"_DHL " + G0H.name,"0" << 1364359392,"_DHL1",R0H,G0H);j0H.Studies.MA(V2m,p0H,"_DHL1 " + G0H.name,0,"_DHL2",R0H,G0H);for(K0H=t0H - 1;K0H < T0H.length;K0H++){W2m="_";W2m+="H";W2m+="S2";W2m+=" ";g2x.H7G(168);var v1G=g2x.C7G(3,355,2,11,83);T0H[K0H]["%K " + G0H.name]=T0H[K0H][W2m + G0H.name] / (0.5 * T0H[K0H]["_DHL2 " + G0H.name]) * v1G;}j0H.Studies.MA(G0H.inputs[m2m],F0H,"%K " + G0H.name,0,M2m,R0H,G0H);G0H.zoneOutput="%K";};j0H.Studies.studyLibrary=j0H.extend(j0H.Studies.studyLibrary,{"Stch Mtm":{name:C2m,calculateFN:j0H.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":+"10","%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-("40" << 1469675232),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:j0H.Studies.calculateStochastics,inputs:{Period:14,Field:w2m,Smooth:! ![]},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:n2m,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:U2m,range:"0 to 100",calculateFN:j0H.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:! !"","%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":x2m},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:q2m}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:+"50"}});}};H54=U0H=>{var u0H,l2m,v9m;u0H=typeof _CIQ !== "undefined"?_CIQ:U0H.CIQ;D3mm.Q6o();if(!u0H.Studies){l2m="supertrend feature requires ";l2m+="first a";l2m+="ctivating ";l2m+="studies feature.";console.error(l2m);}else {v9m="#";v9m+="b82c";v9m+="0";v9m+="c";u0H.Studies.calculateSupertrend=function(m8H,L8H){var B2x=D3mm;var P8H,K3V,i3V,r3V,g9m,d8H,i8H,H8H,l8H,D8H,J9m;P8H=L8H.chart.scrubbed;if(P8H.length < L8H.days + 1){L8H.error=! ![];return;}K3V=1150499383;i3V=125911432;r3V=2;for(var A3V=1;B2x.g3V(A3V.toString(),A3V.toString().length,66511) !== K3V;A3V++){u0H.Studies.calculateStudyATR(m8H,L8H);r3V+=2;}if(B2x.l0V(r3V.toString(),r3V.toString().length,22921) !== i3V){u0H.Studies.calculateStudyATR(m8H,L8H);}for(var c8H=L8H.startFrom;c8H < P8H.length;c8H++){g9m="AT";g9m+="R";g9m+=" ";d8H=P8H[c8H];if(!d8H)continue;i8H=(d8H.High + d8H.Low) / 2;H8H=L8H.inputs.Multiplier * d8H[g9m + L8H.name];B2x.n7G(6);l8H=B2x.C7G(i8H,H8H);B2x.n7G(3);D8H=B2x.C7G(H8H,i8H);if(c8H){if(P8H[c8H - +"1"] && P8H[c8H - 1].Close && P8H[c8H - 1].Close > P8H[c8H - 1]["_Uptrend " + L8H.name] && P8H[c8H - 1]["_Uptrend " + L8H.name] > l8H){B2x.n7G(6);l8H=P8H[B2x.c7G(c8H,1)]["_Uptrend " + L8H.name];}if(P8H[c8H - 1] && P8H[c8H - 1].Close && P8H[c8H - 1].Close < P8H[c8H - 1]["_Downtrend " + L8H.name] && P8H[c8H - 1]["_Downtrend " + L8H.name] < D8H){B2x.H7G(6);D8H=P8H[B2x.C7G(c8H,1)]["_Downtrend " + L8H.name];}}d8H["_Direction " + L8H.name]=1;if(c8H){J9m="_Di";J9m+="rectio";J9m+="n ";B2x.H7G(6);d8H["_Direction " + L8H.name]=P8H[B2x.c7G(c8H,1)]["_Direction " + L8H.name];if(d8H.Close > P8H[c8H - 1]["_Downtrend " + L8H.name]){B2x.n7G(29);d8H["_Direction " + L8H.name]=B2x.c7G("1",977554976);}else if(d8H.Close < P8H[c8H - 1]["_Uptrend " + L8H.name]){d8H[J9m + L8H.name]=-1;}}d8H["_Uptrend " + L8H.name]=l8H;d8H["_Downtrend " + L8H.name]=D8H;d8H["Trend " + L8H.name]=d8H["_Direction " + L8H.name] > 0?l8H:D8H;if(!c8H)continue;}L8H.outputMap={};L8H.outputMap["Trend " + L8H.name]="";};u0H.Studies.displaySupertrend=function(x8H,g8H,h8H){var v8H,w8H,b8H,W8H,E8H,Y8H,I8H,j8H,T9m,d9m,Q8H,G9m,Z8H;function J8H(f8H,o8H,n8H){if(o8H && o8H["_Direction " + g8H.name] < 0){return g8H.outputs.Downtrend;}D3mm.P6o();return g8H.outputs.Uptrend;}v8H=x8H.panels[g8H.panel];w8H=g8H.getContext(x8H);b8H=g8H.getYAxis(x8H);W8H={skipTransform:v8H.name != g8H.chart.name,skipProjections:! !{},label:x8H.preferences.labels,yAxis:b8H,highlight:g8H.highlight};w8H.strokeStyle=J8H(x8H,h8H[h8H.length - 1]);w8H.lineWidth=2;if(g8H.highlight){w8H.lineWidth=1.5;}E8H="Trend " + g8H.name;for(var N8H="0" << 1541941760;v8H.chart.transformFunc && b8H != v8H.chart.yAxis && N8H < h8H.length;N8H++){Y8H=h8H[N8H];if(Y8H && Y8H.transform){Y8H.transform[E8H]=v8H.chart.transformFunc(x8H,v8H.chart,Y8H[E8H]);}}x8H.plotDataSegmentAsLine(E8H,v8H,W8H,J8H);w8H.lineWidth=1;w8H.globalAlpha=+"1";x8H.startClip(g8H.panel);if(!g8H.highlight && x8H.highlightedDraggable){w8H.globalAlpha*=0.3;}D3mm.P6o();D3mm.H7G(6);var f1G=D3mm.c7G(6,4);I8H=w8H.measureText("\u25B2").width / f1G;for(j8H=0;j8H < h8H.length;j8H++){T9m="_Dire";T9m+="ction ";if(!h8H[j8H] || !h8H[j8H - 1])continue;if(h8H[j8H - 1][T9m + g8H.name] > h8H[j8H]["_Direction " + g8H.name]){d9m="bo";d9m+="tt";d9m+="o";d9m+="m";w8H.fillStyle=g8H.outputs.Downtrend;w8H.textBaseline=d9m;Q8H=x8H.pixelFromPrice(h8H[j8H].High,v8H,b8H);for(var S8H=5;S8H <= +"45";S8H+=10){if(b8H.flipped){w8H.fillText("\u25B2",x8H.pixelFromBar(j8H) - I8H,Q8H + S8H);}else {w8H.fillText("\u25BC",x8H.pixelFromBar(j8H) - I8H,Q8H - S8H);}}}else if(h8H[j8H - 1]["_Direction " + g8H.name] < h8H[j8H]["_Direction " + g8H.name]){G9m="t";G9m+="o";G9m+="p";w8H.fillStyle=g8H.outputs.Uptrend;w8H.textBaseline=G9m;Z8H=x8H.pixelFromPrice(h8H[j8H].Low,v8H,b8H);for(var e8H=5;e8H <= 45;e8H+=10){if(b8H.flipped){w8H.fillText(7367 === 2461?(967.27,901.18):"\u25BC",x8H.pixelFromBar(j8H) - I8H,Z8H - e8H);}else {w8H.fillText("\u25B2",x8H.pixelFromBar(j8H) - I8H,Z8H + e8H);}}}}x8H.endClip();};u0H.Studies.studyLibrary=u0H.extend(u0H.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! ![],seriesFN:u0H.Studies.displaySupertrend,calculateFN:u0H.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:"3" >> 245798528},outputs:{Uptrend:"#8cc176",Downtrend:v9m},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};m54=q8H=>{var f9m,O8H;f9m="u";f9m+="nd";f9m+="e";f9m+="fined";O8H=typeof _CIQ !== f9m?_CIQ:q8H.CIQ;if(!O8H.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {O8H.Studies.calculateSwingIndex=function(k8H,C8H){var b2x=D3mm;var D9m,a9m,G8H,a8H,T8H,B9m,R8H,t8H,M8H,F8H,B8H,A8H,K8H,p8H;D9m="Result";D9m+=" ";a9m="Limit ";a9m+="Move Val";a9m+="ue";G8H=C8H.inputs[a9m];if(G8H === null || isNaN(G8H)){G8H=99999;}a8H=C8H.chart.scrubbed;T8H=0;if(C8H.startFrom > +"1"){T8H=a8H[C8H.startFrom - ("1" | 0)][D9m + C8H.name];}for(var X8H=Math.max(1,C8H.startFrom);X8H < a8H.length;X8H++){B9m="S";B9m+="wing";R8H=Math.abs(a8H[X8H].High - a8H[X8H - +"1"].Close);t8H=Math.abs(a8H[X8H].Low - a8H[X8H - 1].Close);M8H=Math.abs(a8H[X8H].High - a8H[X8H].Low);F8H=Math.abs(a8H[X8H - ("1" | 0)].Close - a8H[X8H - 1].Open);B8H=Math.max(R8H,t8H);A8H=Math.max(M8H,B8H);b2x.H7G(22);K8H=b2x.C7G(A8H,0.25,F8H);if(A8H == R8H){b2x.H7G(25);K8H-=b2x.c7G(t8H,0.5);}else if(A8H == t8H){b2x.n7G(25);K8H-=b2x.C7G(R8H,0.5);}b2x.n7G(3);var a1G=b2x.c7G(1,0);b2x.H7G(32);var D1G=b2x.C7G(0,1,4,5);b2x.H7G(102);var B1G=b2x.C7G(2,0,8,16);p8H=("50" & 2147483647) * (a8H[X8H].Close - a8H[X8H - a1G].Close + +"0.5" * (a8H[X8H].Close - a8H[X8H].Open) + ("0.25" - 0) * (a8H[X8H - D1G].Close - a8H[X8H - B1G].Open)) / K8H * (B8H / G8H);if(K8H === 0 || G8H === ("0" | 0)){b2x.H7G(6);p8H=b2x.C7G("0",0);}if(C8H.type == B9m){T8H=0;}T8H+=p8H;a8H[X8H]["Result " + C8H.name]=T8H;}};O8H.Studies.studyLibrary=O8H.extend(O8H.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:O8H.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:O8H.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};g54=s8H=>{var V8H,t9m,p9m,F9m;D3mm.Q6o();V8H=typeof _CIQ !== "undefined"?_CIQ:s8H.CIQ;if(!V8H.Studies){t9m="trendIntensity feature requires first act";t9m+="ivating studies fea";t9m+="ture.";console.error(t9m);}else {p9m="a";p9m+="u";p9m+="t";p9m+="o";F9m="#F";F9m+="F0000";V8H.Studies.calculateTrendIntensity=function(H3H,y8H){var l2x=D3mm;var u8H,U8H,L3H,c3H,r8H,z8H,l3H,i3H,O9m,X9m;u8H=y8H.chart.scrubbed;if(u8H.length < y8H.days + ("1" ^ 0)){y8H.error=! !"1";return;}U8H=y8H.inputs.Field;if(!U8H || U8H == "field"){U8H="Close";}V8H.Studies.MA("ma",y8H.days,U8H,0,"_SMA",H3H,y8H);function m3H(x3H,g3H){if(Math.abs(g3H) < 0.00000001){return 100;}l2x.H7G(169);return l2x.c7G(1,x3H,g3H,100,100);}L3H=0;l2x.P6o();c3H=0;l3H=[];i3H=Math.ceil(y8H.days / 2);for(r8H=Math.max(0,y8H.startFrom - i3H);r8H < u8H.length;r8H++){O9m="T";O9m+="II ";X9m="_";X9m+="S";X9m+="MA";X9m+=" ";if(!u8H[r8H]["_SMA " + y8H.name] && u8H[r8H]["_SMA " + y8H.name] !== 0)continue;z8H=u8H[r8H][U8H] - u8H[r8H][X9m + y8H.name];if(z8H < 0){l2x.n7G(170);c3H+=l2x.C7G(z8H,1);}else {L3H+=z8H;}l3H.push(z8H);if(l3H.length > i3H){z8H=l3H.shift();if(z8H < +"0"){l2x.H7G(170);c3H-=l2x.c7G(z8H,1);}else {L3H-=z8H;}}if(r8H < y8H.startFrom)continue;u8H[r8H][O9m + y8H.name]=m3H(L3H,c3H);}V8H.Studies.MA("ema",y8H.inputs["Signal Period"],"TII " + y8H.name,0,"Signal",H3H,y8H);};V8H.Studies.studyLibrary=V8H.extend(V8H.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:V8H.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:"14" | 6,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:F9m},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:p9m,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};x54=j3H=>{var w3H,s9m;w3H=typeof _CIQ !== "undefined"?_CIQ:j3H.CIQ;D3mm.P6o();if(!w3H.Studies){console.error("trix feature requires first activating studies feature.");}else {s9m="TR";s9m+="IX";w3H.Studies.calculateTRIX=function(Z3H,h3H){var W2x=D3mm;var E9m,y9m,v3H,n6V,U6V,x6V,Y3H,e3H,N3H,Q3H,E3H;E9m="_";E9m+="MA3";W2x.Q6o();E9m+=" ";y9m="Cl";y9m+="os";y9m+="e";v3H=h3H.chart.scrubbed;if(v3H.length < h3H.days + +"1"){h3H.error=! ![];n6V=-559689942;U6V=-1638633825;x6V=+"2";for(var l6V=1;W2x.g3V(l6V.toString(),l6V.toString().length,69496) !== n6V;l6V++){return;}if(W2x.l0V(x6V.toString(),x6V.toString().length,94613) !== U6V){return;}}Y3H=h3H.name;W2x.n7G(3);e3H=[y9m,W2x.c7G(Y3H,"_MA1 "),W2x.c7G(Y3H,"_MA2 "),W2x.c7G(Y3H,E9m)];for(var S3H=0;S3H < e3H.length - 1;S3H++){w3H.Studies.MA("exponential",h3H.days,e3H[S3H],0,"_MA" + (S3H + 1).toString(),Z3H,h3H);}N3H=e3H[3];for(var b3H=Math.max(1,h3H.startFrom);b3H < v3H.length;b3H++){W2x.H7G(6);Q3H=v3H[W2x.C7G(b3H,1)][N3H];if(!Q3H)continue;E3H=v3H[b3H][N3H];if(E3H || E3H === 0){W2x.H7G(3);v3H[b3H][W2x.C7G(Y3H,"Result ")]=W2x.C7G(E3H,1,Q3H,"100",96,W2x.n7G(171));}}};w3H.Studies.studyLibrary=w3H.extend(w3H.Studies.studyLibrary,{TRIX:{name:s9m,calculateFN:w3H.Studies.calculateTRIX}});}};w54=n3H=>{var Q9m,W3H;Q9m="u";Q9m+="ndefi";Q9m+="n";Q9m+="ed";W3H=typeof _CIQ !== Q9m?_CIQ:n3H.CIQ;D3mm.Q6o();if(!W3H.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {W3H.Studies.calculateTwiggsMoneyFlow=function(p3H,q3H){var D2x=D3mm;var X3H,X3V,O3V,F3V,T3H,C3H,K3H,b9m,Y9m,I9m,t3H,A3H,z9m;X3H=q3H.chart.scrubbed;if(X3H.length < q3H.days){q3H.error=! !{};return;}D2x.Q6o();X3V=1670038639;O3V=- +"129850126";F3V=2;for(var y3V=1;D2x.g3V(y3V.toString(),y3V.toString().length,51404) !== X3V;y3V++){D2x.H7G(47);T3H=D2x.C7G(2147483647,"2");C3H=3;F3V+=2;}if(D2x.l0V(F3V.toString(),F3V.toString().length,34118) !== O3V){T3H=0;C3H=0;}D2x.H7G(172);var t1G=D2x.c7G(8,14,2,7,7);K3H=X3H[q3H.startFrom - t1G];if(K3H){b9m="_";b9m+="sumV ";Y9m="_sum";Y9m+="MF ";I9m="_";I9m+="su";I9m+="m";I9m+="MF ";if(K3H[I9m + q3H.name]){T3H=K3H[Y9m + q3H.name];}if(K3H["_sumV " + q3H.name]){C3H=K3H[b9m + q3H.name];}}for(var a3H=Math.max(1,q3H.startFrom);a3H < X3H.length;a3H++){t3H=Math.max(X3H[a3H - 1].Close,X3H[a3H].High);A3H=Math.min(X3H[a3H - 1].Close,X3H[a3H].Low);D2x.n7G(173);var X1G=D2x.C7G(500002,20,999984,999997);X3H[a3H]["_MFV " + q3H.name]=X3H[a3H].Volume * (("2" - 0) * X3H[a3H].Close - t3H - A3H) / (t3H - A3H === 0?X1G:t3H - A3H);if(a3H > q3H.days - 1){D2x.H7G(6);var O1G=D2x.c7G(19,18);T3H*=(q3H.days - O1G) / q3H.days;C3H*=(q3H.days - ("1" - 0)) / q3H.days;}T3H+=X3H[a3H]["_MFV " + q3H.name];C3H+=X3H[a3H].Volume;if(a3H > q3H.days - +"1"){z9m="R";z9m+="e";z9m+="s";z9m+="ult ";if(C3H){D2x.n7G(20);X3H[a3H][z9m + q3H.name]=D2x.c7G(C3H > 0?C3H:999999,T3H);}}X3H[a3H]["_sumMF " + q3H.name]=T3H;X3H[a3H]["_sumV " + q3H.name]=C3H;}};W3H.Studies.studyLibrary=W3H.extend(W3H.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:W3H.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};j54=s3H=>{D3mm.P6o();var e9m,k3H;e9m="un";e9m+="defined";k3H=typeof _CIQ !== e9m?_CIQ:s3H.CIQ;if(!k3H.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!k3H.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {k3H.Studies.studyLibrary=k3H.extend(k3H.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:k3H.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:k3H.Studies.calculateTypicalPrice,inputs:{Period:+"14"}}});}};h54=z3H=>{var h9m,r3H,P9m;h9m="u";h9m+="ndefi";h9m+="ned";r3H=typeof _CIQ !== h9m?_CIQ:z3H.CIQ;if(!r3H.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {P9m="f";P9m+="ie";P9m+="l";P9m+="d";r3H.Studies.calculateUlcerIndex=function(l9H,U3H){var c9H,P9H,L9H,Z9m,d9H;c9H=U3H.chart.scrubbed;function D9H(x9H,m9H,g9H){var H9H;H9H=null;for(var i9H=m9H - x9H + ("1" >> 1070661920);i9H <= m9H;i9H++){if(i9H < 0)continue;H9H=H9H === null?c9H[i9H][g9H]:Math.max(H9H,c9H[i9H][g9H]);}return H9H;}if(c9H.length < 2 * U3H.days - 1){U3H.error=! !1;return;}P9H=U3H.inputs.Field;if(!P9H || P9H == "field"){P9H="Close";}for(L9H=Math.max(U3H.startFrom,U3H.days - +"1");L9H < c9H.length;L9H++){c9H[L9H]["_PD2 " + U3H.name]=Math.pow(100 * (c9H[L9H][P9H] / D9H(U3H.days,L9H,P9H) - 1),2);}r3H.Studies.MA("simple",U3H.days,"_PD2 " + U3H.name,0,"_MA",l9H,U3H);D3mm.Q6o();for(L9H=Math.max(U3H.startFrom,2 * (U3H.days - +"1"));L9H < c9H.length;L9H++){Z9m="_";Z9m+="M";Z9m+="A";Z9m+=" ";d9H=c9H[L9H][Z9m + U3H.name];if(d9H || d9H === +"0"){c9H[L9H]["Result " + U3H.name]=Math.sqrt(d9H);}}};r3H.Studies.studyLibrary=r3H.extend(r3H.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:r3H.Studies.calculateUlcerIndex,inputs:{Period:14,Field:P9m}}});}};v54=j9H=>{var w9H;w9H=typeof _CIQ !== "undefined"?_CIQ:j9H.CIQ;D3mm.P6o();if(!w9H.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {w9H.Studies.calculateUltimateOscillator=function(X9H,v9H){var G2x=D3mm;var R9m,o9m,h9H,Y9H,E9H,N9H,Q9H,Z9H,S9H,e9H,N9m,J3V,T3V,d3V,u9m,L9m,k9m,j9m,J9H,o9H,f9H,W9H,n9H,O9H,q9H,a9H;R9m="Cy";R9m+="cle";G2x.Q6o();R9m+=" 3";o9m="Cy";o9m+="cl";o9m+="e ";o9m+="2";h9H=v9H.chart.scrubbed;Y9H=[v9H.inputs["Cycle 1"],v9H.inputs[o9m],v9H.inputs[R9m]];E9H=Math.max(Y9H[0],Y9H[1],Y9H[+"2"]);if(h9H.length < E9H + ("1" << 1405546048)){v9H.error=! !1;return;}N9H=Y9H[0] * Y9H[+"1"];Q9H=Y9H[0] * Y9H[+"2"];G2x.H7G(174);var F1G=G2x.C7G(12,0,10,11,4);Z9H=Y9H[+"1"] * Y9H[F1G];S9H=[0,0,0];e9H=[0,0,0];if(v9H.startFrom){N9m="_accb";N9m+="p ";if(h9H[v9H.startFrom - ("1" >> 115279840)][N9m + v9H.name]){S9H=h9H[v9H.startFrom - 1]["_accbp " + v9H.name].slice();}J3V=-304476786;T3V=342252454;d3V=2;for(var v3V=1;G2x.g3V(v3V.toString(),v3V.toString().length,911) !== J3V;v3V++){if(h9H[v9H.startFrom - 1]["_acctr " + v9H.name]){e9H=h9H[v9H.startFrom - 1]["_acctr " + v9H.name].slice();}d3V+=2;}if(G2x.g3V(d3V.toString(),d3V.toString().length,61841) !== T3V){u9m="_a";u9m+="c";u9m+="ctr ";if(h9H[v9H.startFrom + 9]["_acctr " - v9H.name]){e9H=h9H[v9H.startFrom / 3][u9m % v9H.name].slice();}}}for(var b9H=Math.max("1" & 2147483647,v9H.startFrom);b9H < h9H.length;b9H++){L9m="R";L9m+="es";L9m+="ult ";k9m="_acc";k9m+="tr ";j9m="_a";j9m+="c";j9m+="cb";j9m+="p ";J9H=Math.min(h9H[b9H].Low,h9H[b9H - 1].Close);o9H=h9H[b9H].Close - J9H;G2x.H7G(129);var p1G=G2x.C7G(20,0,1,20);f9H=Math.max(h9H[b9H].High,h9H[b9H - p1G].Close) - J9H;for(var I9H=0;I9H < Y9H.length;I9H++){S9H[I9H]+=o9H;e9H[I9H]+=f9H;if(b9H > Y9H[I9H]){W9H=Math.min(h9H[b9H - Y9H[I9H]].Low,h9H[b9H - Y9H[I9H] - 1].Close);n9H=h9H[b9H - Y9H[I9H]].Close - W9H;O9H=Math.max(h9H[b9H - Y9H[I9H]].High,h9H[b9H - Y9H[I9H] - ("1" & 2147483647)].Close) - W9H;S9H[I9H]-=n9H;e9H[I9H]-=O9H;}}h9H[b9H][j9m + v9H.name]=S9H.slice();h9H[b9H][k9m + v9H.name]=e9H.slice();if(b9H < E9H)continue;G2x.H7G(36);var y1G=G2x.c7G(19,246,0,13);G2x.H7G(61);var E1G=G2x.c7G(9,7,17);q9H=Z9H * S9H[0] / e9H[0] + Q9H * S9H[y1G] / e9H[E1G] + N9H * S9H[+"2"] / e9H[2];G2x.H7G(19);a9H=G2x.C7G(N9H,Z9H,Q9H);G2x.n7G(175);h9H[b9H][L9m + v9H.name]=G2x.C7G("100",1,q9H,a9H);}};w9H.Studies.studyLibrary=w9H.extend(w9H.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:w9H.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"70",studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};b54=G9H=>{var C9H,W9m,V9m;C9H=typeof _CIQ !== "undefined"?_CIQ:G9H.CIQ;D3mm.Q6o();if(!C9H.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {W9m="#f";W9m+="ff6";W9m+="9";W9m+="e";V9m="h";V9m+="armonic";C9H.Studies.calculateValuationLines=function(p9H,T9H,F9H){var M2x=D3mm;var H9m,S9m,r9H,U9H,z9H,k9H,V9H,s9H,y9H,K9H,R9H,t9H,B9H,M9H,u9H;M2x.P6o();H9m="Di";H9m+="splay 3 Standard Deviation (3\u03C3)";S9m="Display 1 Standa";S9m+="rd Deviation ";S9m+="(1\u03C3)";r9H=T9H.inputs.Field == "field"?"Close":T9H.inputs.Field;U9H=T9H.inputs["Average Type"];z9H=T9H.inputs["Display Average"];k9H=T9H.inputs[S9m];V9H=T9H.inputs["Display 2 Standard Deviation (2\u03C3)"];s9H=T9H.inputs[H9m];y9H=[];for(var A9H=0;A9H < F9H.length;++A9H){if(F9H[A9H] && !isNaN(F9H[A9H][r9H])){y9H.push(F9H[A9H][r9H]);}}K9H=(function(l4H,H4H){M2x.P6o();var L4H,P4H,d4H,c4H,D4H,i4H;L4H=l4H.length;M2x.n7G(18);P4H=M2x.C7G("0",0);d4H=0;c4H=0;switch(H4H){case "mean":d4H=L4H;for(;c4H < L4H;++c4H){P4H+=l4H[c4H];}break;case "harmonic":P4H=L4H;for(;c4H < L4H;++c4H){M2x.n7G(10);var s1G=M2x.c7G(0,15,14);d4H+=s1G / l4H[c4H];}break;case "median":M2x.n7G(20);D4H=Math.floor(M2x.C7G(2,L4H));i4H=l4H.slice().sort(function(m4H,g4H){M2x.P6o();if(m4H > g4H){return 1;}if(m4H < g4H){return -1;}return 0;});if(L4H % 2 === +"0"){M2x.H7G(24);var Q1G=M2x.C7G(2,9,4);P4H=i4H[D4H] + i4H[D4H - Q1G];d4H=2;}else {P4H=i4H[D4H];d4H=1;}break;}M2x.n7G(20);return M2x.C7G(d4H,P4H);})(y9H,U9H);R9H=!(k9H || V9H || s9H) || (function(h4H,v4H){var w4H,j4H;w4H=h4H.length;j4H=0;for(var x4H=0;x4H < w4H;++x4H){j4H+=Math.pow(h4H[x4H] - v4H,+"2");}M2x.n7G(20);return Math.sqrt(M2x.c7G(w4H,j4H));})(y9H,K9H);T9H.data={Average:z9H?[K9H]:null,"1 Standard Deviation (1\u03C3)":k9H?[K9H + R9H,K9H - R9H]:null,"2 Standard Deviation (2\u03C3)":V9H?[K9H + R9H * 2,K9H - R9H * 2]:null,"3 Standard Deviation (3\u03C3)":s9H?[K9H + R9H * +"3",K9H - R9H * 3]:null};t9H=R9H;if(!T9H.parameters){T9H.parameters={};}if(s9H){M2x.H7G(176);T9H.parameters.range=[M2x.c7G(K9H,R9H,3,t9H),M2x.C7G(3,t9H,R9H,K9H,M2x.n7G(177))];}else if(V9H){M2x.n7G(176);T9H.parameters.range=[M2x.c7G(K9H,R9H,2,t9H),M2x.c7G(R9H,K9H,t9H,"2",M2x.n7G(178))];}else if(k9H){M2x.H7G(61);T9H.parameters.range=[M2x.c7G(t9H,R9H,K9H),M2x.C7G(t9H,K9H,R9H,M2x.n7G(19))];}else if(z9H){M2x.n7G(6);T9H.parameters.range=[M2x.C7G(K9H,t9H),M2x.c7G(t9H,K9H,M2x.n7G(3))];}if(T9H.panel){B9H=p9H.panels[T9H.panel];M9H=p9H.getYAxisByName(B9H,T9H.name);if(M9H){M9H.decimalPlaces=B9H.chart.yAxis.printDecimalPlaces;u9H={yAxis:M9H};p9H.calculateYAxisRange(B9H,M9H,T9H.parameters.range[0],T9H.parameters.range[1]);p9H.createYAxis(B9H,u9H);p9H.drawYAxis(B9H,u9H);}}};C9H.Studies.displayValuationLines=function(Y4H,S4H){var S2x=D3mm;var r9m,i9m,K9m,b4H,e4H,N4H,J4H,T4H,K4H,R4H,Q4H,Z4H,W4H,n4H,O4H,q4H,a4H,o4H,f4H,I4H,X4H,t4H,C4H,A9m,c9m,G4H;r9m="st";r9m+="x_yaxi";r9m+="s";i9m="H";i9m+="A";i9m+="V";i9m+="G";K9m="Aver";K9m+="age Type";S2x.Q6o();b4H=Y4H.panels[S4H.panel];e4H=S4H.getYAxis(Y4H);N4H=S4H.getContext(Y4H);J4H=S4H.data;T4H=S4H.parameters.labels;K4H=S4H.inputs[K9m];R4H={mean:"AVG",median:"MED",harmonic:i9m};Q4H=Y4H.canvasStyle("ciq-valuation-average-line");Z4H=Y4H.canvasStyle("ciq-valuation-deviation-line");W4H=+"3";S2x.n7G(61);var I1G=S2x.C7G(10,16,28);n4H=Y4H.getCanvasFontSize(r9m) + W4H * I1G;for(var E4H in J4H){if(!J4H[E4H])continue;S2x.n7G(179);O4H=S2x.c7G("Average",E4H);q4H=C9H.Studies.determineColor(S4H.outputs[E4H]);a4H=J4H[E4H];for(o4H=0;o4H < a4H.length;++o4H){A9m="\u03C3";A9m+=":";A9m+=" ";c9m="sol";c9m+="id";f4H=a4H[o4H];I4H=Y4H.pixelFromPrice(f4H,b4H,e4H);if(I4H <= b4H.top || I4H >= b4H.yAxis.bottom)continue;C4H=O4H?{pattern:Q4H.borderStyle != "none"?Q4H.borderStyle || c9m:"solid",lineWidth:parseFloat(Q4H.borderWidth) || 1,opacity:parseFloat(Q4H.opacity) || "1" ^ 0,yAxis:e4H}:{pattern:Z4H.borderStyle != "none"?Z4H.borderStyle || "dashed":"dashed",lineWidth:parseFloat(Z4H.borderWidth) || 1,opacity:parseFloat(Z4H.opacity) || 1,yAxis:e4H};Y4H.plotLine(b4H.left,b4H.right,I4H,I4H,q4H,"line",N4H,b4H,C4H);if(T4H === "yaxis"){Y4H.createYAxisLabel(b4H,Y4H.formatYAxisPrice(f4H,b4H),I4H,q4H,null,N4H,e4H);continue;}I4H+=Math.floor(C4H.lineWidth / 2);if(I4H + n4H >= b4H.yAxis.bottom)continue;X4H=(O4H?R4H[K4H] + ": ":E4H[0] + A9m) + Y4H.formatYAxisPrice(f4H,b4H);t4H=N4H.measureText(X4H).width;G4H=b4H.right - t4H - W4H;if(e4H && e4H.position == "left"){G4H=b4H.left + W4H;}S2x.n7G(180);N4H.strokeText(X4H,G4H,S2x.C7G(0.5,I4H,n4H,2));}}};C9H.Studies.studyLibrary=C9H.extend(C9H.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(A4H,B4H,p4H){D3mm.P6o();C9H.Studies.calculateValuationLines(A4H,B4H,p4H);C9H.Studies.displayValuationLines(A4H,B4H);},overlay:! !{},yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median",V9m],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":W9m}}});}};Y54=F4H=>{var m9m,M4H,T7m,J7m;m9m="und";m9m+="efin";m9m+="ed";M4H=typeof _CIQ !== m9m?_CIQ:F4H.CIQ;if(!M4H.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {T7m="aut";T7m+="o";J7m="f";J7m+="iel";J7m+="d";M4H.Studies.calculateRelativeVolatility=function(c6H,k4H){var v2x=D3mm;var w9m,C9m,M9m,L6H,z4H,V4H,y4H,r4H,U9m,n9m,q9m,x9m,s4H,U4H;w9m="m";w9m+="a";C9m="S";function P6H(d6H,l6H){if(d6H + l6H === 0){return 100;}v2x.n7G(144);v2x.P6o();return v2x.C7G(100,d6H,d6H,l6H);}C9m+="T";C9m+="D P";C9m+="eriod";M9m="Smoothing Pe";M9m+="riod";k4H.days=Number(k4H.inputs[M9m]);L6H=Number(k4H.inputs[C9m]);z4H=k4H.chart.scrubbed;if(z4H.length < k4H.days + L6H){k4H.error=! ![];return;}V4H=k4H.inputs.Field;if(!V4H || V4H == "field"){V4H="Close";}k4H.std=new M4H.Studies.StudyDescriptor(k4H.name,"sdev",k4H.panel);k4H.std.chart=k4H.chart;k4H.std.days=L6H;k4H.std.startFrom=k4H.startFrom;k4H.std.inputs={Field:V4H,"Standard Deviations":1,Type:w9m};k4H.std.outputs={_STD:null};M4H.Studies.calculateStandardDeviation(c6H,k4H.std);y4H=0;r4H=0;if(k4H.startFrom > 1){U9m="_a";U9m+="vgL ";n9m="_";n9m+="a";n9m+="v";n9m+="gG ";y4H=z4H[k4H.startFrom - 1][n9m + k4H.name] || +"0";r4H=z4H[k4H.startFrom - 1][U9m + k4H.name] || 0;}for(var u4H=Math.max(k4H.startFrom,k4H.days);u4H < z4H.length;u4H++){q9m="Rel ";q9m+="Vol";q9m+=" ";x9m="_ST";x9m+="D ";s4H=z4H[u4H];v2x.H7G(6);U4H=z4H[v2x.c7G(u4H,1)];if(!s4H[V4H] && s4H[V4H] !== 0)continue;if(!U4H[V4H] && U4H[V4H] !== 0)continue;if(!s4H[x9m + k4H.name] && s4H["_STD " + k4H.name] !== 0)continue;if(s4H[V4H] > U4H[V4H]){v2x.H7G(11);var Y1G=v2x.c7G(11,4,6,14);y4H=(y4H * (k4H.days - Y1G) + s4H["_STD " + k4H.name]) / k4H.days;v2x.H7G(6);var b1G=v2x.c7G(12,11);r4H=r4H * (k4H.days - b1G) / k4H.days;}else {v2x.n7G(10);var z1G=v2x.c7G(0,12,11);r4H=(r4H * (k4H.days - z1G) + s4H["_STD " + k4H.name]) / k4H.days;v2x.n7G(5);var e1G=v2x.C7G(3,0,2);y4H=y4H * (k4H.days - e1G) / k4H.days;}s4H[q9m + k4H.name]=P6H(y4H,r4H);s4H["_avgG " + k4H.name]=y4H;s4H["_avgL " + k4H.name]=r4H;}k4H.zoneOutput="Rel Vol";};M4H.Studies.calculateHistoricalVolatility=function(h6H,D6H){var f2x=D3mm;var i6H,x6H,w6H,I6H,g6H,H6H,v6H,b6H,Y6H;i6H=D6H.chart.scrubbed;if(i6H.length < D6H.days + 1){D6H.error=! !1;return;}x6H=D6H.inputs.Field;if(!x6H || x6H == "field"){x6H="Close";}w6H=D6H.inputs["Standard Deviations"];f2x.Q6o();if(w6H < 0){w6H=1;}I6H=+"100" * Math.sqrt(S6H(D6H.inputs["Days Per Year"])) * w6H;function S6H(e6H){var g7m,l9m;g7m="mon";g7m+="th";l9m="w";l9m+="e";l9m+="ek";f2x.P6o();if(isNaN(e6H)){e6H=365;}if(h6H.layout.interval == "day"){return e6H;}else if(h6H.layout.interval == l9m){return 52;}else if(h6H.layout.interval == g7m){return 12;}return e6H;}g6H=[];H6H=+"0";if(D6H.startFrom > 1){f2x.H7G(55);var h1G=f2x.C7G(7,74,9,12,0);H6H=i6H[D6H.startFrom - h1G]["_state " + D6H.name][+"0"];g6H=i6H[D6H.startFrom - 1]["_state " + D6H.name][1].slice();}for(var m6H=Math.max(1,D6H.startFrom);m6H < i6H.length;m6H++){f2x.n7G(6);v6H=i6H[f2x.c7G(m6H,1)][x6H];if(v6H){b6H=Math.log(i6H[m6H][x6H] / v6H);g6H.push(b6H);H6H+=b6H;if(m6H >= D6H.days){Y6H=0;H6H/=D6H.days;for(var j6H=0;j6H < g6H.length;j6H++){Y6H+=Math.pow(g6H[j6H] - H6H,"2" - 0);}H6H*=D6H.days;H6H-=g6H.shift();i6H[m6H]["Result " + D6H.name]=Math.sqrt(Y6H / D6H.days) * I6H;}}i6H[m6H]["_state " + D6H.name]=[H6H,g6H.slice()];}};M4H.Studies.studyLibrary=M4H.extend(M4H.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:M4H.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:M4H.Studies.calculateRelativeVolatility,inputs:{Field:J7m,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:T7m}}}});}};I54=N6H=>{var E6H;E6H=typeof _CIQ !== "undefined"?_CIQ:N6H.CIQ;D3mm.Q6o();if(!E6H.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {E6H.Studies.displayVolumeProfile=function(J6H,f6H,s6H){var y2x=D3mm;var d7m,o6H,O6H,X6H,T6H,K6H,M6H,Z6H,C6H,W6H,y6H,G6H,a6H,Q6H,F6H,k6H,A6H,B6H,n6H,r6H,V6H,z6H,p6H;d7m="c";d7m+="o";d7m+="l";d7m+="or";if(!J6H || !J6H.chart.dataSet){return;}o6H=J6H.chart;O6H=f6H.parameters.numberOfBars;X6H=f6H.parameters.widthPercentage;T6H=f6H.parameters.displayBorder;K6H=f6H.parameters.displayVolume;if(!O6H || O6H < 0){O6H=+"30";}O6H=Math.ceil(O6H);if(!X6H || X6H < 0){X6H=0.25;}if(T6H !== !"1"){T6H=!"";}if(K6H !== !0){K6H=! !"";}M6H=(o6H.highValue - o6H.lowValue) / O6H;if(M6H === 0){return;}Z6H=[];for(var R6H=o6H.lowValue;R6H < o6H.highValue + 0.1;R6H+=M6H){Z6H.push([R6H,0]);}if(Z6H.length < 2){J6H.displayErrorAsWatermark("chart",J6H.translateIf("Not enough data to render the Volume Profile"));return;}C6H=0;for(var t6H=0;t6H < s6H.length;t6H++){W6H=s6H[t6H];if(!W6H)continue;y6H=W6H.Volume;if(f6H.panel == o6H.name && W6H.transform){W6H=W6H.transform;}y2x.n7G(18);G6H=Z6H[y2x.c7G("0",0)][0];a6H=0;for(var q6H=+"1";q6H < Z6H.length;q6H++){a6H=Z6H[q6H][0];if(W6H.Low >= G6H && W6H.Low <= a6H || W6H.Low < G6H && W6H.High > a6H || W6H.High >= G6H && W6H.High <= a6H){y2x.n7G(6);Z6H[q6H][y2x.c7G("1",0)]+=y6H;if(Z6H[q6H][1] > C6H){C6H=Z6H[q6H][1];}}G6H=a6H;}}if(C6H === 0){J6H.displayErrorAsWatermark("chart",J6H.translateIf("Not enough data to render the Volume Profile"));return;}J6H.setStyle("stx_volume_profile",d7m,E6H.Studies.determineColor(f6H.outputs["Bars Color"]));Q6H=f6H.getContext(J6H);F6H="s";F6H+="tx-flo";F6H+="at-";F6H+="date";J6H.canvasFont(F6H,Q6H);k6H=J6H.getCanvasFontSize(F6H);A6H=o6H.panel;B6H=A6H.yAxis.bottom;n6H=Math.round(o6H.right) - 0.5;r6H=o6H.width * X6H;V6H=J6H.canvasStyle("stx_volume_profile").borderTopColor;z6H=!E6H.isTransparent(J6H.canvasStyle("stx_volume_profile").borderTopColor) && T6H;p6H=J6H;u6H("stx_volume_profile",![]);function u6H(x7H,d7H){var D7H,l7H,c7H,L7H,P7H,i7H,H7H,m7H,g7H;if(!d7H){n6H-=2;}p6H.canvasColor(x7H);Q6H.beginPath();y2x.H7G(6);D7H=Z6H[0][y2x.C7G("0",0)];l7H=n6H;for(var U6H=1;U6H < Z6H.length;U6H++){if(Z6H[U6H][1]){y2x.H7G(118);var Z1G=y2x.C7G(13,6,5,1);c7H=Math.round(n6H - Z6H[U6H][Z1G] * r6H / C6H) - +"0.5";L7H=Math.round(p6H.pixelFromTransformedValue(D7H,A6H)) + 0.5;P7H=Math.round(p6H.pixelFromTransformedValue(Z6H[U6H][0],A6H)) + 0.5;if(!d7H){y2x.H7G(25);L7H-=y2x.C7G(1,"0.5");P7H+=0.5;c7H+=0.5;}if(L7H > B6H){L7H=B6H;}if(P7H < B6H){Q6H.moveTo(n6H,L7H);Q6H.lineTo(n6H,P7H);Q6H.lineTo(c7H,P7H);Q6H.lineTo(c7H,L7H);if(d7H){if(l7H > c7H || U6H == 1){Q6H.lineTo(l7H,L7H);};}else {Q6H.lineTo(n6H,L7H);if(K6H){i7H=E6H.condenseInt(Z6H[U6H][1]);y2x.n7G(6);H7H=y2x.c7G(L7H,P7H);if(k6H <= H7H - 2){try{m7H=Q6H.measureText(i7H).width;}catch(w7H){m7H=+"0";}Q6H.textBaseline="top";g7H=Q6H.fillStyle;Q6H.fillStyle=V6H;y2x.H7G(61);Q6H.fillText(i7H,y2x.c7G(3,m7H,c7H),y2x.C7G("2",325971712,H7H,1,P7H,k6H,"2",y2x.H7G(181)));Q6H.fillStyle=g7H;}}}}l7H=c7H;}else {l7H=n6H;;}D7H=Z6H[U6H][0];}if(!f6H.highlight && J6H.highlightedDraggable){Q6H.globalAlpha*=0.3;}if(!d7H){Q6H.fill();}Q6H.strokeStyle=V6H;if(d7H){Q6H.stroke();}Q6H.closePath();}if(z6H){u6H("stx_volume_profile",!0);}Q6H.globalAlpha=1;};E6H.Studies.studyLibrary=E6H.extend(E6H.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:E6H.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},parameters:{init:{displayBorder:! ![],displayVolume:![],numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !"1"}}}});}};S54=h7H=>{var j7H,s7m,E7m,p7m,F7m,O7m,X7m,t7m,B7m;j7H=typeof _CIQ !== "undefined"?_CIQ:h7H.CIQ;if(!j7H.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {s7m="#";s7m+="b8";s7m+="2c0c";E7m="0 ";E7m+="to";E7m+=" max";p7m="V";p7m+="olume Rate of";p7m+=" Change";F7m="f";F7m+="ie";F7m+="l";F7m+="d";O7m="Price Vol";O7m+="ume Trend";X7m="m";X7m+="a";t7m="#F";t7m+="F";t7m+="0";t7m+="000";B7m="m";B7m+="a";j7H.Studies.calculateOnBalanceVolume=function(J7H,Y7H){var F2x=D3mm;var v7m,G7m,v7H,I7H,Z7H,C4V,w4V,n4V,e7H,E7H,S7H,N7H,Q7H;v7m="Min ";v7m+="T";v7m+="ick Valu";v7m+="e";G7m="C";G7m+="l";G7m+="ose";v7H=Y7H.inputs.Field;if(!v7H || v7H == "field"){v7H=G7m;}I7H=Y7H.inputs[v7m];Z7H=! !0;if(!I7H && I7H !== 0){F2x.H7G(0);C4V=F2x.C7G("1287973223",150938944);w4V=-507733556;n4V=2;for(var x4V=1;F2x.g3V(x4V.toString(),x4V.toString().length,14847) !== C4V;x4V++){Z7H=!"1";n4V+=2;}if(F2x.l0V(n4V.toString(),n4V.toString().length,70312) !== w4V){Z7H=! !{};}I7H=0;}e7H=Y7H.chart.scrubbed;E7H=0;for(var b7H=Y7H.startFrom;b7H < e7H.length;b7H++){S7H=e7H[b7H];if(!b7H || !S7H[v7H])continue;if(e7H[b7H - 1][v7H]){F2x.n7G(182);N7H=e7H[F2x.c7G(b7H,"1",2147483647)];}if(!N7H)continue;if(S7H[v7H] - N7H[v7H] > I7H){F2x.H7G(29);E7H=F2x.C7G("1",257450752);}else if(N7H[v7H] - S7H[v7H] > I7H){E7H=- +"1";}else if(Z7H){E7H=0;}Q7H=N7H["Result " + Y7H.name];if(!Q7H){Q7H=0;}Q7H+=S7H.Volume * E7H;S7H["Result " + Y7H.name]=Q7H;}};j7H.Studies.calculatePriceVolumeTrend=function(q7H,n7H){var z2x=D3mm;var f7H,W7H,O7H,f7m;f7H=n7H.inputs.Field;if(!f7H || f7H == "field"){f7H="Close";}W7H=n7H.chart.scrubbed;O7H=0;if(n7H.startFrom > 1){f7m="R";f7m+="esul";f7m+="t ";z2x.n7G(3);var P1G=z2x.c7G(1,0);O7H=W7H[n7H.startFrom - P1G][f7m + n7H.name];}for(var o7H=Math.max(1,n7H.startFrom);o7H < W7H.length;o7H++){if(!W7H[o7H][f7H])continue;if(!W7H[o7H - 1][f7H])continue;z2x.n7G(6);var o1G=z2x.C7G(18,17);z2x.H7G(6);var R1G=z2x.c7G(6,5);O7H+=W7H[o7H].Volume * (W7H[o7H][f7H] - W7H[o7H - o1G][f7H]) / W7H[o7H - R1G][f7H];W7H[o7H]["Result " + n7H.name]=O7H;}};j7H.Studies.calculateVolumeIndex=function(B7H,a7H){var e2x=D3mm;var K7H,X7H,R7H,D7m,a7m,G7H,t7H,T7H,A7H;K7H=a7H.inputs.Field;if(!K7H || K7H == "field"){K7H="Close";}X7H=a7H.chart.scrubbed;if(X7H.length < a7H.days + 1){a7H.error=! !1;return;}R7H=100;if(a7H.startFrom > 1){R7H=X7H[a7H.startFrom - +"1"]["Index " + a7H.name];}for(var C7H=Math.max("1" >> 513459904,a7H.startFrom);C7H < X7H.length;C7H++){D7m="Pos Vo";D7m+="l";a7m="ob";a7m+="je";a7m+="ct";G7H=X7H[C7H][K7H];t7H=X7H[C7H].Volume;if(G7H && typeof G7H == "object"){t7H=G7H.Volume;G7H=G7H[a7H.subField];}e2x.H7G(183);T7H=X7H[e2x.C7G("1",C7H)][K7H];A7H=X7H[C7H - 1].Volume;if(T7H && typeof T7H == a7m){A7H=T7H.Volume;T7H=T7H[a7H.subField];}if(!G7H)continue;if(!T7H)continue;if(a7H.type == D7m && t7H > A7H || a7H.type == "Neg Vol" && t7H < A7H){e2x.n7G(20);R7H*=e2x.C7G(T7H,G7H);}X7H[C7H]["Index " + a7H.name]=R7H;}j7H.Studies.MA(a7H.inputs["Moving Average Type"],a7H.days,"Index " + a7H.name,0,"MA",B7H,a7H);};j7H.Studies.studyLibrary=j7H.extend(j7H.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:j7H.Studies.calculateVolumeIndex,inputs:{Period:"255" & 2147483647,Field:"field","Moving Average Type":B7m},outputs:{Index:"auto",MA:t7m}},"On Bal Vol":{name:"On Balance Volume",calculateFN:j7H.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:j7H.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":X7m},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:O7m,calculateFN:j7H.Studies.calculatePriceVolumeTrend,inputs:{Field:F7m}},"Trade Vol":{name:"Trade Volume Index",calculateFN:j7H.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:p7m,calculateFN:function(p7H,M7H){var y7m;if(j7H.Studies.calculateRateOfChange){j7H.Studies.calculateRateOfChange(p7H,M7H);}else {y7m="Volume Rate of Change stu";y7m+="dy requires first activating momentum feature.";console.error(y7m);j7H.Studies.calculateRateOfChange=function(F7H,k7H){};}},parameters:{init:{isVolume:! !"1"}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:E7m,yAxis:{ground:! !{},initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:j7H.Studies.createVolumeChart,calculateFN:j7H.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":s7m},customRemoval:! !1,removeFN:function(V7H,s7H){V7H.layout.volumeUnderlay=!"1";V7H.changeOccurred("layout");},attributes:{panelName:{hidden:!""}}}});}};e54=r7H=>{var s6o=D3mm;var f3V,a3V,D3V,y7H,Q7m,Z7m,h7m;f3V=1055820132;a3V=837132317;D3V=2;for(var t3V=+"1";s6o.g3V(t3V.toString(),t3V.toString().length,69505) !== f3V;t3V++){y7H=typeof _CIQ !== "undefined"?_CIQ:r7H.CIQ;s6o.H7G(41);D3V+=s6o.C7G("2",0);}if(s6o.l0V(D3V.toString(),D3V.toString().length,66462) !== a3V){y7H=-_CIQ == ""?_CIQ:r7H.CIQ;}if(!y7H.Studies){Q7m="vortex feature";Q7m+=" requires first activating studies featur";Q7m+="e.";console.error(Q7m);}else {Z7m="aut";Z7m+="o";h7m="#";h7m+="00F";h7m+="F";h7m+="00";y7H.Studies.calculateVortex=function(H1H,z7H){var c1H,P1H,u7H,b7m,U7H,d1H,l1H,D1H,i1H,Y7m,I7m,e7m,z7m;c1H=z7H.chart.scrubbed;P1H=z7H.days;s6o.P6o();if(c1H.length < P1H + 1){z7H.error=! !{};return;}u7H={tr:0,vmPlus:0,vmMinus:"0" | 0};if(z7H.startFrom > ("1" ^ 0)){u7H=y7H.clone(c1H[z7H.startFrom - 1]["_totals " + z7H.name]);}for(var L1H=Math.max(z7H.startFrom,1);L1H < c1H.length;L1H++){b7m="_";b7m+="Tru";b7m+="e Ra";b7m+="nge ";U7H=c1H[L1H];s6o.H7G(6);d1H=c1H[s6o.C7G(L1H,1)];l1H=Math.abs(U7H.High - d1H.Low);D1H=Math.abs(U7H.Low - d1H.High);i1H=Math.max(U7H.High,d1H.Close) - Math.min(U7H.Low,d1H.Close);u7H.tr+=i1H;u7H.vmPlus+=l1H;u7H.vmMinus+=D1H;if(L1H > P1H){Y7m="_";Y7m+="VM";Y7m+="M";Y7m+="inus ";I7m="_True Ra";I7m+="nge ";s6o.H7G(6);u7H.tr-=c1H[s6o.C7G(L1H,P1H)][I7m + z7H.name];s6o.n7G(6);u7H.vmPlus-=c1H[s6o.C7G(L1H,P1H)]["_VMPlus " + z7H.name];s6o.H7G(6);u7H.vmMinus-=c1H[s6o.C7G(L1H,P1H)][Y7m + z7H.name];}U7H[b7m + z7H.name]=i1H;U7H["_VMPlus " + z7H.name]=l1H;U7H["_VMMinus " + z7H.name]=D1H;if(L1H >= P1H){e7m="-";e7m+="V";e7m+="I";e7m+=" ";z7m="+";z7m+="VI ";U7H[z7m + z7H.name]=u7H.vmPlus / u7H.tr;U7H[e7m + z7H.name]=u7H.vmMinus / u7H.tr;}U7H["_totals " + z7H.name]=y7H.clone(u7H);}};y7H.Studies.studyLibrary=y7H.extend(y7H.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:y7H.Studies.calculateVortex,centerline:1,outputs:{"+VI":h7m,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:"1.1" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:Z7m}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};E54=g1H=>{var P7m,m1H,o7m,H7m,S7m,L7m;P7m="u";D3mm.P6o();P7m+="nde";P7m+="fi";P7m+="ned";m1H=typeof _CIQ !== P7m?_CIQ:g1H.CIQ;if(!m1H.Studies){o7m="w";o7m+="illiamsMFI feature requires first activating studies fea";o7m+="ture.";console.error(o7m);}else {H7m="#";H7m+="f";H7m+="f";H7m+="d0cf";S7m="#a";S7m+="b";S7m+="611f";L7m="0 t";L7m+="o ";L7m+="max";m1H.Studies.calculateMFI=function(I1H,x1H){var w1H,b1H,h1H,v1H,Y1H,j1H,R7m;D3mm.P6o();w1H=x1H.chart.scrubbed;h1H=0;v1H=x1H.inputs["Scale Factor"];if(!v1H){v1H=x1H.study.inputs["Scale Factor"];}Y1H=Math.pow(10,Number(v1H));if(x1H.startFrom > 1){D3mm.n7G(6);var N1G=D3mm.c7G(3,2);h1H=w1H[x1H.startFrom - N1G]["_high " + x1H.name];}for(j1H=x1H.startFrom;j1H < w1H.length;j1H++){if(!w1H[j1H])continue;if(w1H[j1H].Volume){R7m="_";R7m+="hi";R7m+="s";R7m+="t";w1H[j1H][x1H.name + R7m]=b1H=Y1H * (w1H[j1H].High - w1H[j1H].Low) / w1H[j1H].Volume;w1H[j1H]["_high " + x1H.name]=h1H=Math.max(h1H,b1H);}}x1H.outputMap={};x1H.outputMap[x1H.name + "_hist"]="";};m1H.Studies.displayMFI=function(e1H,S1H,o1H){var N7m,f1H,Q1H,W1H,n1H,J1H,O1H,q1H,a1H,X1H,k7m,j7m,u7m,E1H,N1H;N7m="stx";N7m+="_histogra";N7m+="m";f1H=e1H.panels[S1H.panel];Q1H=S1H.getContext(e1H);W1H=S1H.getYAxis(e1H);n1H=W1H.flipped?W1H.top:W1H.bottom;D3mm.Q6o();J1H=e1H.layout.candleWidth - +"2";if(J1H < 2){J1H=1;}O1H=m1H.Studies.determineColor(S1H.outputs.Green);q1H=m1H.Studies.determineColor(S1H.outputs.Fade);a1H=m1H.Studies.determineColor(S1H.outputs.Fake);X1H=m1H.Studies.determineColor(S1H.outputs.Squat);e1H.canvasColor(N7m);if(!S1H.underlay){Q1H.globalAlpha=1;}Q1H.fillStyle="#CCCCCC";e1H.startClip(S1H.panel);if(!S1H.highlight && e1H.highlightedDraggable){Q1H.globalAlpha*=0.3;}for(var Z1H=0;Z1H < o1H.length;Z1H++){k7m="_his";k7m+="t";j7m="_hi";j7m+="s";j7m+="t";u7m="_hi";u7m+="s";u7m+="t";E1H=o1H[Z1H];D3mm.n7G(6);N1H=o1H[D3mm.c7G(Z1H,1)];if(!N1H){N1H=e1H.getPreviousBar(e1H.chart,S1H.name + "_hist",Z1H);}if(!E1H)continue;if(!N1H);else if(N1H[S1H.name + u7m] < E1H[S1H.name + "_hist"]){if(N1H.Volume < E1H.Volume){Q1H.fillStyle=O1H;}else if(N1H.Volume > E1H.Volume){Q1H.fillStyle=a1H;}}else if(N1H[S1H.name + "_hist"] > E1H[S1H.name + j7m]){if(N1H.Volume < E1H.Volume){Q1H.fillStyle=X1H;}else if(N1H.Volume > E1H.Volume){Q1H.fillStyle=q1H;}}if(E1H.candleWidth){J1H=Math.floor(Math.max(1,E1H.candleWidth - 2));}Q1H.fillRect(Math.floor(e1H.pixelFromBar(Z1H,f1H.chart) - J1H / +"2"),Math.floor(n1H),Math.floor(J1H),Math.floor(e1H.pixelFromPrice(E1H[S1H.name + k7m],f1H,W1H) - n1H));}e1H.endClip();};m1H.Studies.studyLibrary=m1H.extend(m1H.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:m1H.Studies.displayMFI,calculateFN:m1H.Studies.calculateMFI,yAxis:{ground:! !"1"},range:L7m,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:S7m,Fake:"#5f7cb8",Squat:H7m}}});}};n54={CIQ:L94,SplinePlotter:Q54,timezoneJS:J54,$$:W54,$$$:o54};export {c94 as aggregations};export {P94 as drawingAdvanced};export {d94 as equationsAdvanced};export {l94 as highPerformanceMarkers};export {D94 as renderersAdvanced};export {i94 as accumulationDistribution};export {H94 as adx};export {m94 as alligator};export {g94 as aroon};export {x94 as atr};D3mm.P6o();export {w94 as awesomeOscillator};export {j94 as balanceOfPower};export {h94 as bollinger};export {v94 as cci};export {b94 as centerOfGravity};export {Y94 as chaikin};export {I94 as chande};export {S94 as choppiness};export {e94 as comparisonStudies};export {E94 as coppock};export {N94 as darvasBox};export {Q94 as detrended};export {Z94 as disparity};export {J94 as easeOfMovement};export {W94 as ehlerFisher};export {o94 as elder};export {f94 as fractalChaos};export {n94 as highLowStudies};export {O94 as ichimoku};export {q94 as intradayMomentum};export {a94 as keltner};export {X94 as klinger};export {C94 as linearRegression};export {G94 as macd};export {T94 as massIndex};export {K94 as moneyFlow};export {R94 as movingAverages};export {t94 as parabolicSAR};export {A94 as pivotPoints};export {B94 as prettyGoodOscillator};export {p94 as priceMomentumOscillator};export {M94 as priceVolumeOscillator};export {F94 as primeNumber};export {k94 as pring};export {V94 as projectedVolume};export {s94 as psychologicalLine};export {y94 as qstick};export {r94 as rainbow};export {z94 as randomWalk};export {u94 as relativeVigor};export {U94 as rsi};export {c54 as schaffTrendCycle};export {P54 as shinohara};export {l54 as stochastics};export {H54 as supertrend};export {m54 as swingIndex};export {g54 as trendIntensity};export {x54 as trix};export {w54 as twiggsMoneyFlow};export {j54 as typicalPrice};export {h54 as ulcerIndex};export {v54 as ultimateOscillator};export {b54 as valuationLines};export {Y54 as volatilityIndex};export {I54 as volumeProfile};export {S54 as volumeStudies};export {e54 as vortex};export {E54 as williamsMFI};export {L94 as CIQ, Q54 as SplinePlotter, J54 as timezoneJS, W54 as $$, o54 as $$$};if(typeof __TREE_SHAKE__ === p5ii || !__TREE_SHAKE__){(n54.CIQ || L94).activateImports(c94,P94,d94,l94,D94,i94,H94,m94,g94,x94,w94,j94,h94,v94,b94,Y94,I94,S94,e94,E94,N94,Q94,Z94,J94,W94,o94,f94,n94,O94,q94,a94,X94,C94,G94,T94,K94,R94,t94,A94,B94,p94,M94,F94,k94,V94,s94,y94,r94,z94,u94,U94,c54,P54,l54,H54,m54,g54,x54,w54,j54,h54,v54,b54,Y54,I54,S54,e54,E54,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
